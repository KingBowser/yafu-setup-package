------------------------------------------------------------------------
r2438 | kruppa | 2013-02-27 16:16:07 +0100 (Wed, 27 Feb 2013) | 3 lines

Remove -t option from man page
Makefile should look for ecm.xml in $(source)/

------------------------------------------------------------------------
r2436 | kruppa | 2013-02-26 19:46:56 +0100 (Tue, 26 Feb 2013) | 2 lines

Replaced several alloca() by malloc() to avoid segfault with very large P+-1
stage 2

------------------------------------------------------------------------
r2435 | kruppa | 2013-02-26 19:44:05 +0100 (Tue, 26 Feb 2013) | 2 lines

Removed memory lead due to surplus mpres_init()

------------------------------------------------------------------------
r2434 | zimmerma | 2013-02-22 15:07:14 +0100 (Fri, 22 Feb 2013) | 2 lines

[main.c] removed -t option (should have been removed in r1860)

------------------------------------------------------------------------
r2433 | kruppa | 2013-02-22 13:26:09 +0100 (Fri, 22 Feb 2013) | 3 lines

Use malloc() instead of alloca() for tmp in mpn_fft_fft_bailey_decompose() 
to avoid segfault with very large stage 2

------------------------------------------------------------------------
r2422 | zimmerma | 2013-02-19 21:04:41 +0100 (Tue, 19 Feb 2013) | 2 lines

[champions.h] updated for ECM

------------------------------------------------------------------------
r2421 | zimmerma | 2013-02-19 21:02:29 +0100 (Tue, 19 Feb 2013) | 2 lines

[ChangeLog] updated

------------------------------------------------------------------------
r2419 | zimmerma | 2013-02-19 20:58:19 +0100 (Tue, 19 Feb 2013) | 2 lines

[INSTALL-ecm] updated

------------------------------------------------------------------------
r2417 | zimmerma | 2013-02-19 20:42:03 +0100 (Tue, 19 Feb 2013) | 2 lines

[NEWS] updated

------------------------------------------------------------------------
r2416 | kruppa | 2013-02-19 19:42:04 +0100 (Tue, 19 Feb 2013) | 5 lines

Merged r1971 from trunk:
  applied patch from Leif Leonhardy to make the assembly code work with
  --enable-shared (see http://trac.sagemath.org/sage_trac/ticket/11705)


------------------------------------------------------------------------
r2414 | kruppa | 2013-02-19 17:36:35 +0100 (Tue, 19 Feb 2013) | 2 lines

Updated changelog

------------------------------------------------------------------------
r2413 | kruppa | 2013-02-19 16:15:15 +0100 (Tue, 19 Feb 2013) | 2 lines

Test was backwards :(

------------------------------------------------------------------------
r2412 | kruppa | 2013-02-19 16:10:27 +0100 (Tue, 19 Feb 2013) | 2 lines

Define correct __gmpn_redc_{12} prototype for GMP <5.1. Define REDC{12}
macros only if the functions exist.

------------------------------------------------------------------------
r2411 | kruppa | 2013-02-19 13:29:43 +0100 (Tue, 19 Feb 2013) | 2 lines

Use defined() for HAVE_ALLOCA_H test

------------------------------------------------------------------------
r2407 | kruppa | 2013-02-15 14:22:50 +0100 (Fri, 15 Feb 2013) | 2 lines

MinGW has alloca() prototype in malloc.h

------------------------------------------------------------------------
r2406 | kruppa | 2013-02-14 13:08:03 +0100 (Thu, 14 Feb 2013) | 3 lines

Merging r2344:
Remove stray '$'

------------------------------------------------------------------------
r2405 | kruppa | 2013-02-13 19:18:14 +0100 (Wed, 13 Feb 2013) | 2 lines

Update version numbers for 6.4.4

------------------------------------------------------------------------
r2404 | kruppa | 2013-02-13 18:31:09 +0100 (Wed, 13 Feb 2013) | 2 lines

Fixed typo

------------------------------------------------------------------------
r2402 | kruppa | 2013-02-13 17:55:16 +0100 (Wed, 13 Feb 2013) | 2 lines

Merge r2401 into 6.4.4 branch

------------------------------------------------------------------------
r2400 | kruppa | 2013-02-13 17:49:56 +0100 (Wed, 13 Feb 2013) | 2 lines

Merge of commit r2320

------------------------------------------------------------------------
r2399 | kruppa | 2013-02-13 17:42:57 +0100 (Wed, 13 Feb 2013) | 1 line

Branch for patchlevel release 6.4.4

------------------------------------------------------------------------
r2096 | kruppa | 2012-06-12 17:35:10 +0200 (Tue, 12 Jun 2012) | 2 lines
Changed paths:
   M /branches/6.4.3/build.vc10/Makefile.am

Removed bench_mulredc from EXTRA_DIST to avoid including .svn dir in
distribution

------------------------------------------------------------------------
r2095 | kruppa | 2012-06-12 17:26:17 +0200 (Tue, 12 Jun 2012) | 2 lines
Changed paths:
   M /branches/6.4.3/TODO
   M /branches/6.4.3/ecm.1
   M /branches/6.4.3/ecm.xml

Remove incorrect hypen in "Peter Lawrence Montgomery"

------------------------------------------------------------------------
r2094 | brian_gladman | 2012-06-12 17:23:55 +0200 (Tue, 12 Jun 2012) | 1
line
Changed paths:
   M /branches/6.4.3/build.vc10/tests.py

Add a few more tests that I missed earlier

------------------------------------------------------------------------
r2093 | brian_gladman | 2012-06-12 16:45:25 +0200 (Tue, 12 Jun 2012) | 1
line
Changed paths:
   M /branches/6.4.3/build.vc10/config.h
   M /branches/6.4.3/build.vc10/readme.txt
   M /branches/6.4.3/build.vc10/tests.py

Minor update to Windows files and add new tests

------------------------------------------------------------------------
r2090 | kruppa | 2012-06-12 14:48:43 +0200 (Tue, 12 Jun 2012) | 2 lines
Changed paths:
   M /trunk/test.pm1

Added test for bug fixed in revision 2068

------------------------------------------------------------------------
r2088 | kruppa | 2012-06-12 14:16:03 +0200 (Tue, 12 Jun 2012) | 2 lines
Changed paths:
   M /trunk/NEWS

Updated for 6.4.3 release

------------------------------------------------------------------------
r2082 | kruppa | 2012-06-07 14:20:20 +0200 (Thu, 07 Jun 2012) | 2 lines
Changed paths:
   M /trunk/cudawrapper.c
   M /trunk/ecm-ecm.h
   M /trunk/ecm-impl.h
   M /trunk/factor.c
   M /trunk/main.c
   M /trunk/random.c

Make random value more 64-bit-like, following suggestion by Jayson King

------------------------------------------------------------------------
r2072 | zimmerma | 2012-06-04 10:33:24 +0200 (Mon, 04 Jun 2012) | 2 lines
Changed paths:
   M /trunk/NEWS

[NEWS] added item

------------------------------------------------------------------------
r2068 | kruppa | 2012-06-01 23:15:44 +0200 (Fri, 01 Jun 2012) | 2 lines
Changed paths:
   M /trunk/mpzspm.c

Replace mpz_init_set_ui() by mpz_set_sp() so it works under Windows

------------------------------------------------------------------------
r1878 | zimmerma | 2012-03-19 10:11:57 +0100 (Mon, 19 Mar 2012) | 2 lines
Changed paths:
   M /trunk/ecm-params.h.athlon64
   M /trunk/ecm-params.h.core2
   M /trunk/ecm-params.h.corei5

updated default tuning parameters

------------------------------------------------------------------------
r1877 | bouvierc | 2012-03-18 22:31:30 +0100 (Sun, 18 Mar 2012) | 2 lines
Changed paths:
   D /trunk/gpu/gpu_ecm_cc13

Remove old gpu code.

------------------------------------------------------------------------
r1876 | brian_gladman | 2012-03-17 22:42:08 +0100 (Sat, 17 Mar 2012) | 1 line
Changed paths:
   M /trunk/build.vc10/ecm/ecm.vcxproj
   M /trunk/build.vc10/ecm/ecm.vcxproj.filters

remove trial.c from VC++ build
------------------------------------------------------------------------
r1875 | zimmerma | 2012-03-17 10:36:43 +0100 (Sat, 17 Mar 2012) | 3 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/mpzspm.c
   M /trunk/mpzspv.c
   M /trunk/sp.h
   M /trunk/spm.c

implement new LSB reduction of residues mod small primes in mpzspv.c,
yields significant speedup

------------------------------------------------------------------------
r1874 | zimmerma | 2012-03-17 08:08:46 +0100 (Sat, 17 Mar 2012) | 3 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/ellparam_batch.c

[batch.c] fixed copyright years and typo
[ellparam_batch.c] fixed copyright years

------------------------------------------------------------------------
r1873 | bouvierc | 2012-03-16 18:38:41 +0100 (Fri, 16 Mar 2012) | 2 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/ellparam_batch.c

Wrong names in the Copyright.

------------------------------------------------------------------------
r1872 | zimmerma | 2012-03-16 18:35:39 +0100 (Fri, 16 Mar 2012) | 2 lines
Changed paths:
   D /trunk/gpu/getprime.c
   D /trunk/gpu/getprime.h
   D /trunk/gpu/makefile
   D /trunk/gpu/modular_arithmetic.c
   D /trunk/gpu/modular_arithmetic.h
   D /trunk/gpu/prototype.c
   D /trunk/gpu/prototype.h
   D /trunk/gpu/stage1-c.c
   D /trunk/gpu/stage1.c

removed obsolete files

------------------------------------------------------------------------
r1871 | bouvierc | 2012-03-16 18:08:34 +0100 (Fri, 16 Mar 2012) | 2 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/ellparam_batch.c
   M /trunk/main.c

Add licence in batch.c and ellparam_batch.c

------------------------------------------------------------------------
r1867 | zimmerma | 2012-03-16 17:03:40 +0100 (Fri, 16 Mar 2012) | 2 lines
Changed paths:
   M /trunk/Fgw.c
   M /trunk/Makefile.am
   M /trunk/NEWS
   M /trunk/auxarith.c
   M /trunk/auxi.c
   M /trunk/auxlib.c
   M /trunk/b1_ainc.c
   M /trunk/bestd.c
   M /trunk/build.vc10/config.h
   M /trunk/candi.c
   M /trunk/configure.in
   D /trunk/countsmooth.c
   M /trunk/ecm-ecm.h
   M /trunk/ecm-gmp.h
   M /trunk/ecm-impl.h
   M /trunk/ecm.c
   M /trunk/ecm.h
   M /trunk/ecm2.c
   M /trunk/ecm_ntt.c
   M /trunk/ecmfactor.c
   M /trunk/eval.c
   M /trunk/factor.c
   M /trunk/getprime.c
   M /trunk/gpu/getprime.c
   M /trunk/gpu/modular_arithmetic.c
   M /trunk/gpu/prototype.c
   M /trunk/gpu/stage1-c.c
   M /trunk/gpu/stage1.c
   M /trunk/ks-multiply.c
   M /trunk/listz.c
   M /trunk/lucas.c
   M /trunk/main.c
   M /trunk/median.c
   M /trunk/memory.c
   M /trunk/mpmod.c
   M /trunk/mpmod.h
   M /trunk/mpzspm.c
   M /trunk/mpzspv.c
   M /trunk/mul_fft.c
   M /trunk/mul_lo.c
   A /trunk/nodist/rho.gp (from /trunk/rho.gp:1864)
   M /trunk/ntt_gfp.c
   M /trunk/pm1.c
   M /trunk/pm1fs2.c
   M /trunk/polyeval.c
   M /trunk/powerpc64/mulredc.m4
   M /trunk/powerpc64/mulredc_1_2.m4
   M /trunk/powerpc64/redc.asm
   M /trunk/pp1.c
   M /trunk/random.c
   M /trunk/resume.c
   M /trunk/rho.c
   D /trunk/rho.gp
   D /trunk/runecm2.c
   M /trunk/schoen_strass.c
   M /trunk/sets_long.c
   M /trunk/sp.c
   M /trunk/sp.h
   M /trunk/spm.c
   M /trunk/spv.c
   M /trunk/stage2.c
   M /trunk/test.ecm
   M /trunk/test.pm1
   M /trunk/test.pp1
   M /trunk/testlong.pp1
   M /trunk/toomcook.c
   M /trunk/tune.c

updated the copyright headers to GPL 3 and LGPL 3

------------------------------------------------------------------------
r1866 | zimmerma | 2012-03-16 16:05:59 +0100 (Fri, 16 Mar 2012) | 2 lines
Changed paths:
   A /trunk/nodist/countsmooth.c (from /trunk/countsmooth.c:1864)
   A /trunk/nodist/runecm2.c (from /trunk/runecm2.c:1864)

moved countsmooth.c and runecm2.c to nodist

------------------------------------------------------------------------
r1865 | zimmerma | 2012-03-16 16:04:58 +0100 (Fri, 16 Mar 2012) | 2 lines
Changed paths:
   A /trunk/nodist

[nodist] new directory for non-distributed files

------------------------------------------------------------------------
r1864 | bouvierc | 2012-03-16 14:50:33 +0100 (Fri, 16 Mar 2012) | 3 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/Makefile
   M /trunk/gpu/gpu_ecm/utils.h

Forgot to commit the new Makefile!
Now include also directly ecm-ecm.h in gpu/gpu_ecm/utils.h

------------------------------------------------------------------------
r1863 | bouvierc | 2012-03-16 14:37:12 +0100 (Fri, 16 Mar 2012) | 7 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/ecm-impl.h
   M /trunk/gpu/gpu_ecm/main.c
   M /trunk/gpu/gpu_ecm/utils.h
   M /trunk/random.c

Rewriting Makefile of GPUECM to separate libecm file from ecm-ecm file.
[Makefile] Separate file from libecm. Goal: linking directly libecm.
[batch.c] Now only include ecm-impl.h 
[random.c] No outputf in GPUECM
[main.c] change #define to avoid conflicts


------------------------------------------------------------------------
r1862 | zimmerma | 2012-03-16 10:21:32 +0100 (Fri, 16 Mar 2012) | 2 lines
Changed paths:
   D /trunk/ecmfactor2.c

[ecmfactor2.c] removed unmaintained program

------------------------------------------------------------------------
r1861 | zimmerma | 2012-03-16 10:16:14 +0100 (Fri, 16 Mar 2012) | 2 lines
Changed paths:
   D /trunk/bestdaux.c

[bestdaux.c] removed unused file

------------------------------------------------------------------------
r1860 | zimmerma | 2012-03-16 10:05:05 +0100 (Fri, 16 Mar 2012) | 2 lines
Changed paths:
   D /trunk/trial.c

[trial.c] removed unmaintained and untested file

------------------------------------------------------------------------
r1859 | zimmerma | 2012-03-16 09:39:46 +0100 (Fri, 16 Mar 2012) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/mpmod.c
   M /trunk/test.ecm

[test.ecm] added one test
[mpmod.c] added an ASSERT
[Makefile.am] missing tab

------------------------------------------------------------------------
r1858 | zimmerma | 2012-03-16 08:51:11 +0100 (Fri, 16 Mar 2012) | 2 lines
Changed paths:
   M /trunk/tune.c

[tune.c] removed trailing blank

------------------------------------------------------------------------
r1857 | zimmerma | 2012-03-16 08:13:22 +0100 (Fri, 16 Mar 2012) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/test.pm1
   M /trunk/test.pp1

[test.pp1] added one test and removed blank line at the end
[test.pm1] removed blank line at the end
[Makefile.am] added blank line between tests

------------------------------------------------------------------------
r1856 | bouvierc | 2012-03-15 19:05:05 +0100 (Thu, 15 Mar 2012) | 2 lines
Changed paths:
   M /trunk/batch.c

Forgot to remove unused variables.

------------------------------------------------------------------------
r1855 | zimmerma | 2012-03-15 19:00:20 +0100 (Thu, 15 Mar 2012) | 2 lines
Changed paths:
   M /trunk/mpmod.c

[mpmod.c] fixed wrong patch in r1851

------------------------------------------------------------------------
r1854 | bouvierc | 2012-03-15 16:01:21 +0100 (Thu, 15 Mar 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/cudakernel.cu

Changes in Cuda_Dbl_mod

------------------------------------------------------------------------
r1853 | bouvierc | 2012-03-15 13:29:24 +0100 (Thu, 15 Mar 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/cudakernel.cu

Rewrite Normalize function.

------------------------------------------------------------------------
r1852 | bouvierc | 2012-03-15 13:27:47 +0100 (Thu, 15 Mar 2012) | 2 lines
Changed paths:
   M /trunk/batch.c

Rewrite dup_add_batch2 with 6 residues (like dup_add_batch1)

------------------------------------------------------------------------
r1851 | zimmerma | 2012-03-15 12:09:28 +0100 (Thu, 15 Mar 2012) | 5 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/mpmod.c

[mpmod.c] fixed bug in ecm_redc_n (found on gcc45 and gcc61),
	  probably a new release 6.4.2 is needed
[batch.c] reduced number of auxiliary variables from 5 to 2 in dup_add_batch1
	  (remains to do the same in dup_add_batch2)

------------------------------------------------------------------------
r1850 | zimmerma | 2012-03-15 08:08:05 +0100 (Thu, 15 Mar 2012) | 4 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/build.vc10/config.h
   M /trunk/configure.in
   M /trunk/main.c
   M /trunk/test.ecm

[configure.in,build.vc10/config.h] bump version to 7.0-dev
[main.c] make batch=1 mode the default one for ECM
[test.ecm] added -batch=0 where needed

------------------------------------------------------------------------
r1847 | zimmerma | 2012-03-14 23:19:47 +0100 (Wed, 14 Mar 2012) | 2 lines
Changed paths:
   M /trunk/mpzspv.c

[mpzspv.c] added note about possible improvement in mpzspv_from_mpzv_slow()

------------------------------------------------------------------------
r1846 | zimmerma | 2012-03-14 20:38:17 +0100 (Wed, 14 Mar 2012) | 2 lines
Changed paths:
   M /trunk/README.dev

[README.dev] added tag for 6.4.1 release

------------------------------------------------------------------------
r1844 | zimmerma | 2012-03-14 18:29:22 +0100 (Wed, 14 Mar 2012) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/build.vc10/config.h
   M /trunk/configure.in

This will be the 6.4.1 release (if all final tests pass)

------------------------------------------------------------------------
r1842 | zimmerma | 2012-03-14 18:25:52 +0100 (Wed, 14 Mar 2012) | 5 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/ecm-impl.h
   M /trunk/ecm-params.h.hppa2.0
   M /trunk/ecm-params.h.ia64
   M /trunk/ecm-params.h.mips64el
   M /trunk/ecm-params.h.powerpc970
   M /trunk/ecm-params.h.sparc64

updated various tuning parameters
[configure.in] tuning parameters for ia64 and hppa2.0 were not used!
               Also fixed check for MPIR
[ecm-impl.h] fixed // comment

------------------------------------------------------------------------
r1840 | zimmerma | 2012-03-14 16:46:05 +0100 (Wed, 14 Mar 2012) | 2 lines
Changed paths:
   M /trunk/ecm.c

[ecm.c] removed computation of number of MULs and SQRs, to save a few cycles

------------------------------------------------------------------------
r1839 | bouvierc | 2012-03-14 15:47:08 +0100 (Wed, 14 Mar 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/cudakernel.cu

Change in modular substraction.

------------------------------------------------------------------------
r1838 | zimmerma | 2012-03-14 15:35:59 +0100 (Wed, 14 Mar 2012) | 2 lines
Changed paths:
   M /trunk/tune.c

[tune.c] check for failed memory allocation

------------------------------------------------------------------------
r1837 | bouvierc | 2012-03-14 15:28:56 +0100 (Wed, 14 Mar 2012) | 4 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/cudakernel.cu

Add specific code for mul for CC 2.0 cards.
Treat differently access to constant variables.
  -> results in significant speed-up.

------------------------------------------------------------------------
r1836 | bouvierc | 2012-03-14 15:04:39 +0100 (Wed, 14 Mar 2012) | 3 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/cudakernel.cu

Rewriting addition, substraction and multiplication by 2. No comparison is
needed anymore so Cuda_Cmp is removed.

------------------------------------------------------------------------
r1835 | bouvierc | 2012-03-14 14:53:30 +0100 (Wed, 14 Mar 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/cudakernel.cu

Rewrite #define for asm statement.

------------------------------------------------------------------------
r1834 | zimmerma | 2012-03-14 09:27:53 +0100 (Wed, 14 Mar 2012) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/bench_mulredc.c

[bench_mulredc.c] only print to stdout what goes to ecm-params.h so that we can
		  do ./bench_mulredc >> ecm-params.h
[Makefile.am] build bench_mulredc by default

------------------------------------------------------------------------
r1833 | zimmerma | 2012-03-13 21:04:49 +0100 (Tue, 13 Mar 2012) | 2 lines
Changed paths:
   M /trunk/ecm-params.h.core2

[ecm-params.h.core2] updated

------------------------------------------------------------------------
r1832 | zimmerma | 2012-03-13 18:19:44 +0100 (Tue, 13 Mar 2012) | 3 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/build.vc10/config.h
   M /trunk/configure.in

[configure.in,build.vc10/config.h] changed version to 6.4.1-rc3
[ChangeLog] updated

------------------------------------------------------------------------
r1831 | zimmerma | 2012-03-13 13:47:38 +0100 (Tue, 13 Mar 2012) | 2 lines
Changed paths:
   M /trunk/mpzspv.c

[mpzspv.c] removed call to ecm_bdiv_r_1 since it is not working

------------------------------------------------------------------------
r1830 | zimmerma | 2012-03-13 13:15:09 +0100 (Tue, 13 Mar 2012) | 5 lines
Changed paths:
   M /trunk/ecm-params.h.corei5
   M /trunk/mpzspv.c

[ecm-params.h.corei5] updated
[mpzspv.c] removed new code with mpn_preinv_mod_1() in mpzspv_from_mpzv_slow
	   since it was wrong (added comment explaining why)
	   added new ecm_bdiv_r_1 code (disabled for now)

------------------------------------------------------------------------
r1829 | brian_gladman | 2012-03-13 10:22:16 +0100 (Tue, 13 Mar 2012) | 1 line
Changed paths:
   M /trunk/build.vc10/bench_mulredc/bench_mulredc.vcxproj
   M /trunk/build.vc10/bench_mulredc/bench_mulredc.vcxproj.filters
   M /trunk/sp.h

ensure ATTRIBUTE_UNUSED is defined as empty for MSVC in sp.h
------------------------------------------------------------------------
r1828 | bouvierc | 2012-03-13 09:47:07 +0100 (Tue, 13 Mar 2012) | 3 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/Makefile
   M /trunk/gpu/gpu_ecm/cudakernel.cu

[cudakernel.cu] Fix a bug
[Makefile] Add 32-bit lib for CUDA 

------------------------------------------------------------------------
r1827 | brian_gladman | 2012-03-13 09:43:40 +0100 (Tue, 13 Mar 2012) | 1 line
Changed paths:
   M /trunk/build.vc10/bench_mulredc
   D /trunk/build.vc10/bench_mulredc/bench_mulredc.vcxproj.user

remove file uploaded in error
------------------------------------------------------------------------
r1826 | zimmerma | 2012-03-13 09:24:34 +0100 (Tue, 13 Mar 2012) | 2 lines
Changed paths:
   M /trunk/ecm-params.h.athlon64

[ecm-params.h.athlon64] redo tuning

------------------------------------------------------------------------
r1825 | zimmerma | 2012-03-13 08:46:17 +0100 (Tue, 13 Mar 2012) | 2 lines
Changed paths:
   M /trunk/README
   M /trunk/bench_mulredc.c

changes suggested by David Cleaver for Windows+MingW64+Msys

------------------------------------------------------------------------
r1824 | zimmerma | 2012-03-13 08:30:42 +0100 (Tue, 13 Mar 2012) | 2 lines
Changed paths:
   M /trunk/sp.h

[sp.h] removed more compiler warnings (on gcc110)

------------------------------------------------------------------------
r1823 | zimmerma | 2012-03-13 08:17:49 +0100 (Tue, 13 Mar 2012) | 2 lines
Changed paths:
   M /trunk/eval.c

[eval.c] fixed compiler warnings (found on gcc70)

------------------------------------------------------------------------
r1822 | zimmerma | 2012-03-12 23:00:07 +0100 (Mon, 12 Mar 2012) | 4 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/mpzspv.c
   M /trunk/spm.c

[mpzspv.c] use __gmpn_preinv_mod_1 in mpzspv_from_mpzv_slow()
[configure.in] recognize __gmpn_preinv_mod_1
[spm.c] fixed typo

------------------------------------------------------------------------
r1821 | zimmerma | 2012-03-12 19:59:40 +0100 (Mon, 12 Mar 2012) | 2 lines
Changed paths:
   M /trunk/test.ecm

[test.ecm] modified batch1 test which was not working on 32-bit

------------------------------------------------------------------------
r1820 | zimmerma | 2012-03-12 18:25:09 +0100 (Mon, 12 Mar 2012) | 2 lines
Changed paths:
   M /trunk/test.ecm

[test.ecm] added two non-regression tests for bug fixed by r1819

------------------------------------------------------------------------
r1819 | zimmerma | 2012-03-12 17:43:22 +0100 (Mon, 12 Mar 2012) | 2 lines
Changed paths:
   M /trunk/mpmod.c

[mpmod.c] fixed bug in mpresn_addsub (found on gcc45)

------------------------------------------------------------------------
r1818 | zimmerma | 2012-03-12 16:18:22 +0100 (Mon, 12 Mar 2012) | 5 lines
Changed paths:
   M /trunk/bench_mulredc.c

[bench_mulredc.c] use same cputime() function as in auxlib.c
		  (should work on Windows too) and setup number of iterations
		  to get about 100ms for each test (avoid long time on slow
		  computers)

------------------------------------------------------------------------
r1817 | zimmerma | 2012-03-12 14:48:29 +0100 (Mon, 12 Mar 2012) | 7 lines
Changed paths:
   M /trunk/COPYING
   M /trunk/COPYING.LIB
   M /trunk/Makefile.am
   M /trunk/NEWS
   M /trunk/bench_mulredc.c
   M /trunk/longlong.h
   M /trunk/mpmod.c
   M /trunk/pm1fs2.c

[COPYING,COPYING.LIB] switched to GPL v3 and LGPL v3
[bench_mulredc.c,Makefile.am] fix for --disable-asm-redc
[NEWS] added new items
[longlong.h] copied umul_ppmm code for MIPS from GMP 5.0.4
[mpmod.c] now use mulredc_1 when available
[pm1fs2.c] fixed issue when sizeof(unsigned long) < sizeof(sp_t)

------------------------------------------------------------------------
r1816 | brian_gladman | 2012-03-12 12:28:43 +0100 (Mon, 12 Mar 2012) | 1 line
Changed paths:
   D /trunk/build.vc10/ecm.cuda.sln
   A /trunk/build.vc10/gpu_ecm.sln (from /trunk/build.vc10/ecm.cuda.sln:1814)

rename the Visual Studio solution for the gpu build to gpu_ecm  
------------------------------------------------------------------------
r1815 | brian_gladman | 2012-03-12 12:21:16 +0100 (Mon, 12 Mar 2012) | 1 line
Changed paths:
   A /trunk/build.vc10/getopt.c
   A /trunk/build.vc10/getopt.h

add files needed for the gpu build with MS Visual Studio and Nvidia Nsight 
------------------------------------------------------------------------
r1814 | brian_gladman | 2012-03-12 12:05:58 +0100 (Mon, 12 Mar 2012) | 1 line
Changed paths:
   M /trunk/build.vc10/config.h

update to match MPIR 2.5.1 (which now has mpn_redc_2) 
------------------------------------------------------------------------
r1813 | zimmerma | 2012-03-12 09:25:24 +0100 (Mon, 12 Mar 2012) | 2 lines
Changed paths:
   M /trunk/bench_mulredc.c

[bench_mulredc.c] fixed compiler warning

------------------------------------------------------------------------
r1809 | zimmerma | 2012-03-11 18:55:19 +0100 (Sun, 11 Mar 2012) | 3 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/build.vc10/config.h
   M /trunk/configure.in

[batch.c] fixed bug since d_1 might not fit in an "unsigned long" on Windows
[configure.in,build.vc10/config.h] bump version number to 6.4.1-rc2

------------------------------------------------------------------------
r1808 | zimmerma | 2012-03-10 11:47:44 +0100 (Sat, 10 Mar 2012) | 2 lines
Changed paths:
   M /trunk/ecm-params.h.athlon64
   M /trunk/ecm-params.h.core2
   M /trunk/ecm-params.h.corei5

added tuning parameters for MPIR

------------------------------------------------------------------------
r1807 | zimmerma | 2012-03-10 11:26:20 +0100 (Sat, 10 Mar 2012) | 2 lines
Changed paths:
   M /trunk/configure.in

[configure.in] recognize if GMP is MPIR

------------------------------------------------------------------------
r1806 | zimmerma | 2012-03-10 10:49:20 +0100 (Sat, 10 Mar 2012) | 3 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/ecm-impl.h
   M /trunk/mpmod.c

[mpmod.c] new function mpresn_unpad to normalize mpz_t values
[batch.c] don't forget to normalize x1 and z1 at the end!!!

------------------------------------------------------------------------
r1805 | zimmerma | 2012-03-10 10:33:46 +0100 (Sat, 10 Mar 2012) | 2 lines
Changed paths:
   M /trunk/test.ecm

[test.ecm] fixed for new batch1 reduction

------------------------------------------------------------------------
r1804 | zimmerma | 2012-03-09 22:50:17 +0100 (Fri, 09 Mar 2012) | 2 lines
Changed paths:
   M /trunk/README
   M /trunk/bench_mulredc.c
   M /trunk/configure.in
   M /trunk/ecm-gmp.h
   M /trunk/ecm-params.h.athlon64
   M /trunk/ecm-params.h.core2
   M /trunk/ecm-params.h.corei5
   M /trunk/mpmod.c
   M /trunk/mpmod.h
   M /trunk/test_mulredc.c
   M /trunk/x86_64/Makefile.am

removed ecm_redc3 code from x86_64 (variable-size REDC assembly code)

------------------------------------------------------------------------
r1802 | zimmerma | 2012-03-09 18:21:09 +0100 (Fri, 09 Mar 2012) | 2 lines
Changed paths:
   M /trunk/mpmod.c

[mpmod.c] fixed error when __gmpn_add_nc is not defined

------------------------------------------------------------------------
r1801 | zimmerma | 2012-03-09 18:13:48 +0100 (Fri, 09 Mar 2012) | 5 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/ecm-impl.h
   M /trunk/ecm.c
   M /trunk/main.c
   M /trunk/mpmod.c
   M /trunk/test.ecm

Change the definition of d in batch1 mode from mp_limb_t to mp_limb_t/B
so that we can use LSB (Montgomery) division instead of MSB division,
this gives a nice speedup. However this changes the input parameter A,
and some tests are still failing. Do not use this version in production!

------------------------------------------------------------------------
r1800 | bouvierc | 2012-03-09 15:21:35 +0100 (Fri, 09 Mar 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/Makefile

Dependencies in Makefile for GPU-ECM

------------------------------------------------------------------------
r1799 | zimmerma | 2012-03-09 10:49:47 +0100 (Fri, 09 Mar 2012) | 6 lines
Changed paths:
   M /trunk/README.dev
   M /trunk/batch.c
   M /trunk/configure.in
   M /trunk/ecm-impl.h
   M /trunk/mpmod.c

fixed various problems with ecm-6.4.1-rc1 reported by David Cleaver
(http://lists.gforge.inria.fr/pipermail/ecm-discuss/2012-March/004144.html):
* replaced unsigned long by mp_limb_t in batch=1 (under Windows, unsigned long
  has 32 bits only)
* configure.in: added -lm for mathematical functions

------------------------------------------------------------------------
r1798 | zimmerma | 2012-03-08 13:11:00 +0100 (Thu, 08 Mar 2012) | 2 lines
Changed paths:
   M /trunk/Makefile.am

[Makefile.am] GMPLIB is not needed for libecm

------------------------------------------------------------------------
r1797 | zimmerma | 2012-03-08 10:11:52 +0100 (Thu, 08 Mar 2012) | 2 lines
Changed paths:
   M /trunk/sets_long.c

[sets_long.c] added comments

------------------------------------------------------------------------
r1796 | zimmerma | 2012-03-08 08:40:29 +0100 (Thu, 08 Mar 2012) | 2 lines
Changed paths:
   M /trunk/Makefile.am

[Makefile.am] forgot ecm-params.h.corei5

------------------------------------------------------------------------
r1795 | zimmerma | 2012-03-07 16:41:21 +0100 (Wed, 07 Mar 2012) | 2 lines
Changed paths:
   M /trunk/NEWS

[NEWS] fixed typo

------------------------------------------------------------------------
r1794 | zimmerma | 2012-03-07 16:36:37 +0100 (Wed, 07 Mar 2012) | 7 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/INSTALL-ecm
   M /trunk/NEWS
   M /trunk/README.dev
   M /trunk/bench_mulredc.c
   M /trunk/ecmbench

[bench_mulredc.c] fix for Svoboda
[NEWS] updated for 6.4.1
[ChangeLog] idem
[INSTALL-ecm] ibidem
[ecmbench] rm -> rm -f
[README.dev] updated

------------------------------------------------------------------------
r1793 | bouvierc | 2012-03-07 15:12:28 +0100 (Wed, 07 Mar 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/Makefile

Some changes in the Makefile for GPU-ECM

------------------------------------------------------------------------
r1792 | zimmerma | 2012-03-07 15:11:10 +0100 (Wed, 07 Mar 2012) | 2 lines
Changed paths:
   M /trunk/ecm-params.h.powerpc970

[ecm-params.h.powerpc970] removed exec flag

------------------------------------------------------------------------
r1791 | zimmerma | 2012-03-07 15:02:14 +0100 (Wed, 07 Mar 2012) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/mpmod.c

[ecm-impl.h,mpmod.c] removed mult_modulus (was always equal to orig_modulus)

------------------------------------------------------------------------
r1790 | zimmerma | 2012-03-07 14:22:50 +0100 (Wed, 07 Mar 2012) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

[pm1fs2.c] changed assert to avoid compiler warning with clang 2.9

------------------------------------------------------------------------
r1789 | zimmerma | 2012-03-07 13:54:25 +0100 (Wed, 07 Mar 2012) | 2 lines
Changed paths:
   M /trunk/configure.in

[configure.in] added missing build.vc10/bench_mulredc/Makefile

------------------------------------------------------------------------
r1788 | zimmerma | 2012-03-07 13:46:16 +0100 (Wed, 07 Mar 2012) | 3 lines
Changed paths:
   M /trunk/README.dev
   M /trunk/build.vc10/config.h
   M /trunk/configure.in
   M /trunk/ecm-gmp.h

change version to 6.4.1-rc1
switched assertions to off for the release candidate

------------------------------------------------------------------------
r1787 | zimmerma | 2012-03-07 13:13:20 +0100 (Wed, 07 Mar 2012) | 2 lines
Changed paths:
   M /trunk/listz.c
   M /trunk/stage2.c

[listz.c] cleanup, and removed some dead code in #if 0 ... #endif

------------------------------------------------------------------------
r1786 | zimmerma | 2012-03-07 10:40:51 +0100 (Wed, 07 Mar 2012) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/ecm_ntt.c
   M /trunk/listz.c

fix NEGATED_ROOTS=1 once for all

------------------------------------------------------------------------
r1785 | zimmerma | 2012-03-07 10:12:57 +0100 (Wed, 07 Mar 2012) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] -treefile is valid for ECM only

------------------------------------------------------------------------
r1784 | zimmerma | 2012-03-07 10:01:19 +0100 (Wed, 07 Mar 2012) | 2 lines
Changed paths:
   M /trunk/test.ecm

[test.ecm] added test with -treefile

------------------------------------------------------------------------
r1783 | zimmerma | 2012-03-05 08:56:02 +0100 (Mon, 05 Mar 2012) | 3 lines
Changed paths:
   M /trunk/ecm.c

[ecm.c] with -v -v, print A=... and x0=... for coherence with command line
	options

------------------------------------------------------------------------
r1782 | zimmerma | 2012-03-02 17:27:57 +0100 (Fri, 02 Mar 2012) | 3 lines
Changed paths:
   M /trunk/README.dev
   M /trunk/TODO

[README.dev] added check of -treefile before a release
[TODO] at some point we should raise sigma to 64 bits

------------------------------------------------------------------------
r1781 | bouvierc | 2012-03-01 17:43:16 +0100 (Thu, 01 Mar 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/cudakernel.cu
   M /trunk/gpu/gpu_ecm/main.c

Better measurement of actual running time.

------------------------------------------------------------------------
r1779 | bouvierc | 2012-03-01 13:44:35 +0100 (Thu, 01 Mar 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/check.sh
   M /trunk/gpu/gpu_ecm/cudakernel.cu
   M /trunk/gpu/gpu_ecm/main.c

Don't do modular reduction anymore in GPU arithmetic.

------------------------------------------------------------------------
r1778 | bouvierc | 2012-02-29 15:50:23 +0100 (Wed, 29 Feb 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/cudakernel.cu
   M /trunk/gpu/gpu_ecm/main.c

Prepare the code to use Montgomery-Svoboda algorithm for REDC

------------------------------------------------------------------------
r1777 | bouvierc | 2012-02-29 15:49:02 +0100 (Wed, 29 Feb 2012) | 2 lines
Changed paths:
   M /trunk/batch.c

Add an include when linked for GPU-ECM

------------------------------------------------------------------------
r1775 | bouvierc | 2012-02-28 15:50:25 +0100 (Tue, 28 Feb 2012) | 2 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/ecm-ecm.h
   M /trunk/ecm-impl.h
   M /trunk/main.c

Batch mode: allow to save and load s from a file.

------------------------------------------------------------------------
r1774 | bouvierc | 2012-02-27 11:45:40 +0100 (Mon, 27 Feb 2012) | 2 lines
Changed paths:
   M /trunk/test.ecm

Replace ecm and ./ecm by $ECM in two lines of the test file.

------------------------------------------------------------------------
r1773 | brian_gladman | 2012-02-24 16:47:31 +0100 (Fri, 24 Feb 2012) | 1 line
Changed paths:
   M /trunk/build.vc10/ecm/ecm.vcxproj
   M /trunk/build.vc10/ecm/ecm.vcxproj.filters


------------------------------------------------------------------------
r1772 | brian_gladman | 2012-02-24 16:43:18 +0100 (Fri, 24 Feb 2012) | 1 line
Changed paths:
   M /trunk/build.vc10/config.h
   M /trunk/build.vc10/gpu_ecm/gpu_ecm.vcxproj
   M /trunk/build.vc10/libecm/libecm.vcxproj
   M /trunk/build.vc10/libecm/libecm.vcxproj.filters

Update the gpu_ecm build for Windows
------------------------------------------------------------------------
r1771 | bouvierc | 2012-02-24 15:15:31 +0100 (Fri, 24 Feb 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/cudakernel.cu
   M /trunk/gpu/gpu_ecm/cudakernel.h

Make the CPU code handling the GPU clearer.

------------------------------------------------------------------------
r1770 | bouvierc | 2012-02-24 13:58:59 +0100 (Fri, 24 Feb 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/main.c
   M /trunk/gpu/gpu_ecm/utils.c
   M /trunk/gpu/gpu_ecm/utils.h

Minor change in main.c. Add some comments.

------------------------------------------------------------------------
r1769 | bouvierc | 2012-02-24 13:43:26 +0100 (Fri, 24 Feb 2012) | 2 lines
Changed paths:
   M /trunk/batch.c

Fix a problem reported by Brian Gladman.

------------------------------------------------------------------------
r1768 | bouvierc | 2012-02-24 11:24:31 +0100 (Fri, 24 Feb 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/main.c
   M /trunk/gpu/gpu_ecm/utils.c
   M /trunk/gpu/gpu_ecm/utils.h

All factors found and cofactors are printed the same way.

------------------------------------------------------------------------
r1767 | bouvierc | 2012-02-24 11:02:51 +0100 (Fri, 24 Feb 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/main.c

Use the struct mpcandi_t.

------------------------------------------------------------------------
r1766 | bouvierc | 2012-02-24 10:45:26 +0100 (Fri, 24 Feb 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/Makefile
   M /trunk/gpu/gpu_ecm/utils.c
   M /trunk/resume.c

Write the right program name and right version in resume file.

------------------------------------------------------------------------
r1765 | bouvierc | 2012-02-24 10:32:36 +0100 (Fri, 24 Feb 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/cudakernel.cu
   M /trunk/gpu/gpu_ecm/main.c
   M /trunk/gpu/gpu_ecm/utils.c
   M /trunk/gpu/gpu_ecm/utils.h

More clear variables' name. More comment in main.c

------------------------------------------------------------------------
r1764 | bouvierc | 2012-02-24 09:47:36 +0100 (Fri, 24 Feb 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/Makefile
   M /trunk/gpu/gpu_ecm/main.c
   M /trunk/gpu/gpu_ecm/utils.c
   M /trunk/gpu/gpu_ecm/utils.h

Use write_resumefile_line from GMP-ECM.

------------------------------------------------------------------------
r1763 | zimmerma | 2012-02-24 08:19:43 +0100 (Fri, 24 Feb 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/check.sh

[check.sh] translated error message in english

------------------------------------------------------------------------
r1762 | bouvierc | 2012-02-23 18:19:07 +0100 (Thu, 23 Feb 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/Makefile
   M /trunk/gpu/gpu_ecm/README
   M /trunk/gpu/gpu_ecm/main.c
   M /trunk/gpu/gpu_ecm/utils.c
   M /trunk/gpu/gpu_ecm/utils.h

Using more functions from GMP-ECM.

------------------------------------------------------------------------
r1761 | bouvierc | 2012-02-23 18:18:26 +0100 (Thu, 23 Feb 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/check.sh

Keep temp files when an error occurs in check.sh.

------------------------------------------------------------------------
r1760 | bouvierc | 2012-02-23 17:55:03 +0100 (Thu, 23 Feb 2012) | 2 lines
Changed paths:
   M /trunk/ecm-ecm.h

Delete duplicate prototypes.

------------------------------------------------------------------------
r1759 | bouvierc | 2012-02-23 17:11:10 +0100 (Thu, 23 Feb 2012) | 2 lines
Changed paths:
   M /trunk/auxi.c
   M /trunk/ecm-ecm.h
   M /trunk/main.c

Move some functions out of main.c in order to use them with GPU-ECM.

------------------------------------------------------------------------
r1758 | bouvierc | 2012-02-23 16:23:58 +0100 (Thu, 23 Feb 2012) | 2 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/gpu/gpu_ecm/Makefile
   M /trunk/gpu/gpu_ecm/def.h
   M /trunk/gpu/gpu_ecm/main.c
   M /trunk/gpu/gpu_ecm/utils.c
   M /trunk/gpu/gpu_ecm/utils.h

Start to use GMP-ECM functions in GPU-ECM when they exist.

------------------------------------------------------------------------
r1757 | bouvierc | 2012-02-23 14:54:11 +0100 (Thu, 23 Feb 2012) | 4 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/Makefile
   A /trunk/gpu/gpu_ecm/README.dev
   D /trunk/gpu/gpu_ecm/cudaarith.cu
   D /trunk/gpu/gpu_ecm/cudaarith.h
   A /trunk/gpu/gpu_ecm/cudakernel.cu (from /trunk/gpu/gpu_ecm/cudautils.cu:1756)
   A /trunk/gpu/gpu_ecm/cudakernel.h (from /trunk/gpu/gpu_ecm/cudautils.h:1756)
   D /trunk/gpu/gpu_ecm/cudautils.cu
   D /trunk/gpu/gpu_ecm/cudautils.h
   A /trunk/gpu/gpu_ecm/def.h (from /trunk/gpu/gpu_ecm/main.h:1756)
   A /trunk/gpu/gpu_ecm/main.c (from /trunk/gpu/gpu_ecm/main.cu:1756)
   D /trunk/gpu/gpu_ecm/main.cu
   D /trunk/gpu/gpu_ecm/main.h
   A /trunk/gpu/gpu_ecm/utils.c (from /trunk/gpu/gpu_ecm/utils.cu:1756)
   D /trunk/gpu/gpu_ecm/utils.cu
   M /trunk/gpu/gpu_ecm/utils.h

Reorganization of the code. C code is put in C files compiled with gcc and Cuda
code is put in .cu files and compiled with nvcc.


------------------------------------------------------------------------
r1756 | bouvierc | 2012-02-22 21:18:28 +0100 (Wed, 22 Feb 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/utils.cu

Fix a bug reported by Brian Gladman.

------------------------------------------------------------------------
r1755 | bouvierc | 2012-02-22 16:12:37 +0100 (Wed, 22 Feb 2012) | 5 lines
Changed paths:
   M /trunk/ecm.c
   M /trunk/main.c
   M /trunk/test.ecm

[ecm.c] Fix a problem for batch mode 2 when the value obtained from the
parametrization is printed
[main.c] Print which batch mode is used.
[test.ecm] Add a test for batch mode 2.

------------------------------------------------------------------------
r1754 | bouvierc | 2012-02-22 16:09:58 +0100 (Wed, 22 Feb 2012) | 2 lines
Changed paths:
   D /trunk/gpu/gpu_ecm/obj
   D /trunk/gpu/gpu_ecm/test.sh

Delete useless files

------------------------------------------------------------------------
r1753 | bouvierc | 2012-02-22 16:07:10 +0100 (Wed, 22 Feb 2012) | 4 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/Makefile
   A /trunk/gpu/gpu_ecm/README
   M /trunk/gpu/gpu_ecm/check.sh
   M /trunk/gpu/gpu_ecm/main.h

[Makefile] A more-easy-to-use Makefile
[README] README explaining how to compile and execute GPU-ECM and how to use
check.sh

------------------------------------------------------------------------
r1752 | bouvierc | 2012-02-22 12:04:26 +0100 (Wed, 22 Feb 2012) | 2 lines
Changed paths:
   M /trunk/batch.c

fix a bug in batch mode 2

------------------------------------------------------------------------
r1751 | bouvierc | 2012-02-22 11:42:57 +0100 (Wed, 22 Feb 2012) | 2 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/ecm.c

Fix batch mode 1 which didn't pass all the test because of previous commits.

------------------------------------------------------------------------
r1750 | bouvierc | 2012-02-22 10:21:27 +0100 (Wed, 22 Feb 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/main.cu
   M /trunk/gpu/gpu_ecm/utils.cu

Fix some bugs for 32-bits machines.

------------------------------------------------------------------------
r1749 | bouvierc | 2012-02-21 18:25:00 +0100 (Tue, 21 Feb 2012) | 4 lines
Changed paths:
   M /trunk/batch.c
   D /trunk/batchmode.h
   M /trunk/ecm-impl.h
   M /trunk/ecm.c
   M /trunk/main.c

Now the choice of the which batch mode is used is not done by a #define.
It can be passed as a argument: -batch[=1|2], with -batch being equivalent to
-batch=1 

------------------------------------------------------------------------
r1748 | bouvierc | 2012-02-21 17:46:23 +0100 (Tue, 21 Feb 2012) | 2 lines
Changed paths:
   A /trunk/batchmode.h
   A /trunk/ellparam_batch.c

Forgot to add 2 new files in the last commit.

------------------------------------------------------------------------
r1747 | bouvierc | 2012-02-21 17:45:28 +0100 (Tue, 21 Feb 2012) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/batch.c
   M /trunk/ecm.c
   M /trunk/main.c

Add elliptic parametrization for batch mode 2
Move the choice of A for batch mode in ecm.c (as the choice of sigma for Suyama)


------------------------------------------------------------------------
r1746 | brian_gladman | 2012-02-16 18:40:14 +0100 (Thu, 16 Feb 2012) | 1 line
Changed paths:
   M /trunk/gpu/gpu_ecm/main.cu

set IDLE priority for GPU application on Windows 
------------------------------------------------------------------------
r1745 | brian_gladman | 2012-02-16 17:31:39 +0100 (Thu, 16 Feb 2012) | 1 line
Changed paths:
   A /trunk/build.vc10/readme_gpu.txt

add short readme for the Windows GPU build
------------------------------------------------------------------------
r1744 | brian_gladman | 2012-02-16 17:18:53 +0100 (Thu, 16 Feb 2012) | 1 line
Changed paths:
   A /trunk/build.vc10/ecm.cuda.sln

Add Visual Studio build for the GPU code
------------------------------------------------------------------------
r1743 | brian_gladman | 2012-02-16 17:15:45 +0100 (Thu, 16 Feb 2012) | 1 line
Changed paths:
   M /trunk/build.vc10/getrusage.h
   A /trunk/build.vc10/gpu_ecm
   A /trunk/build.vc10/gpu_ecm/gpu_ecm.vcxproj
   M /trunk/gpu/gpu_ecm/main.cu
   M /trunk/gpu/gpu_ecm/main.h
   M /trunk/gpu/gpu_ecm/utils.cu
   M /trunk/gpu/gpu_ecm/utils.h
   M /trunk/gpu/modular_arithmetic.c


------------------------------------------------------------------------
r1742 | brian_gladman | 2012-02-13 22:33:07 +0100 (Mon, 13 Feb 2012) | 1 line
Changed paths:
   M /trunk/build.vc10/config.h

correct conflicted config.h
------------------------------------------------------------------------
r1741 | brian_gladman | 2012-02-13 22:06:19 +0100 (Mon, 13 Feb 2012) | 1 line
Changed paths:
   M /trunk/bench_mulredc.c
   M /trunk/build.vc10/Makefile.am
   M /trunk/build.vc10/assembler/Makefile.am
   A /trunk/build.vc10/assembler/mulredc.asm
   M /trunk/build.vc10/assembler/mulredc.h
   A /trunk/build.vc10/assembler/redc.asm
   A /trunk/build.vc10/bench_mulredc
   A /trunk/build.vc10/bench_mulredc/Makefile.am
   A /trunk/build.vc10/bench_mulredc/bench_mulredc.vcxproj
   A /trunk/build.vc10/bench_mulredc/bench_mulredc.vcxproj.filters
   A /trunk/build.vc10/bench_mulredc/bench_mulredc.vcxproj.user
   M /trunk/build.vc10/config.h
   M /trunk/build.vc10/ecm/ecm.vcxproj
   M /trunk/build.vc10/ecm.sln
   A /trunk/build.vc10/getrusage.c
   A /trunk/build.vc10/getrusage.h
   M /trunk/build.vc10/libecm/libecm.vcxproj
   M /trunk/build.vc10/libecm/libecm.vcxproj.filters
   M /trunk/build.vc10/tune/tune.vcxproj
   M /trunk/build.vc10/tune/tune.vcxproj.filters

Revamp the Windows Visual Studio 2010 build
------------------------------------------------------------------------
r1738 | zimmerma | 2012-02-12 23:46:20 +0100 (Sun, 12 Feb 2012) | 3 lines
Changed paths:
   M /trunk/bench_mulredc.c

[bench_mulredc.c] added some Svoboda code (not tested so far) and avoid some
		  warnings if mpn_redc_2 and mpn_redc_n are not defined

------------------------------------------------------------------------
r1737 | dcleaver | 2012-02-12 23:24:37 +0100 (Sun, 12 Feb 2012) | 1 line
Changed paths:
   M /trunk/Fgw.c
   M /trunk/test.ecm

Clean up comments and make ecm test deterministic
------------------------------------------------------------------------
r1736 | zimmerma | 2012-02-12 23:05:25 +0100 (Sun, 12 Feb 2012) | 2 lines
Changed paths:
   M /trunk/mpmod.c

[mpmod.c] fixed misplaced #ifdef, added comments, MPN_COPY -> mpn_copyi

------------------------------------------------------------------------
r1735 | dcleaver | 2012-02-12 21:50:37 +0100 (Sun, 12 Feb 2012) | 1 line
Changed paths:
   M /trunk/test.ecm

Added/fixed test to exercise r1734 patch
------------------------------------------------------------------------
r1734 | dcleaver | 2012-02-12 21:44:33 +0100 (Sun, 12 Feb 2012) | 1 line
Changed paths:
   M /trunk/Fgw.c
   M /trunk/test.ecm

Patched Fgw.c to allocate adequate memory for special inputs
------------------------------------------------------------------------
r1733 | zimmerma | 2012-02-12 20:15:50 +0100 (Sun, 12 Feb 2012) | 2 lines
Changed paths:
   M /trunk/bench_mulredc.c
   M /trunk/configure.in
   M /trunk/mpmod.h

also consider mpn_redc_n in bench_mulredc (not yet used in mpmod.c)

------------------------------------------------------------------------
r1732 | brian_gladman | 2012-02-12 19:54:10 +0100 (Sun, 12 Feb 2012) | 1 line
Changed paths:
   M /trunk/build.vc10/assembler/mulredc.h
   M /trunk/build.vc10/libecm/libecm.vcxproj
   M /trunk/build.vc10/tune/tune.vcxproj

Make use of assembler code the default for Windows
------------------------------------------------------------------------
r1731 | zimmerma | 2012-02-12 17:34:08 +0100 (Sun, 12 Feb 2012) | 2 lines
Changed paths:
   M /trunk/mpmod.c

[mpmod.c] fixed problem reported by David Cleaver on ecm-discuss

------------------------------------------------------------------------
r1730 | zimmerma | 2012-02-12 17:23:22 +0100 (Sun, 12 Feb 2012) | 5 lines
Changed paths:
   M /trunk/bench_mulredc.c
   M /trunk/configure.in
   M /trunk/ecm-params.h.core2
   M /trunk/mpmod.c

[configure.in] bump minimal GMP version to 5.0.0
[bench_mulredc.c,mpmod.c] since mpn_sqr is defined in GMP >= 5, no need to test
			  it
[ecm-params.h.core2] updated

------------------------------------------------------------------------
r1729 | zimmerma | 2012-02-12 16:12:25 +0100 (Sun, 12 Feb 2012) | 2 lines
Changed paths:
   M /trunk/build.vc10/assembler/Makefile.am

[assembler/Makefile.am] added missing mulredc.h

------------------------------------------------------------------------
r1726 | zimmerma | 2012-02-12 12:03:54 +0100 (Sun, 12 Feb 2012) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/bench_mulredc.c
   M /trunk/mpmod.c
   A /trunk/mpmod.h

define macros for different choices of redc modular arithmetic

------------------------------------------------------------------------
r1725 | zimmerma | 2012-02-12 08:35:20 +0100 (Sun, 12 Feb 2012) | 2 lines
Changed paths:
   M /trunk/build.vc10/Makefile.am

[build.vc10/Makefile.am] removed non-existent file ecm-params.h.x64.core2

------------------------------------------------------------------------
r1724 | brian_gladman | 2012-02-12 00:07:15 +0100 (Sun, 12 Feb 2012) | 1 line
Changed paths:
   M /trunk/build.vc10/Makefile.am

add distributed in build.vc10 to files to makefile.am 
------------------------------------------------------------------------
r1723 | zimmerma | 2012-02-11 14:37:39 +0100 (Sat, 11 Feb 2012) | 15 lines
Changed paths:
   M /trunk/README
   M /trunk/bench_mulredc.c
   M /trunk/ecm-impl.h
   M /trunk/ecm-params.h.alpha-ev56
   M /trunk/ecm-params.h.armv5tel
   M /trunk/ecm-params.h.athlon64
   M /trunk/ecm-params.h.core2
   M /trunk/ecm-params.h.corei5
   M /trunk/ecm-params.h.hppa2.0
   M /trunk/ecm-params.h.ia64
   M /trunk/ecm-params.h.mips64el
   M /trunk/ecm-params.h.pentium-m
   M /trunk/ecm-params.h.pentium4
   M /trunk/ecm-params.h.powerpc970
   M /trunk/ecm-params.h.sparc64
   M /trunk/main.c
   M /trunk/mpmod.c
   M /trunk/test.pm1
   M /trunk/tune.c

Complete rewrite of the tuning mechanism for mulredc and sqrredc: instead of
having a simple threshold, we have a full table for each one up to 20 limbs,
where each entry for n limbs is an integer saying which function(s) should be
used for the modular multiplication or squaring.

Those tables are computed by bench_mulredc.

On processors where assembly redc is available, I suggest we always have
--enable-asm-redc, since the best routine will be chosen by bench_mulredc.

On processors where assembly redc is not available, I suggest we still can
use/compile bench_mulredc to choose the best routines.

Ultimately bench_mulredc should be incorporated into "make tune".

------------------------------------------------------------------------
r1722 | brian_gladman | 2012-02-11 12:09:52 +0100 (Sat, 11 Feb 2012) | 1 line
Changed paths:
   M /trunk/build.vc10/ecm/Makefile.am
   M /trunk/build.vc10/libecm/Makefile.am
   M /trunk/build.vc10/tune/Makefile.am

Add IDE filters to the GMP-ECM distrubution
------------------------------------------------------------------------
r1721 | zimmerma | 2012-02-11 09:45:15 +0100 (Sat, 11 Feb 2012) | 2 lines
Changed paths:
   M /trunk/build.vc10/Makefile.am
   A /trunk/build.vc10/tune/Makefile.am
   M /trunk/configure.in

another try to fix missing vc10 files

------------------------------------------------------------------------
r1720 | brian_gladman | 2012-02-10 21:40:28 +0100 (Fri, 10 Feb 2012) | 1 line
Changed paths:
   M /trunk/build.vc10/ecm/ecm.vcxproj
   M /trunk/build.vc10/tests.py

another Windows build correction
------------------------------------------------------------------------
r1719 | zimmerma | 2012-02-10 21:38:19 +0100 (Fri, 10 Feb 2012) | 3 lines
Changed paths:
   M /trunk/bench_mulredc.c
   M /trunk/x86_64/Makefile.am
   M /trunk/x86_64/mulredc.h

[x86_64] enable back redc3 code (can be useful for modular squaring)
[bench_mulredc.c] print results of tuning at the end

------------------------------------------------------------------------
r1718 | zimmerma | 2012-02-10 20:52:57 +0100 (Fri, 10 Feb 2012) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   A /trunk/build.vc10/Makefile.am
   A /trunk/build.vc10/assembler/Makefile.am
   A /trunk/build.vc10/ecm/Makefile.am
   A /trunk/build.vc10/libecm/Makefile.am
   M /trunk/configure.in

put in "make dist" missing build.vc10 files (to be checked)

------------------------------------------------------------------------
r1717 | zimmerma | 2012-02-10 20:12:15 +0100 (Fri, 10 Feb 2012) | 3 lines
Changed paths:
   M /trunk/ecm.c

[ecm.c] for the batch mode and A=4d-2 with d "random", the torsion smoothness
	multiplier is 1/(3*3^(1/128)) = 0.330... and not 1/3 !

------------------------------------------------------------------------
r1716 | brian_gladman | 2012-02-10 13:32:53 +0100 (Fri, 10 Feb 2012) | 1 line
Changed paths:
   M /trunk/build.vc10/libecm/libecm.vcxproj

minor windows build change
------------------------------------------------------------------------
r1715 | brian_gladman | 2012-02-10 10:49:38 +0100 (Fri, 10 Feb 2012) | 1 line
Changed paths:
   M /trunk/build.vc10/ecm-params.h
   M /trunk/build.vc10/ecm-params.h.win32.amd
   M /trunk/build.vc10/ecm-params.h.win32.intel
   M /trunk/build.vc10/ecm-params.h.x64.amd
   M /trunk/build.vc10/ecm-params.h.x64.intel
   M /trunk/build.vc10/tune/tune.vcxproj
   M /trunk/build.vc10/tune/tune.vcxproj.filters

correct windows tuning errors
------------------------------------------------------------------------
r1714 | zimmerma | 2012-02-09 12:42:54 +0100 (Thu, 09 Feb 2012) | 2 lines
Changed paths:
   M /trunk/bench_mulredc.c

[bench_mulredc.c] updated to measure more low-level functions

------------------------------------------------------------------------
r1713 | zimmerma | 2012-02-08 12:29:36 +0100 (Wed, 08 Feb 2012) | 3 lines
Changed paths:
   M /trunk/ecm.c

[ecm.c] corrected the value of BATCH_EXTRA_SMOOTHNESS for GMP_NUMB_BITS >= 64,
	where we use A=4d-2 with d a square

------------------------------------------------------------------------
r1712 | zimmerma | 2012-02-07 22:24:56 +0100 (Tue, 07 Feb 2012) | 4 lines
Changed paths:
   M /trunk/mpmod.c

[mpmod.c] new function sqrredc in C (not used yet because slower than the
	  assembly mulredc)
	  use redc_basecase_n in mpresn_sqr and mpresn_mul: small speedup

------------------------------------------------------------------------
r1711 | zimmerma | 2012-02-06 17:15:47 +0100 (Mon, 06 Feb 2012) | 3 lines
Changed paths:
   M /trunk/mpmod.c

[mpmod.c] use TUNE_SQRREDC_THRESH and TUNE_MULREDC_THRESH in the mpresn_*
	  functions

------------------------------------------------------------------------
r1710 | zimmerma | 2012-02-06 16:10:32 +0100 (Mon, 06 Feb 2012) | 3 lines
Changed paths:
   M /trunk/README.dev
   M /trunk/ecmbench

[ecmbench] use $1 to allow testing different versions
[README.dev] added item for efficiency non-regression

------------------------------------------------------------------------
r1708 | zimmerma | 2012-02-06 15:58:01 +0100 (Mon, 06 Feb 2012) | 2 lines
Changed paths:
   M /trunk/ecm.c
   M /trunk/ecm2.c
   M /trunk/lucas.c
   M /trunk/mpmod.c
   M /trunk/pm1fs2.c
   M /trunk/pp1.c
   M /trunk/tune.c

replaced all occurrences of mpres_mul (a, x, x, m) by mpres_sqr (a, x, m)

------------------------------------------------------------------------
r1706 | zimmerma | 2012-02-06 14:34:35 +0100 (Mon, 06 Feb 2012) | 7 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/README.dev
   M /trunk/configure.in
   M /trunk/ecm-impl.h
   A /trunk/ecm-params.h.corei5
   A /trunk/ecmbench
   M /trunk/mpmod.c
   M /trunk/tune.c

[tune.c] cleaned up comptutation of TUNE_MULREDC_THRESH and TUNE_SQRREDC_THRESH
[ecm-params.h.corei5] new parameters for Core i5
[configure.in] now recognize Core i5
[ecmbench] new bench utility
[ecm-impl.h] new macro MULREDC_ASSEMBLY_MAX
[mpmod.c] use MULREDC_ASSEMBLY_MAX

------------------------------------------------------------------------
r1703 | zimmerma | 2012-02-04 09:47:09 +0100 (Sat, 04 Feb 2012) | 2 lines
Changed paths:
   M /trunk/build.vc10/config.h
   M /trunk/configure.in

switch version to 6.5-dev, and assertions on by default

------------------------------------------------------------------------
r1701 | zimmerma | 2012-02-03 20:59:21 +0100 (Fri, 03 Feb 2012) | 2 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/mpmod.c

make new batch-mode code also work with --disable-asm-redc

------------------------------------------------------------------------
r1700 | zimmerma | 2012-02-03 17:14:22 +0100 (Fri, 03 Feb 2012) | 6 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/ecm-impl.h
   M /trunk/ecm.c
   M /trunk/mpmod.c
   M /trunk/pm1fs2.c

[pm1fs2.c] renamed mpmod_copy into mpmod_init_set
[batch.c] use new function mpresn_pad
[ecm-impl.h] added mult_modulus (currrently initialized to N)
[mpmod.c] simplified the mpresn_* functions (assuming repr=ECM_MOD_MODMULN)
[ecm.c] in batch mode, force repr=ECM_MOD_MODMULN

------------------------------------------------------------------------
r1697 | zimmerma | 2012-02-03 10:07:59 +0100 (Fri, 03 Feb 2012) | 4 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/ecm-impl.h
   M /trunk/mpmod.c

[ecm-impl.h] added missing prototypes
[batch.c] removed debug printf() statements
[mpmod.c] fixed compiler warnings

------------------------------------------------------------------------
r1696 | zimmerma | 2012-02-02 20:08:19 +0100 (Thu, 02 Feb 2012) | 2 lines
Changed paths:
   M /trunk/NEWS

[NEWS] added --enable-mulredc-svodoba

------------------------------------------------------------------------
r1695 | bouvierc | 2012-02-02 15:57:09 +0100 (Thu, 02 Feb 2012) | 4 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/mpmod.c

Replace mpz operations by mpn operations in dup_add in batch.c
For now only mul, sqr, add and sub have been modified.
Reduction have not changed.

------------------------------------------------------------------------
r1694 | kruppa | 2012-02-02 15:52:19 +0100 (Thu, 02 Feb 2012) | 2 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/x86_64/mulredc.m4

Support for Svoboda mulredc in x86_64/. Matching support in mpmod.c TBD

------------------------------------------------------------------------
r1693 | zimmerma | 2012-01-30 17:58:24 +0100 (Mon, 30 Jan 2012) | 2 lines
Changed paths:
   M /trunk/getprime.c

[getprime.c] fixed typo in commented printf()

------------------------------------------------------------------------
r1690 | kruppa | 2012-01-16 16:00:54 +0100 (Mon, 16 Jan 2012) | 2 lines
Changed paths:
   M /trunk/mpzspv.c

Slight cleanup

------------------------------------------------------------------------
r1684 | zimmerma | 2012-01-09 14:12:38 +0100 (Mon, 09 Jan 2012) | 2 lines
Changed paths:
   M /trunk/mpmod.c

[mpmod.c] perform lazy reduction in REDC when N < B^n/4

------------------------------------------------------------------------
r1678 | zimmerma | 2012-01-07 16:45:28 +0100 (Sat, 07 Jan 2012) | 2 lines
Changed paths:
   M /trunk/INSTALL-ecm
   M /trunk/Makefile.am
   M /trunk/configure.in

removed leftover references to build.vc9

------------------------------------------------------------------------
r1677 | zimmerma | 2012-01-06 18:32:22 +0100 (Fri, 06 Jan 2012) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/Makefile
   M /trunk/gpu/gpu_ecm_cc13/Makefile

cleaned up Makefiles

------------------------------------------------------------------------
r1676 | brian_gladman | 2012-01-04 18:14:22 +0100 (Wed, 04 Jan 2012) | 2 lines
Changed paths:
   M /trunk
   D /trunk/build.vc9

Remove some errors from the Visual Studio readme.txt filesremove unmaintained Visual Studio 2008 build files

------------------------------------------------------------------------
r1675 | zimmerma | 2012-01-04 09:53:53 +0100 (Wed, 04 Jan 2012) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] fixed warning on 32-bit processor

------------------------------------------------------------------------
r1674 | zimmerma | 2012-01-04 00:44:48 +0100 (Wed, 04 Jan 2012) | 2 lines
Changed paths:
   M /trunk/README.dev

[README.dev] added tag for 6.4

------------------------------------------------------------------------
r1672 | zimmerma | 2012-01-04 00:42:50 +0100 (Wed, 04 Jan 2012) | 2 lines
Changed paths:
   M /trunk/ChangeLog

[ChangeLog] updated, this is the GMP-ECM 6.4 release

------------------------------------------------------------------------
r1671 | brian_gladman | 2012-01-04 00:39:25 +0100 (Wed, 04 Jan 2012) | 1 line
Changed paths:
   M /trunk/build.vc10/readme.txt
   M /trunk/build.vc9/readme.txt

Remove some errors from the Visual Studio readme.txt files
------------------------------------------------------------------------
r1670 | zimmerma | 2012-01-04 00:38:05 +0100 (Wed, 04 Jan 2012) | 2 lines
Changed paths:
   A /trunk/INSTALL-ecm (from /trunk/INSTALL:1662)

[INSTALL-ecm] specific INSTALL file for GMP-ECM

------------------------------------------------------------------------
r1669 | zimmerma | 2012-01-04 00:34:36 +0100 (Wed, 04 Jan 2012) | 2 lines
Changed paths:
   M /trunk/mpmod.c
   M /trunk/resume.c

removed compiler warnings found with gcc 4.6.1

------------------------------------------------------------------------
r1668 | zimmerma | 2012-01-04 00:26:26 +0100 (Wed, 04 Jan 2012) | 2 lines
Changed paths:
   M /trunk/configure.in

[configure.in] added code to check for Pentium 4

------------------------------------------------------------------------
r1667 | zimmerma | 2012-01-04 00:24:49 +0100 (Wed, 04 Jan 2012) | 2 lines
Changed paths:
   D /trunk/INSTALL

[INSTALL] removed from svn, since it is now autogenerated by the autotools

------------------------------------------------------------------------
r1666 | zimmerma | 2012-01-04 00:24:01 +0100 (Wed, 04 Jan 2012) | 2 lines
Changed paths:
   M /trunk/ChangeLog

[ChangeLog] updated for 6.4

------------------------------------------------------------------------
r1665 | zimmerma | 2012-01-04 00:21:36 +0100 (Wed, 04 Jan 2012) | 2 lines
Changed paths:
   M /trunk/TODO

[TODO] removed several done items

------------------------------------------------------------------------
r1664 | zimmerma | 2012-01-04 00:21:13 +0100 (Wed, 04 Jan 2012) | 2 lines
Changed paths:
   M /trunk/README

[README] added sample example

------------------------------------------------------------------------
r1663 | zimmerma | 2012-01-04 00:20:54 +0100 (Wed, 04 Jan 2012) | 2 lines
Changed paths:
   M /trunk/Makefile.am

[Makefile.am] added INSTALL-ecm (INSTALL is now the generic GNU package file)

------------------------------------------------------------------------
r1662 | zimmerma | 2012-01-04 00:13:33 +0100 (Wed, 04 Jan 2012) | 2 lines
Changed paths:
   M /trunk/NEWS

[NEWS] added one item

------------------------------------------------------------------------
r1661 | zimmerma | 2012-01-04 00:13:06 +0100 (Wed, 04 Jan 2012) | 3 lines
Changed paths:
   M /trunk/ecm-gmp.h
   M /trunk/mpmod.c
   M /trunk/schoen_strass.c

use of mpn_mullo_n when available
check if _mpz_realloc sets value to 0

------------------------------------------------------------------------
r1660 | zimmerma | 2012-01-04 00:12:03 +0100 (Wed, 04 Jan 2012) | 3 lines
Changed paths:
   M /trunk/build.vc10/config.h
   M /trunk/build.vc9/config.h
   M /trunk/configure.in

changed version to 6.4
added check for mpn_mullo_n

------------------------------------------------------------------------
r1659 | zimmerma | 2012-01-04 00:03:08 +0100 (Wed, 04 Jan 2012) | 2 lines
Changed paths:
   M /trunk/build.vc10/readme.txt
   M /trunk/build.vc9/readme.txt

fixed typos

------------------------------------------------------------------------
r1658 | zimmerma | 2012-01-03 23:49:23 +0100 (Tue, 03 Jan 2012) | 2 lines
Changed paths:
   M /trunk/ecm-params.h.pentium4

[ecm-params.h.pentium4] updated for ecm-6.4

------------------------------------------------------------------------
r1657 | zimmerma | 2012-01-03 23:31:19 +0100 (Tue, 03 Jan 2012) | 3 lines
Changed paths:
   M /trunk/ecm-params.h.athlon64
   M /trunk/ecm-params.h.core2

[ecm-params.h.athlon64] updated on a true AMD machine
[ecm-params.h.core2] added model name

------------------------------------------------------------------------
r1656 | zimmerma | 2012-01-03 23:25:27 +0100 (Tue, 03 Jan 2012) | 2 lines
Changed paths:
   M /trunk/ecm-params.h.core2

[ecm-params.h.core2] updated for ecm-6.4

------------------------------------------------------------------------
r1655 | zimmerma | 2012-01-03 23:20:11 +0100 (Tue, 03 Jan 2012) | 2 lines
Changed paths:
   M /trunk/ecm-params.h.athlon64

[ecm-params.h.athlon64] updated for ecm 6.4

------------------------------------------------------------------------
r1653 | kruppa | 2012-01-03 04:28:57 +0100 (Tue, 03 Jan 2012) | 2 lines
Changed paths:
   M /trunk/mpmod.c

nn must be initialised before testing assertions involving nn

------------------------------------------------------------------------
r1647 | zimmerma | 2011-12-30 10:27:49 +0100 (Fri, 30 Dec 2011) | 2 lines
Changed paths:
   M /trunk/INSTALL

[INSTALL] modified instructions for GWNUM

------------------------------------------------------------------------
r1644 | zimmerma | 2011-12-27 16:28:42 +0100 (Tue, 27 Dec 2011) | 2 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/README.dev

added Cyril Bouvier as author, small fixes in README.dev

------------------------------------------------------------------------
r1643 | zimmerma | 2011-12-27 16:22:31 +0100 (Tue, 27 Dec 2011) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/INSTALL
   M /trunk/NEWS
   M /trunk/README.dev
   M /trunk/build.vc10/config.h
   M /trunk/build.vc9/config.h
   M /trunk/configure.in

prepare for the 6.4 release: now 6.4-rc1

------------------------------------------------------------------------
r1642 | zimmerma | 2011-12-27 15:39:10 +0100 (Tue, 27 Dec 2011) | 3 lines
Changed paths:
   M /trunk/main.c

[main.c] on 64-bit processors, take d a square in batch mode, which gives
	 a larger average torsion, and thus a larger success probability

------------------------------------------------------------------------
r1641 | zimmerma | 2011-12-27 12:06:43 +0100 (Tue, 27 Dec 2011) | 13 lines
Changed paths:
   M /trunk/main.c
   M /trunk/pm1.c

work on "bug" reported by Jason Papadopoulos: the choice between NTT and no-NTT
code for P-1 was wrong. In fact, since revision 1558, we prefer the variant
with the larger transform length, which is sometimes a bad choice. For example
with the following resume file the new choice is twice as slow:
METHOD=P-1; B1=10000000; N=29799904256775982671863388319999573561548825027149399972531599612392671227006866151136667908641695103422986028076864929902803267437351318167549013218980573566942647077444419419003164546362008247462049; X=0x58bcade9a21209a49e884562ffac2b1dc3041ba75aacb160628223b64bc056cd2212ea489c9dfebe3336df2359ad41cb5ddfa54f7e1ed908cf5b47feed64d7b7daf309751bd9d5aa5848079de14d5590d13be1; CHECKSUM=2706566245; PROGRAM=GMP-ECM 6.3; X0=0xd13920f9; WHO=jasonp@COMPUTER; TIME=Mon Dec 12 07:50:07 2011;

Moreover even with -ntt we could not force the NTT code to be used. This patch
only fixes that problem: we can now force the NTT code with -ntt for PM1.

Apart from the efficiency problem above (still to be solved), there is another
problem: in case both NTT and no-NTT are tried, and finally NTT is preferred,
the computed B2 value is wrong (it is that of no-NTT).

------------------------------------------------------------------------
r1640 | brian_gladman | 2011-12-20 13:22:32 +0100 (Tue, 20 Dec 2011) | 1 line
Changed paths:
   M /trunk/build.vc10/readme.txt

update Visual Studio readme.txt to reflect output directory change
------------------------------------------------------------------------
r1639 | brian_gladman | 2011-12-20 09:03:09 +0100 (Tue, 20 Dec 2011) | 1 line
Changed paths:
   M /trunk/build.vc10/ecm/ecm.vcxproj
   M /trunk/build.vc10/libecm/libecm.vcxproj
   M /trunk/build.vc10/mp_lib.props
   M /trunk/build.vc10/tune/tune.vcxproj

move Visual Studio build output directories up one level in the directory tree
------------------------------------------------------------------------
r1638 | kruppa | 2011-12-14 16:07:17 +0100 (Wed, 14 Dec 2011) | 7 lines
Changed paths:
   M /trunk/ecm_ntt.c
   M /trunk/mpzspv.c
   M /trunk/pm1fs2.c
   M /trunk/sp.h

Moved some NTT related functions from pm1fs2.c to mpzspv.c
Added NTT mul function that does forward transforms, point-wise multiply, 
and inverse transforms one small-prime vector at a time, which slightly 
improves memory access locality (also perhaps in preparation for later 
disk-stored vectors)


------------------------------------------------------------------------
r1637 | brian_gladman | 2011-11-21 22:43:09 +0100 (Mon, 21 Nov 2011) | 1 line
Changed paths:
   M /trunk/build.vc10/tune/tune.vcxproj

Add _WIN64 compiler define to the Windows x64 tune build
------------------------------------------------------------------------
r1636 | bouvierc | 2011-11-09 21:59:11 +0100 (Wed, 09 Nov 2011) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/cudaarith.cu
   M /trunk/gpu/gpu_ecm/main.cu
   M /trunk/gpu/gpu_ecm/main.h
   M /trunk/gpu/gpu_ecm/utils.cu

Translate comments from french to english in gpu_ecm's code

------------------------------------------------------------------------
r1635 | zimmerma | 2011-11-08 21:15:24 +0100 (Tue, 08 Nov 2011) | 2 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/mpmod.c

removed compiler warnings

------------------------------------------------------------------------
r1634 | zimmerma | 2011-11-08 21:11:47 +0100 (Tue, 08 Nov 2011) | 4 lines
Changed paths:
   M /trunk/athlon/mulredc.h
   M /trunk/batch.c
   M /trunk/configure.in
   M /trunk/ecm-impl.h
   M /trunk/main.c
   M /trunk/mpmod.c
   M /trunk/pentium4/mulredc.h
   M /trunk/powerpc64/mulredc.h
   M /trunk/x86_64/mulredc.h

changed NATIVE_REDC into USE_ASM_REDC to be coherent with --enable-asm-redc
added new mpres_sqr function, to make it easier if/when we implement a faster
      modular squaring function

------------------------------------------------------------------------
r1633 | bouvierc | 2011-11-04 17:37:31 +0100 (Fri, 04 Nov 2011) | 3 lines
Changed paths:
   A /trunk/gpu/gpu_ecm/check.sh

To check the correctness of gpu_ecm
use : ./check B1

------------------------------------------------------------------------
r1632 | bouvierc | 2011-11-04 17:35:53 +0100 (Fri, 04 Nov 2011) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/Makefile
   M /trunk/gpu/gpu_ecm/cudaarith.cu
   M /trunk/gpu/gpu_ecm/cudautils.cu
   M /trunk/gpu/gpu_ecm/cudautils.h
   D /trunk/gpu/gpu_ecm/gpu_ecm
   M /trunk/gpu/gpu_ecm/main.cu
   M /trunk/gpu/gpu_ecm/main.h
   M /trunk/gpu/gpu_ecm/utils.cu
   M /trunk/gpu/gpu_ecm/utils.h

New version of gpu_ecm (compatible with Fermi cards)

------------------------------------------------------------------------
r1631 | dcleaver | 2011-10-24 04:30:28 +0200 (Mon, 24 Oct 2011) | 1 line
Changed paths:
   M /trunk/batch.c

use original compute_s with increased MAX_HEIGHT
------------------------------------------------------------------------
r1630 | zimmerma | 2011-10-23 13:16:09 +0200 (Sun, 23 Oct 2011) | 2 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/main.c

[batch.c, main.c] removed useless code + gnu coding style

------------------------------------------------------------------------
r1629 | dcleaver | 2011-10-23 06:01:57 +0200 (Sun, 23 Oct 2011) | 1 line
Changed paths:
   M /trunk/batch.c
   M /trunk/ecm-ecm.h
   M /trunk/factor.c
   M /trunk/main.c

clear s in proper place, show correct time to calculate s, make output defines the same between ecm-ecm.h and ecm-impl.h
------------------------------------------------------------------------
r1628 | dcleaver | 2011-10-23 05:13:25 +0200 (Sun, 23 Oct 2011) | 1 line
Changed paths:
   M /trunk/ecm-ecm.h

corrected function prototype
------------------------------------------------------------------------
r1627 | dcleaver | 2011-10-23 05:08:25 +0200 (Sun, 23 Oct 2011) | 1 line
Changed paths:
   M /trunk/batch.c
   M /trunk/ecm-ecm.h
   M /trunk/ecm-impl.h
   M /trunk/ecm.c
   M /trunk/ecm.h
   M /trunk/factor.c
   M /trunk/main.c

update compute_s to allow larger B1, and compute s once per B1
------------------------------------------------------------------------
r1626 | zimmerma | 2011-10-18 14:06:23 +0200 (Tue, 18 Oct 2011) | 2 lines
Changed paths:
   M /trunk/ecm.c

[ecm.c] added #define for batch mode smoothness constant

------------------------------------------------------------------------
r1625 | brian_gladman | 2011-10-15 20:03:36 +0200 (Sat, 15 Oct 2011) | 1 line
Changed paths:
   M /trunk


------------------------------------------------------------------------
r1624 | zimmerma | 2011-10-13 11:36:46 +0200 (Thu, 13 Oct 2011) | 4 lines
Changed paths:
   M /trunk/ecm.c
   M /trunk/rho.c

[rho.c] added comments about EXTRA_SMOOTHNESS factor (Alex please complete)
[ecm.c] take into account experimental factor of 3 less in torsion for batch
	mode (for expected number of curves and time)

------------------------------------------------------------------------
r1623 | brian_gladman | 2011-10-10 18:18:13 +0200 (Mon, 10 Oct 2011) | 1 line
Changed paths:
   M /trunk/build.vc10/libecm/libecm.vcxproj
   M /trunk/build.vc10/libecm/libecm.vcxproj.filters

add batch.c to VC++ build
------------------------------------------------------------------------
r1622 | dcleaver | 2011-10-09 19:58:34 +0200 (Sun, 09 Oct 2011) | 1 line
Changed paths:
   M /trunk/batch.c

Test: removed some trailing white space
------------------------------------------------------------------------
r1621 | zimmerma | 2011-10-02 22:27:01 +0200 (Sun, 02 Oct 2011) | 2 lines
Changed paths:
   M /trunk/batch.c

[batch.c] fix on 32-bit machines when s has >= 2^31 bits

------------------------------------------------------------------------
r1620 | zimmerma | 2011-10-02 09:10:05 +0200 (Sun, 02 Oct 2011) | 2 lines
Changed paths:
   M /trunk/Fgw.c

[Fgw.c] added math.h header

------------------------------------------------------------------------
r1619 | zimmerma | 2011-10-01 17:12:52 +0200 (Sat, 01 Oct 2011) | 3 lines
Changed paths:
   M /trunk/Fgw.c
   M /trunk/ecm-ecm.h
   M /trunk/ecm-impl.h
   M /trunk/ecm.c
   M /trunk/ecm.h
   M /trunk/factor.c
   M /trunk/main.c

included code from David Cleaver to recognize inputs of the form k*b^n+c
(only with GWNUM)

------------------------------------------------------------------------
r1618 | bouvierc | 2011-09-29 14:53:25 +0200 (Thu, 29 Sep 2011) | 2 lines
Changed paths:
   M /trunk/ecm-ecm.h

Modify MAX_B1 in order to avoid error during char to double conversion

------------------------------------------------------------------------
r1617 | zimmerma | 2011-09-29 14:47:29 +0200 (Thu, 29 Sep 2011) | 3 lines
Changed paths:
   M /trunk/batch.c

[batch.c] MAX_B1 -> MAX_B1_BATCH to avoid conflict with MAX_B1 defined in
	  ecm-ecm.h

------------------------------------------------------------------------
r1616 | zimmerma | 2011-09-29 14:39:55 +0200 (Thu, 29 Sep 2011) | 2 lines
Changed paths:
   M /trunk/batch.c

[batch.c] added comments and rewritten compute_s()

------------------------------------------------------------------------
r1615 | bouvierc | 2011-09-29 10:28:42 +0200 (Thu, 29 Sep 2011) | 3 lines
Changed paths:
   M /trunk/batch.c

New compute_s fonction with only one array to accumulate


------------------------------------------------------------------------
r1614 | zimmerma | 2011-09-29 08:16:12 +0200 (Thu, 29 Sep 2011) | 3 lines
Changed paths:
   M /trunk/Fgw.c
   M /trunk/batch.c

[Fgw.c] fixed error in ASSERT_ALWAYS
[batch.c] added missing mpz_clear for s

------------------------------------------------------------------------
r1613 | zimmerma | 2011-09-28 16:46:16 +0200 (Wed, 28 Sep 2011) | 2 lines
Changed paths:
   M /trunk/Fgw.c

[Fgw.c] added constraints on gw_c, and fixed stupid error

------------------------------------------------------------------------
r1612 | zimmerma | 2011-09-28 16:43:52 +0200 (Wed, 28 Sep 2011) | 2 lines
Changed paths:
   M /trunk/auxlib.c
   M /trunk/mpmod.c
   M /trunk/mul_fft.c

removed dead code (reported by gcc 4.6.1)

------------------------------------------------------------------------
r1611 | zimmerma | 2011-09-28 14:24:29 +0200 (Wed, 28 Sep 2011) | 2 lines
Changed paths:
   M /trunk/Fgw.c

[Fgw.c] added assertions on gw_k

------------------------------------------------------------------------
r1610 | zimmerma | 2011-09-26 08:53:04 +0200 (Mon, 26 Sep 2011) | 2 lines
Changed paths:
   M /trunk/factor.c

[factor.c] set batch=0 in ecm_init

------------------------------------------------------------------------
r1609 | zimmerma | 2011-09-25 21:48:04 +0200 (Sun, 25 Sep 2011) | 2 lines
Changed paths:
   M /trunk/Fgw.c
   M /trunk/ecm.c

more changes from David Cleaver for GWNUM and batch mode

------------------------------------------------------------------------
r1608 | zimmerma | 2011-09-23 16:43:33 +0200 (Fri, 23 Sep 2011) | 2 lines
Changed paths:
   M /trunk/test.ecm

[test.ecm] added one test for -batch that did fail on 32-bit computers

------------------------------------------------------------------------
r1607 | zimmerma | 2011-09-23 16:28:24 +0200 (Fri, 23 Sep 2011) | 2 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/ecm-impl.h
   M /trunk/mpmod.c

[batch.c] tiny speedup using new mpres_mul_2exp function

------------------------------------------------------------------------
r1606 | bouvierc | 2011-09-23 14:57:00 +0200 (Fri, 23 Sep 2011) | 2 lines
Changed paths:
   M /trunk/batch.c

Correct the bug reported by David Cleaver on 32-bit system

------------------------------------------------------------------------
r1605 | zimmerma | 2011-09-23 08:45:28 +0200 (Fri, 23 Sep 2011) | 2 lines
Changed paths:
   M /trunk/test.ecm

[test.ecm] added one test for the batch mode

------------------------------------------------------------------------
r1604 | zimmerma | 2011-09-22 12:06:04 +0200 (Thu, 22 Sep 2011) | 2 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/test.ecm

[batch.c] check that A = 2 (mod 4) for the batch mode

------------------------------------------------------------------------
r1603 | zimmerma | 2011-09-21 07:50:50 +0200 (Wed, 21 Sep 2011) | 2 lines
Changed paths:
   M /trunk/batch.c

[batch.c] better fix

------------------------------------------------------------------------
r1602 | zimmerma | 2011-09-20 17:41:13 +0200 (Tue, 20 Sep 2011) | 2 lines
Changed paths:
   M /trunk/batch.c

[batch.c] small changes

------------------------------------------------------------------------
r1601 | zimmerma | 2011-09-20 17:29:40 +0200 (Tue, 20 Sep 2011) | 2 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/ecm-ecm.h
   M /trunk/ecm-impl.h
   M /trunk/ecm.c
   M /trunk/resume.c

fixed a few compiler warnings with batch mode

------------------------------------------------------------------------
r1600 | zimmerma | 2011-09-20 08:49:15 +0200 (Tue, 20 Sep 2011) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] fixed stupid error in batch mode (thanks David Cleaver)

------------------------------------------------------------------------
r1599 | brian_gladman | 2011-09-19 23:26:40 +0200 (Mon, 19 Sep 2011) | 1 line
Changed paths:
   M /trunk/build.vc10/ecm/ecm.vcxproj
   M /trunk/build.vc10/ecm/ecm.vcxproj.filters

add batch mode file to Visual Studio 2010 builds
------------------------------------------------------------------------
r1598 | zimmerma | 2011-09-19 20:45:04 +0200 (Mon, 19 Sep 2011) | 2 lines
Changed paths:
   M /trunk/batch.c
   M /trunk/ecm.c
   M /trunk/main.c

cleanup of the batch mode

------------------------------------------------------------------------
r1597 | bouvierc | 2011-09-16 15:54:32 +0200 (Fri, 16 Sep 2011) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/TODO
   A /trunk/batch.c
   M /trunk/configure.in
   M /trunk/ecm-ecm.h
   M /trunk/ecm-gmp.h
   M /trunk/ecm-impl.h
   M /trunk/ecm.c
   M /trunk/ecm.h
   M /trunk/factor.c
   M /trunk/main.c
   M /trunk/mpmod.c
   M /trunk/test.ecm

Implementation of the batch mode (option -batch)
Use Montgomery's parametrization to save 1 multiplication

------------------------------------------------------------------------
r1596 | zimmerma | 2011-09-15 18:41:42 +0200 (Thu, 15 Sep 2011) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/ecm.c
   M /trunk/pp1.c

got rid of the obsolete mpres_normalize and mpres_semi_normalize functions

------------------------------------------------------------------------
r1595 | zimmerma | 2011-09-03 09:33:12 +0200 (Sat, 03 Sep 2011) | 2 lines
Changed paths:
   M /trunk/Fgw.c

[Fgw.c] more changes from David Cleaver, for future new version of GWNUM

------------------------------------------------------------------------
r1594 | zimmerma | 2011-09-02 20:19:45 +0200 (Fri, 02 Sep 2011) | 2 lines
Changed paths:
   M /trunk/ecm-params.h.athlon64

[ecm-params.h.athlon64] updated (from David Cleaver)

------------------------------------------------------------------------
r1593 | zimmerma | 2011-09-02 16:47:44 +0200 (Fri, 02 Sep 2011) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] deal with MPIR in print_config() too

------------------------------------------------------------------------
r1592 | zimmerma | 2011-09-02 16:37:02 +0200 (Fri, 02 Sep 2011) | 2 lines
Changed paths:
   M /trunk/README.dev

[README.dev] added item for a new release

------------------------------------------------------------------------
r1591 | zimmerma | 2011-09-01 19:03:25 +0200 (Thu, 01 Sep 2011) | 2 lines
Changed paths:
   M /trunk/Fgw.c
   M /trunk/INSTALL

fixed typo in name of David Cleaver (sorry)

------------------------------------------------------------------------
r1590 | zimmerma | 2011-08-22 13:58:47 +0200 (Mon, 22 Aug 2011) | 3 lines
Changed paths:
   M /trunk/Fgw.c
   M /trunk/INSTALL
   M /trunk/Makefile.am

added changes contributed by David Cleaver to use gwnum 26.6 on Windows x64
with MingW64 in Msys

------------------------------------------------------------------------
r1589 | kruppa | 2011-07-25 16:11:38 +0200 (Mon, 25 Jul 2011) | 2 lines
Changed paths:
   M /trunk/configure.in

Patch to make configure.in work with autoconf 2.68, provided by Ralf Recker

------------------------------------------------------------------------
r1588 | zimmerma | 2011-06-30 13:37:01 +0200 (Thu, 30 Jun 2011) | 2 lines
Changed paths:
   M /trunk/champions.h

[champions.h] bumped P-1 value

------------------------------------------------------------------------
r1587 | bouvierc | 2011-06-24 14:02:32 +0200 (Fri, 24 Jun 2011) | 3 lines
Changed paths:
   M /trunk/gpu/gpu_ecm/Makefile
   M /trunk/gpu/gpu_ecm/cudaarith.cu
   M /trunk/gpu/gpu_ecm/cudautils.cu
   M /trunk/gpu/gpu_ecm/cudautils.h
   M /trunk/gpu/gpu_ecm/main.cu
   M /trunk/gpu/gpu_ecm/main.h
   M /trunk/gpu/gpu_ecm/test.sh
   M /trunk/gpu/gpu_ecm/utils.cu
   M /trunk/gpu/gpu_ecm/utils.h

Latest improvements.


------------------------------------------------------------------------
r1586 | zimmerma | 2011-06-20 16:34:33 +0200 (Mon, 20 Jun 2011) | 3 lines
Changed paths:
   M /trunk/main.c

[main.c] fixed error message
	 allow 1 as factor found (when input number is 1)

------------------------------------------------------------------------
r1585 | zimmerma | 2011-06-20 16:19:19 +0200 (Mon, 20 Jun 2011) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] GNU coding style

------------------------------------------------------------------------
r1584 | bouvierc | 2011-06-20 16:12:14 +0200 (Mon, 20 Jun 2011) | 3 lines
Changed paths:
   M /trunk/main.c

Add a test to forbid nonpositive integers.


------------------------------------------------------------------------
r1583 | bouvierc | 2011-06-20 15:11:36 +0200 (Mon, 20 Jun 2011) | 3 lines
Changed paths:
   M /trunk/auxi.c

Fix a bug for number of digits with negative number.


------------------------------------------------------------------------
r1582 | zimmerma | 2011-06-15 07:43:23 +0200 (Wed, 15 Jun 2011) | 2 lines
Changed paths:
   M /trunk/champions.h

[champions.h] minimal size for ECM is now 67 digits

------------------------------------------------------------------------
r1581 | bouvierc | 2011-06-01 15:04:35 +0200 (Wed, 01 Jun 2011) | 5 lines
Changed paths:
   A /trunk/gpu/gpu_ecm
   A /trunk/gpu/gpu_ecm/Makefile
   A /trunk/gpu/gpu_ecm/cudaarith.cu
   A /trunk/gpu/gpu_ecm/cudaarith.h
   A /trunk/gpu/gpu_ecm/cudautils.cu
   A /trunk/gpu/gpu_ecm/cudautils.h
   A /trunk/gpu/gpu_ecm/gpu_ecm
   A /trunk/gpu/gpu_ecm/main.cu
   A /trunk/gpu/gpu_ecm/main.h
   A /trunk/gpu/gpu_ecm/obj
   A /trunk/gpu/gpu_ecm/test.sh
   A /trunk/gpu/gpu_ecm/utils.cu
   A /trunk/gpu/gpu_ecm/utils.h

gpu_ecm for GPU of compute capability 1.3 and above
Optimize for 1024bits modulus but can be compiled for 256 and 512bits
modulus with make v=1 and make v=2


------------------------------------------------------------------------
r1580 | brian_gladman | 2011-05-31 23:44:26 +0200 (Tue, 31 May 2011) | 1 line
Changed paths:
   M /trunk/build.vc10/tests.py

add overall timing to the Windows test program (tests.py)
------------------------------------------------------------------------
r1579 | brian_gladman | 2011-05-31 17:33:52 +0200 (Tue, 31 May 2011) | 1 line
Changed paths:
   M /trunk/build.vc10/config.h
   M /trunk/build.vc10/ecm/ecm.vcxproj
   M /trunk/build.vc10/libecm/libecm.vcxproj
   M /trunk/build.vc10/tests.py

update Windows builds to add missing defines and add OpenMP support 
------------------------------------------------------------------------
r1578 | zimmerma | 2011-05-18 12:11:45 +0200 (Wed, 18 May 2011) | 2 lines
Changed paths:
   M /trunk/champions.h

[champions.h] updated for P+1

------------------------------------------------------------------------
r1577 | zimmerma | 2011-05-05 13:05:45 +0200 (Thu, 05 May 2011) | 2 lines
Changed paths:
   M /trunk/champions.h

[champions.h] updated P+1 size

------------------------------------------------------------------------
r1576 | zimmerma | 2011-05-04 13:19:18 +0200 (Wed, 04 May 2011) | 2 lines
Changed paths:
   M /trunk/test.ecm

[test.ecm] added some tests to exercise patch from David Cleaver (r1575)

------------------------------------------------------------------------
r1575 | zimmerma | 2011-05-04 12:45:37 +0200 (Wed, 04 May 2011) | 4 lines
Changed paths:
   M /trunk/TODO
   M /trunk/configure.in
   M /trunk/ecm-impl.h
   M /trunk/ecm.c
   M /trunk/lucas.c
   M /trunk/pp1.c

added patch from David Cleaver <wraithx at morpheus dot net> to allow B1>=2^32
on machines where "unsigned long" has 32 bits only, by using
"unsigned long long"      

------------------------------------------------------------------------
r1574 | bouvierc | 2011-04-21 16:30:48 +0200 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm_cc13/cudaarith.cu

Correct a little mistake in the compare function.

------------------------------------------------------------------------
r1573 | bouvierc | 2011-04-20 17:40:57 +0200 (Wed, 20 Apr 2011) | 2 lines
Changed paths:
   M /trunk/gpu/gpu_ecm_cc13/Makefile
   M /trunk/gpu/gpu_ecm_cc13/cudaarith.cu
   M /trunk/gpu/gpu_ecm_cc13/cudaarith.h
   M /trunk/gpu/gpu_ecm_cc13/cudautils.cu
   M /trunk/gpu/gpu_ecm_cc13/main.cu
   M /trunk/gpu/gpu_ecm_cc13/test.sh
   M /trunk/gpu/gpu_ecm_cc13/utils.h

Some improvements (especially on multiplication). 30% gain in time. 

------------------------------------------------------------------------
r1572 | bouvierc | 2011-04-14 15:33:22 +0200 (Thu, 14 Apr 2011) | 1 line
Changed paths:
   M /trunk/gpu/gpu_ecm_cc13/cudautils.cu
   M /trunk/gpu/gpu_ecm_cc13/main.cu

Corrections of the copy between CPU and GPU which only worked for half of the curves.
------------------------------------------------------------------------
r1571 | bouvierc | 2011-04-13 10:46:45 +0200 (Wed, 13 Apr 2011) | 1 line
Changed paths:
   A /trunk/gpu/gpu_ecm_cc13
   A /trunk/gpu/gpu_ecm_cc13/Makefile
   A /trunk/gpu/gpu_ecm_cc13/cudaarith.cu
   A /trunk/gpu/gpu_ecm_cc13/cudaarith.h
   A /trunk/gpu/gpu_ecm_cc13/cudautils.cu
   A /trunk/gpu/gpu_ecm_cc13/main.cu
   A /trunk/gpu/gpu_ecm_cc13/obj
   A /trunk/gpu/gpu_ecm_cc13/test.sh
   A /trunk/gpu/gpu_ecm_cc13/utils.h

Implementation of ecm for NVIDIA GPU of compute capability 1.3\n./test.sh provides a example.
------------------------------------------------------------------------
r1570 | zimmerma | 2011-04-08 13:56:38 +0200 (Fri, 08 Apr 2011) | 2 lines
Changed paths:
   M /trunk/TODO

[TODO] added one item

------------------------------------------------------------------------
r1569 | zimmerma | 2011-04-08 08:31:37 +0200 (Fri, 08 Apr 2011) | 2 lines
Changed paths:
   M /trunk/README

[README] updated OpenPFGW url

------------------------------------------------------------------------
r1568 | zimmerma | 2011-03-30 13:05:10 +0200 (Wed, 30 Mar 2011) | 2 lines
Changed paths:
   M /trunk/champions.h

[champions.h] updated for P-1

------------------------------------------------------------------------
r1567 | brian_gladman | 2011-03-30 11:01:16 +0200 (Wed, 30 Mar 2011) | 1 line
Changed paths:
   M /trunk/build.vc10/ecm/ecm.vcxproj

Adjust stack size options for Windows
------------------------------------------------------------------------
r1566 | zimmerma | 2011-03-10 11:50:33 +0100 (Thu, 10 Mar 2011) | 2 lines
Changed paths:
   M /trunk/champions.h

[champions.h] updated P+1 minimum digits

------------------------------------------------------------------------
r1565 | zimmerma | 2011-01-18 17:44:09 +0100 (Tue, 18 Jan 2011) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] removed trailing blank (commit test)

------------------------------------------------------------------------
r1564 | brian_gladman | 2011-01-14 17:46:08 +0100 (Fri, 14 Jan 2011) | 1 line
Changed paths:
   M /trunk/build.vc10/ecm/ecm.vcxproj
   M /trunk/build.vc10/ecm/ecm.vcxproj.filters
   M /trunk/build.vc10/libecm/libecm.vcxproj
   M /trunk/build.vc10/libecm/libecm.vcxproj.filters

Add champions.h to Windows builds
------------------------------------------------------------------------
r1563 | zimmerma | 2011-01-12 14:55:15 +0100 (Wed, 12 Jan 2011) | 3 lines
Changed paths:
   M /trunk/main.c

[main.c] print assertions too (if enabled) in the startup line, and cleaned up
	 the corresponding code

------------------------------------------------------------------------
r1562 | kruppa | 2011-01-06 16:48:16 +0100 (Thu, 06 Jan 2011) | 2 lines
Changed paths:
   M /trunk/x86_64/mulredc.m4

Better asm code for AMD cpus

------------------------------------------------------------------------
r1561 | kruppa | 2011-01-06 13:49:16 +0100 (Thu, 06 Jan 2011) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   A /trunk/champions.h
   M /trunk/main.c

Put champions list in own file to avoid frequent updates to main.c

------------------------------------------------------------------------
r1560 | brian_gladman | 2010-12-30 16:19:42 +0100 (Thu, 30 Dec 2010) | 1 line
Changed paths:
   M /trunk/build.vc10/config.h

minor change to Windows win32 build configuration
------------------------------------------------------------------------
r1559 | kruppa | 2010-12-17 17:18:11 +0100 (Fri, 17 Dec 2010) | 2 lines
Changed paths:
   M /trunk/pm1.c
   M /trunk/pm1fs2.c
   M /trunk/pp1.c

Fix spurious error messages introduced in last commit

------------------------------------------------------------------------
r1558 | kruppa | 2010-12-17 17:11:47 +0100 (Fri, 17 Dec 2010) | 4 lines
Changed paths:
   M /trunk/pm1.c
   M /trunk/pm1fs2.c

Bugfix for choosing between NTT and non-NTT.
Needs more testing before doing choice for P+1 the same way


------------------------------------------------------------------------
r1557 | zimmerma | 2010-12-17 16:14:22 +0100 (Fri, 17 Dec 2010) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] removed one blank (test commit)

------------------------------------------------------------------------
r1556 | kruppa | 2010-12-17 14:18:02 +0100 (Fri, 17 Dec 2010) | 2 lines
Changed paths:
   M /trunk/configure.in

Link Woltman's GWNUM with -lpthread, abort if GWNUM+OpenMP is requested

------------------------------------------------------------------------
r1555 | zimmerma | 2010-12-09 15:32:17 +0100 (Thu, 09 Dec 2010) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] removed trailing blank (test)

------------------------------------------------------------------------
r1554 | zimmerma | 2010-12-05 22:21:25 +0100 (Sun, 05 Dec 2010) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] now recognizes MPIR

------------------------------------------------------------------------
r1553 | zimmerma | 2010-11-24 16:13:11 +0100 (Wed, 24 Nov 2010) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] we now need at least a p66 to enter the ECM top ten!

------------------------------------------------------------------------
r1552 | brian_gladman | 2010-11-22 20:17:10 +0100 (Mon, 22 Nov 2010) | 1 line
Changed paths:
   M /trunk/build.vc10/ecm/ecm.vcxproj
   M /trunk/build.vc10/libecm/libecm.vcxproj
   M /trunk/build.vc10/mp_lib.props
   M /trunk/build.vc10/tune/tune.vcxproj

minor Windows build changes
------------------------------------------------------------------------
r1551 | brian_gladman | 2010-11-22 13:33:06 +0100 (Mon, 22 Nov 2010) | 1 line
Changed paths:
   M /trunk/build.vc10/config.h
   M /trunk/build.vc10/ecm/ecm.vcxproj
   M /trunk/build.vc10/ecm.sln
   M /trunk/build.vc10/libecm/libecm.vcxproj

minor Windows build changes
------------------------------------------------------------------------
r1550 | zimmerma | 2010-11-19 15:03:23 +0100 (Fri, 19 Nov 2010) | 3 lines
Changed paths:
   M /trunk/mul_fft.c

[mul_fft.c] check for malloc return value in main memory allocation,
	    and point to -maxmem option

------------------------------------------------------------------------
r1549 | zimmerma | 2010-11-18 21:14:06 +0100 (Thu, 18 Nov 2010) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

[pm1fs2.c] fixed typos in comments

------------------------------------------------------------------------
r1548 | zimmerma | 2010-11-18 20:57:40 +0100 (Thu, 18 Nov 2010) | 2 lines
Changed paths:
   M /trunk/pm1.c

[pm1.c] p-1 -> P-1

------------------------------------------------------------------------
r1547 | zimmerma | 2010-11-12 15:12:10 +0100 (Fri, 12 Nov 2010) | 2 lines
Changed paths:
   M /trunk/NEWS

[NEWS] added more stuff

------------------------------------------------------------------------
r1546 | zimmerma | 2010-11-12 15:01:48 +0100 (Fri, 12 Nov 2010) | 3 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/configure.in

[configure.in] fixed problem with SSE2 support
	       (http://trac.sagemath.org/sage_trac/ticket/10252)

------------------------------------------------------------------------
r1545 | zimmerma | 2010-11-10 11:16:13 +0100 (Wed, 10 Nov 2010) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] removed trailing blank

------------------------------------------------------------------------
r1544 | zimmerma | 2010-11-10 11:04:02 +0100 (Wed, 10 Nov 2010) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] removed another trailing blank

------------------------------------------------------------------------
r1543 | zimmerma | 2010-11-10 10:52:14 +0100 (Wed, 10 Nov 2010) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] removed another trailing blank (another commit log test)

------------------------------------------------------------------------
r1542 | zimmerma | 2010-11-10 10:36:46 +0100 (Wed, 10 Nov 2010) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] removed trailing blank (commit log test)

------------------------------------------------------------------------
r1541 | zimmerma | 2010-11-08 17:50:20 +0100 (Mon, 08 Nov 2010) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] removed trailing blank

------------------------------------------------------------------------
r1540 | zimmerma | 2010-11-08 07:53:35 +0100 (Mon, 08 Nov 2010) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] removed trailing space

------------------------------------------------------------------------
r1539 | brian_gladman | 2010-10-30 19:31:28 +0200 (Sat, 30 Oct 2010) | 1 line
Changed paths:
   A /trunk/build.vc10
   A /trunk/build.vc10/assembler
   A /trunk/build.vc10/assembler/a_win32a_mulredc.asm
   A /trunk/build.vc10/assembler/a_win32a_redc.asm
   A /trunk/build.vc10/assembler/a_win32p_mulredc.asm
   A /trunk/build.vc10/assembler/a_win32p_redc.asm
   A /trunk/build.vc10/assembler/a_x64_mulredc.asm
   A /trunk/build.vc10/assembler/a_x64_redc.asm
   A /trunk/build.vc10/assembler/mulredc.h
   A /trunk/build.vc10/assembler/test_mulredc.c
   A /trunk/build.vc10/config.h
   A /trunk/build.vc10/ecm
   A /trunk/build.vc10/ecm/ecm.vcxproj
   A /trunk/build.vc10/ecm/ecm.vcxproj.filters
   A /trunk/build.vc10/ecm-params.h
   A /trunk/build.vc10/ecm-params.h.win32.amd
   A /trunk/build.vc10/ecm-params.h.win32.intel
   A /trunk/build.vc10/ecm-params.h.x64.amd
   A /trunk/build.vc10/ecm-params.h.x64.intel
   A /trunk/build.vc10/ecm.sln
   A /trunk/build.vc10/file_copy.bat
   A /trunk/build.vc10/libecm
   A /trunk/build.vc10/libecm/libecm.vcxproj
   A /trunk/build.vc10/libecm/libecm.vcxproj.filters
   A /trunk/build.vc10/mp_lib.props
   A /trunk/build.vc10/mul_fft-params.h.win32.amd
   A /trunk/build.vc10/mul_fft-params.h.win32.intel
   A /trunk/build.vc10/mul_fft-params.h.x64.amd
   A /trunk/build.vc10/mul_fft-params.h.x64.intel
   A /trunk/build.vc10/readme.txt
   A /trunk/build.vc10/tests.py
   A /trunk/build.vc10/tune
   A /trunk/build.vc10/tune/tune.vcxproj
   A /trunk/build.vc10/tune/tune.vcxproj.filters
   A /trunk/build.vc10/vsyasm.props
   A /trunk/build.vc10/vsyasm.targets
   A /trunk/build.vc10/vsyasm.xml

Add a Visual Studio 2010 build
------------------------------------------------------------------------
r1538 | brian_gladman | 2010-10-30 19:07:41 +0200 (Sat, 30 Oct 2010) | 1 line
Changed paths:
   M /trunk/longlong.h

Further correction of _PROTO define
------------------------------------------------------------------------
r1537 | brian_gladman | 2010-10-30 16:57:34 +0200 (Sat, 30 Oct 2010) | 2 lines
Changed paths:
   M /trunk/mul_fft.c

Correct bug in definition of _PROTO in mul_fft.c

------------------------------------------------------------------------
r1536 | zimmerma | 2010-10-22 10:28:43 +0200 (Fri, 22 Oct 2010) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] updated champions table

------------------------------------------------------------------------
r1535 | zimmerma | 2010-09-10 16:58:27 +0200 (Fri, 10 Sep 2010) | 2 lines
Changed paths:
   A /trunk/gpu/modular_arithmetic.h

[modular_arithmetic.h] header file for routines in modular_arithmetic.c

------------------------------------------------------------------------
r1534 | zimmerma | 2010-09-10 16:57:45 +0200 (Fri, 10 Sep 2010) | 2 lines
Changed paths:
   A /trunk/gpu/stage1-c.c

[stage1-c.c] new file, plain-C version of stage1.c

------------------------------------------------------------------------
r1533 | zimmerma | 2010-09-10 16:41:33 +0200 (Fri, 10 Sep 2010) | 3 lines
Changed paths:
   M /trunk/gpu/makefile
   M /trunk/gpu/modular_arithmetic.c
   M /trunk/gpu/prototype.c
   M /trunk/gpu/prototype.h

now stage1-c seems to give similar results as stage1
(but the efficiency can still be improved)

------------------------------------------------------------------------
r1532 | zimmerma | 2010-09-08 13:34:01 +0200 (Wed, 08 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gpu/makefile
   M /trunk/gpu/modular_arithmetic.c

cleanup in file modular_arithmetic.c

------------------------------------------------------------------------
r1531 | zimmerma | 2010-09-08 13:19:50 +0200 (Wed, 08 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gpu/makefile
   M /trunk/gpu/prototype.c
   M /trunk/gpu/stage1.c

small changes to avoid compiler warnings

------------------------------------------------------------------------
r1530 | zimmerma | 2010-09-08 11:50:53 +0200 (Wed, 08 Sep 2010) | 3 lines
Changed paths:
   M /trunk/gpu/makefile
   M /trunk/gpu/prototype.c
   M /trunk/gpu/stage1.c

fixed computation of d=(a+2)/4 mod N in prototype.c, added copyright notice,
and started to clean up code

------------------------------------------------------------------------
r1529 | zimmerma | 2010-09-08 11:04:36 +0200 (Wed, 08 Sep 2010) | 2 lines
Changed paths:
   M /trunk/INSTALL

[INSTALL] updated info about sparc problem

------------------------------------------------------------------------
r1528 | zimmerma | 2010-09-07 08:37:27 +0200 (Tue, 07 Sep 2010) | 2 lines
Changed paths:
   M /trunk/INSTALL

[INSTALL] added know problem on sparc with GCC 4.4.5

------------------------------------------------------------------------
r1527 | kruppa | 2010-07-31 15:35:01 +0200 (Sat, 31 Jul 2010) | 3 lines
Changed paths:
   M /trunk/athlon/Makefile.am
   M /trunk/pentium4/Makefile.am
   M /trunk/powerpc64/Makefile.am
   M /trunk/x86_64/Makefile.am

Avoid spurious dependency of libmulredc on GMP and libm.


------------------------------------------------------------------------
r1526 | kruppa | 2010-07-31 15:33:57 +0200 (Sat, 31 Jul 2010) | 5 lines
Changed paths:
   M /trunk/x86_64/mulredc.m4
   M /trunk/x86_64/mulredc1.asm
   M /trunk/x86_64/mulredc1.m4

PIC-ify calls to abort(). We always call abort@plt now, which on Linux 
seems to work even in a static library, but may not be portable. Needs 
testing.


------------------------------------------------------------------------
r1525 | zimmerma | 2010-07-28 11:09:59 +0200 (Wed, 28 Jul 2010) | 2 lines
Changed paths:
   M /trunk/Makefile.am

[Makefile.am] patch from Laurent Fousse (libecm.so was not linked against gmp)

------------------------------------------------------------------------
r1524 | kruppa | 2010-07-24 13:35:53 +0200 (Sat, 24 Jul 2010) | 3 lines
Changed paths:
   M /trunk/Makefile.am

Removed linker flags from LDADD to avoid spurious dependencies
Include mulredc in libecm.la only if asm redc is actually used

------------------------------------------------------------------------
r1523 | zimmerma | 2010-07-09 11:14:01 +0200 (Fri, 09 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gpu/makefile
   M /trunk/gpu/modular_arithmetic.c

fixed bug in mul()

------------------------------------------------------------------------
r1522 | zimmerma | 2010-07-09 10:29:10 +0200 (Fri, 09 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gpu/makefile

[makefile] added target

------------------------------------------------------------------------
r1521 | feltin | 2010-07-08 17:07:38 +0200 (Thu, 08 Jul 2010) | 1 line
Changed paths:
   A /trunk/gpu/getprime.c
   A /trunk/gpu/getprime.h
   M /trunk/gpu/modular_arithmetic.c


------------------------------------------------------------------------
r1520 | feltin | 2010-07-07 17:09:57 +0200 (Wed, 07 Jul 2010) | 2 lines
Changed paths:
   A /trunk/gpu/modular_arithmetic.c

Modular arithmetic version in C without using the GMP library

------------------------------------------------------------------------
r1519 | zimmerma | 2010-07-02 16:34:15 +0200 (Fri, 02 Jul 2010) | 2 lines
Changed paths:
   M /trunk/Makefile.am

[Makefile.am] better fix for #10648 (contributed from Vincent Lefvre)

------------------------------------------------------------------------
r1518 | zimmerma | 2010-07-01 17:38:51 +0200 (Thu, 01 Jul 2010) | 4 lines
Changed paths:
   M /trunk/configure.in

[configure.in] better fix from Vincent Lefevre: even on x86_64, we might use
	       GMP with ABI=32, in which case we shouldn't use the (64-bit)
	       assembly redc from x86_64

------------------------------------------------------------------------
r1517 | zimmerma | 2010-07-01 17:31:34 +0200 (Thu, 01 Jul 2010) | 3 lines
Changed paths:
   M /trunk/Makefile.am

[Makefile.am] patch to solve bug #10648 from tracker, however I'm not sure
	      this solution is the right one, if needed we can revert it.

------------------------------------------------------------------------
r1516 | zimmerma | 2010-06-30 15:50:19 +0200 (Wed, 30 Jun 2010) | 2 lines
Changed paths:
   M /trunk/configure.in

[configure.in] patch from Vincent Lefevre (see bug tracker #10646)

------------------------------------------------------------------------
r1515 | zimmerma | 2010-06-30 14:54:20 +0200 (Wed, 30 Jun 2010) | 2 lines
Changed paths:
   M /trunk/Makefile.am

[Makefile.am] added comment

------------------------------------------------------------------------
r1514 | zimmerma | 2010-06-30 14:28:04 +0200 (Wed, 30 Jun 2010) | 4 lines
Changed paths:
   M /trunk/configure.in

[configure.in] fixed bug reported by Vincent Lefevre:
	       incorrect configure --help output for --enable-asm-redc
	       (#10649 on bug tracker)

------------------------------------------------------------------------
r1513 | zimmerma | 2010-06-30 14:18:56 +0200 (Wed, 30 Jun 2010) | 2 lines
Changed paths:
   M /trunk/configure.in

[configure.in] fixed typo

------------------------------------------------------------------------
r1512 | feltin | 2010-06-21 11:03:53 +0200 (Mon, 21 Jun 2010) | 2 lines
Changed paths:
   M /trunk/gpu/makefile
   M /trunk/gpu/prototype.c
   M /trunk/gpu/prototype.h
   M /trunk/gpu/stage1.c

Stage1 of algorithm ECM (version 2)

------------------------------------------------------------------------
r1511 | zimmerma | 2010-06-15 16:25:05 +0200 (Tue, 15 Jun 2010) | 2 lines
Changed paths:
   M /trunk/INSTALL

[INSTALL] new section with known problems

------------------------------------------------------------------------
r1510 | feltin | 2010-06-15 15:48:17 +0200 (Tue, 15 Jun 2010) | 2 lines
Changed paths:
   A /trunk/gpu/makefile
   A /trunk/gpu/prototype.c
   A /trunk/gpu/prototype.h
   A /trunk/gpu/stage1.c

first version of ECM (using GMP)

------------------------------------------------------------------------
r1509 | zimmerma | 2010-06-15 09:15:29 +0200 (Tue, 15 Jun 2010) | 2 lines
Changed paths:
   A /trunk/gpu

[gpu] new subdirectory to experiment with GPU code for stage 1

------------------------------------------------------------------------
r1508 | zimmerma | 2010-05-22 12:39:45 +0200 (Sat, 22 May 2010) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] updated smallest champion size for P-1

------------------------------------------------------------------------
r1507 | zimmerma | 2010-05-17 00:38:19 +0200 (Mon, 17 May 2010) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] now we need at least 64 digits to enter the ECM champion list!

------------------------------------------------------------------------
r1506 | kruppa | 2010-04-27 13:52:26 +0200 (Tue, 27 Apr 2010) | 2 lines
Changed paths:
   M /trunk/build.vc9/Makefile.am
   M /trunk/build.vc9/assembler/Makefile.am
   A /trunk/build.vc9/tune/Makefile.am
   M /trunk/configure.in

Added missing files for Visual C build

------------------------------------------------------------------------
r1505 | zimmerma | 2010-04-24 23:05:26 +0200 (Sat, 24 Apr 2010) | 2 lines
Changed paths:
   M /trunk/TODO

[TODO] updated done item

------------------------------------------------------------------------
r1504 | zimmerma | 2010-04-24 22:59:28 +0200 (Sat, 24 Apr 2010) | 3 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/mpzspm.c
   M /trunk/mpzspv.c
   M /trunk/sp.h
   M /trunk/spm.c

implemented fast conversion from mpz_t to RNS (hard-coded threshold is
	    2^7 moduli, which seems close to optimal on a 64-bit machine)

------------------------------------------------------------------------
r1502 | kruppa | 2010-04-19 11:19:49 +0200 (Mon, 19 Apr 2010) | 3 lines
Changed paths:
   M /trunk/ChangeLog

Last commits for 6.3 added

------------------------------------------------------------------------
r1501 | kruppa | 2010-04-18 22:14:22 +0200 (Sun, 18 Apr 2010) | 5 lines

Version 6.3.
Assertions off by default.
Added new thresholds to 64-bit parameter files in build.vc9/.


------------------------------------------------------------------------
r1500 | kruppa | 2010-04-17 01:40:06 +0200 (Sat, 17 Apr 2010) | 4 lines

Include ecm-params.h.core2 in distribution
Updated record factor sizes


------------------------------------------------------------------------
r1499 | kruppa | 2010-04-17 01:26:15 +0200 (Sat, 17 Apr 2010) | 4 lines

Specify source dir path for /powerpc64/powerpc-defs.m4 include to make
out-of-source builds work


------------------------------------------------------------------------
r1498 | kruppa | 2010-04-16 23:41:03 +0200 (Fri, 16 Apr 2010) | 4 lines

Detect Core 2 cpus if /proc/cpuinfo exists and use correct parameter file;
warn about choosing right paramters if no /proc/cpuinfo exists on x86_64

------------------------------------------------------------------------
r1497 | kruppa | 2010-04-16 18:11:31 +0200 (Fri, 16 Apr 2010) | 4 lines

Threshold 100 for using multi-threading in mpzspv_from_mpzv() was 
too low for ECM, actually increased run-time. Threshold increased
to 16384

------------------------------------------------------------------------
r1496 | kruppa | 2010-04-15 12:11:20 +0200 (Thu, 15 Apr 2010) | 2 lines

Add underscores to abort call on systems that need it

------------------------------------------------------------------------
r1495 | kruppa | 2010-04-14 23:16:48 +0200 (Wed, 14 Apr 2010) | 2 lines

Test for mpn_sqr() and if it doesn't exist, fall back to mpn_mul()

------------------------------------------------------------------------
r1494 | kruppa | 2010-04-13 19:15:12 +0200 (Tue, 13 Apr 2010) | 4 lines

Fixed missing return value that caused compiler warning
Removed OMP critical that was left over from debugging

------------------------------------------------------------------------
r1493 | kruppa | 2010-04-11 21:46:36 +0200 (Sun, 11 Apr 2010) | 3 lines

Small changes: check if --with-gmp dir exists, clarification of comment, 
remove duplicate case

------------------------------------------------------------------------
r1492 | kruppa | 2010-04-11 00:44:00 +0200 (Sun, 11 Apr 2010) | 4 lines

Get addresses of input operands to mpres_mul() after realloc for result.
Input operands may change address if input and output are the same mpz_t,
and reading from the old, now free()'d, address makes valgrind unhappy

------------------------------------------------------------------------
r1491 | kruppa | 2010-04-10 23:45:24 +0200 (Sat, 10 Apr 2010) | 2 lines

ASSERT input < modulus was too strict, NTT code itself does not fully reduce

------------------------------------------------------------------------
r1490 | kruppa | 2010-04-10 23:34:11 +0200 (Sat, 10 Apr 2010) | 2 lines

Fixed missing mod reductions that could lead to NTT overflows

------------------------------------------------------------------------
r1489 | zimmerma | 2010-04-09 20:57:52 +0200 (Fri, 09 Apr 2010) | 2 lines

[TODO] corrected item about mpn_redc_2

------------------------------------------------------------------------
r1488 | zimmerma | 2010-04-09 19:45:57 +0200 (Fri, 09 Apr 2010) | 2 lines

[TODO] forgot to commit 2nd item in last change

------------------------------------------------------------------------
r1487 | zimmerma | 2010-04-09 19:45:29 +0200 (Fri, 09 Apr 2010) | 2 lines

[TODO] added two items suggested by T. Granlund

------------------------------------------------------------------------
r1486 | zimmerma | 2010-04-09 19:31:09 +0200 (Fri, 09 Apr 2010) | 2 lines

bumped version number to 6.3-rc4 (just to try "make dist")

------------------------------------------------------------------------
r1485 | zimmerma | 2010-04-09 19:25:07 +0200 (Fri, 09 Apr 2010) | 4 lines

[ecm-params.h.alpha-ev56] new parameter file for Alpha ev56
[Makefile.am] added ecm-params.h.alpha-ev56 in "make dist"
[configure.in] now takes new default parameter files

------------------------------------------------------------------------
r1484 | kruppa | 2010-04-09 19:10:09 +0200 (Fri, 09 Apr 2010) | 4 lines

Small changes to make building outside of the source directory work.
Make libmulredc.a depend on config.m4 in all asm subdirectories.


------------------------------------------------------------------------
r1483 | zimmerma | 2010-04-09 19:06:09 +0200 (Fri, 09 Apr 2010) | 2 lines

[README.dev] added item to make a new release

------------------------------------------------------------------------
r1482 | zimmerma | 2010-04-09 19:03:13 +0200 (Fri, 09 Apr 2010) | 3 lines

[ecm-params.h.pentium4] updated parameters for ecm-6.3
[Makefile.am] added hppa2.0 default parameters

------------------------------------------------------------------------
r1481 | kruppa | 2010-04-09 17:44:31 +0200 (Fri, 09 Apr 2010) | 4 lines

Looks like gas wants "#" as comment separater and Apple Mac OS X assembler 
wants ";" so now we use M4 to discard comments


------------------------------------------------------------------------
r1480 | kruppa | 2010-04-09 16:13:09 +0200 (Fri, 09 Apr 2010) | 4 lines

Make -printconfig print whether Windows ABI is used for assembler functions
Q&D (and #define'd out) test of mulredc1_*() functions


------------------------------------------------------------------------
r1479 | kruppa | 2010-04-09 16:02:40 +0200 (Fri, 09 Apr 2010) | 3 lines

Likewise fixed incorrect reading of inv_m and missing quotes


------------------------------------------------------------------------
r1478 | kruppa | 2010-04-09 15:27:37 +0200 (Fri, 09 Apr 2010) | 6 lines

Fixed incorrect quoting which broke the asserts and the switch to MS ABI
in mulredc.m4.
Fixed incorrect reading of inv_m from the stack.
No longer include x86_64/redc.asm in build or distribution.


------------------------------------------------------------------------
r1477 | zimmerma | 2010-04-08 16:07:04 +0200 (Thu, 08 Apr 2010) | 2 lines

[ecm-params.h.hppa2.0] parameter file for hppa2.0

------------------------------------------------------------------------
r1476 | zimmerma | 2010-04-08 15:19:34 +0200 (Thu, 08 Apr 2010) | 2 lines

[sp.h] fix to make umul_ppmm() work properly on hppa2.0 (gcc61.fsffrance.org)

------------------------------------------------------------------------
r1475 | zimmerma | 2010-04-08 15:07:29 +0200 (Thu, 08 Apr 2010) | 2 lines

[ecm-params.h.pentium-m] updated

------------------------------------------------------------------------
r1474 | zimmerma | 2010-04-07 17:48:22 +0200 (Wed, 07 Apr 2010) | 3 lines

[ecm-params.h.ia64] new parameter file
[Makefile.am] added ecm-params.h.ia64 in make dist

------------------------------------------------------------------------
r1473 | kruppa | 2010-04-07 17:36:19 +0200 (Wed, 07 Apr 2010) | 6 lines

Changed comments from C++ style "//" to assembler style "#" to avoid
.S files which cause trouble on case-insensitive filesystems.
Removed mulredc*.asm files from SVN as these are generated code.
Added rules to Makefile.am to generate the mulredc*.asm files.


------------------------------------------------------------------------
r1472 | zimmerma | 2010-04-07 15:13:59 +0200 (Wed, 07 Apr 2010) | 3 lines

[ecm-params.h.sparc64] parameter file for sparc64
[Makefile.am] added ecm-params.h.sparc64 to make dist

------------------------------------------------------------------------
r1471 | zimmerma | 2010-04-07 14:00:27 +0200 (Wed, 07 Apr 2010) | 2 lines

[Makefile.am] added new parameter files to make dist

------------------------------------------------------------------------
r1470 | zimmerma | 2010-04-07 13:52:53 +0200 (Wed, 07 Apr 2010) | 2 lines

[ecm-params.h.athlon] added comment (this is for Opteron)

------------------------------------------------------------------------
r1469 | zimmerma | 2010-04-07 13:04:26 +0200 (Wed, 07 Apr 2010) | 3 lines

[ecm-params.h.armv5tel] new parameter file for ARM
[ecm-params.h.mips64el,ecm-params.h.powerpc970] added version of GMP used

------------------------------------------------------------------------
r1468 | zimmerma | 2010-04-07 11:12:54 +0200 (Wed, 07 Apr 2010) | 2 lines

[ecm-params.h.mips64el] new parameter file for MIPS64

------------------------------------------------------------------------
r1467 | zimmerma | 2010-04-07 09:56:05 +0200 (Wed, 07 Apr 2010) | 2 lines

[ecm-params.h.powerpc970] updated tuning parameters for 6.3

------------------------------------------------------------------------
r1466 | kruppa | 2010-04-06 17:25:50 +0200 (Tue, 06 Apr 2010) | 3 lines

Test if compiler understands __attribute__((hot)) at configure time
Marked some hot-spot functions of ECM accordingly

------------------------------------------------------------------------
r1465 | kruppa | 2010-04-02 14:41:42 +0200 (Fri, 02 Apr 2010) | 3 lines

Removed duplicate LT_PREREQ, lowered requirement from 2.2.6b
to 2.2.6.

------------------------------------------------------------------------
r1464 | kruppa | 2010-04-01 17:16:34 +0200 (Thu, 01 Apr 2010) | 6 lines

Separate thresholds for mulredc*() functions for squaring and 
general multiplication, since GMP mpn_sqr() is faster than mpn_mul_n()
Use __gmpn_redc_1() function if configure finds it, although 
at this time it doesn't seem to be faster than the loop over mpn_addmul_1()


------------------------------------------------------------------------
r1463 | kruppa | 2010-03-31 11:35:48 +0200 (Wed, 31 Mar 2010) | 2 lines

Print TUNE_MULREDC_THRESH with -printconfig

------------------------------------------------------------------------
r1462 | kruppa | 2010-03-31 10:27:19 +0200 (Wed, 31 Mar 2010) | 2 lines

Fixed uninitialised variable in assertion

------------------------------------------------------------------------
r1461 | zimmerma | 2010-03-31 10:22:47 +0200 (Wed, 31 Mar 2010) | 2 lines

[README.dev] added two reminders for making a new release

------------------------------------------------------------------------
r1460 | kruppa | 2010-03-31 01:53:51 +0200 (Wed, 31 Mar 2010) | 9 lines

Switch assembly code to Windows ABI under MinGW
Assembly redc3() function disabled on x86_84, GMP is faster
New threshold for tuning: TUNE_MULREDC_THRESH, determines when to switch
from asm mulredc*() functions to GMP
Changed functions called by mpres_mul() to reduce call overhead
Added "longcheck" target which runs the test scripts with different 
parameters and with valgrind, if configure found valgrind


------------------------------------------------------------------------
r1459 | kruppa | 2010-03-18 17:46:07 +0100 (Thu, 18 Mar 2010) | 3 lines

Make asm code switch to Windows 64 ABI if WINDOWS64_ABI is defined 
in config.m4. Completely untested. mulredc1.m4 is to be done yet

------------------------------------------------------------------------
r1458 | kruppa | 2010-03-17 23:10:02 +0100 (Wed, 17 Mar 2010) | 2 lines

Auto-generated files, should not be in SVN

------------------------------------------------------------------------
r1457 | kruppa | 2010-03-17 22:03:23 +0100 (Wed, 17 Mar 2010) | 2 lines

Added -printconfig parameter

------------------------------------------------------------------------
r1456 | kruppa | 2010-03-17 19:01:40 +0100 (Wed, 17 Mar 2010) | 5 lines

Try to import CC and CFLAGS from gmp.h (copied from MPFR 2.4.2)
Detect SSE2 support by test compilation
Use CCASFLAGS with CCAS
Stricter quoting

------------------------------------------------------------------------
r1455 | kruppa | 2010-03-17 18:58:36 +0100 (Wed, 17 Mar 2010) | 3 lines

Commented out .asm -> .S rule to avoid problems on case-insensitive 
filesystems

------------------------------------------------------------------------
r1454 | kruppa | 2010-03-16 17:47:49 +0100 (Tue, 16 Mar 2010) | 2 lines

Truncating pointer conversion bug fixed, pointed out by David Cleaver

------------------------------------------------------------------------
r1453 | kruppa | 2010-03-16 17:34:39 +0100 (Tue, 16 Mar 2010) | 5 lines

Change use of CFLAGS, CCASFLAGS and LDFLAGS when checking for underscores
to match that in the resulting Makefile. Fixes error when -m64 was added 
to CCASFLAGS.


------------------------------------------------------------------------
r1452 | kruppa | 2010-03-10 22:15:44 +0100 (Wed, 10 Mar 2010) | 8 lines

Use autoconf's test to determine how to enable OpenMP in the compiler.
Enable OpenMP only for those targets that need it to avoid spurious 
library dependencies.
Link GSL only to rho in test-drive mode to avoid spurious library 
dependency. Compile GSL-dependent code in rho.c only in test-drive mode.
More consistent quoting in configure.in


------------------------------------------------------------------------
r1451 | kruppa | 2010-03-10 13:59:21 +0100 (Wed, 10 Mar 2010) | 3 lines

Keep linking to GMP library while checking for GMP functions such as 
__gmpn_add_nc and __gmpn_mod_34lsub1

------------------------------------------------------------------------
r1450 | zimmerma | 2010-03-09 11:35:21 +0100 (Tue, 09 Mar 2010) | 3 lines

[ecm.c] clean up the code to print expected number of curves and time
	also changed to print from 35 to 80 digits instead of 20 to 65

------------------------------------------------------------------------
r1449 | kruppa | 2010-03-07 21:53:40 +0100 (Sun, 07 Mar 2010) | 4 lines

powerpc64 needs -m64 flag for gcc to produce 64 bit build. Without the flag,
it produces a 32 bit build seemingly successfully, but the 64-bit mulredc 
asm code produces incorrect arithmetic.

------------------------------------------------------------------------
r1447 | kruppa | 2010-03-07 17:25:37 +0100 (Sun, 07 Mar 2010) | 8 lines

Changed rules for building manpage ecm.1. Previously the man page would be 
built if ecm.1 was missing or was older than ecm.xml, even if xsltproc or 
docbook.xsl were not found by ./configure, causing "make" to exit with
error. 
Furthermore, listing ecm.1 in two output variables would cause 
"make install" to try to install the same man page twice, leading to a 
warning.

------------------------------------------------------------------------
r1446 | kruppa | 2010-03-07 16:18:06 +0100 (Sun, 07 Mar 2010) | 2 lines

File locking item removed, it's done

------------------------------------------------------------------------
r1445 | kruppa | 2010-03-07 02:23:44 +0100 (Sun, 07 Mar 2010) | 2 lines
Changed paths:
   M /trunk/README

Point out explicitly that -save saves after stage 2

------------------------------------------------------------------------
r1444 | kruppa | 2010-03-07 00:47:56 +0100 (Sun, 07 Mar 2010) | 2 lines
Changed paths:
   M /trunk/resume.c

Process LF, CR, and CR/LF as newline when reading save files

------------------------------------------------------------------------
r1443 | kruppa | 2010-03-05 15:53:07 +0100 (Fri, 05 Mar 2010) | 2 lines
Changed paths:
   M /trunk/INSTALL

Refer to latest GMP version 5.0.1

------------------------------------------------------------------------
r1442 | kruppa | 2010-03-03 17:18:47 +0100 (Wed, 03 Mar 2010) | 8 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.in

On Darwin x86_64 systems, see if we need to pass -m64 to gcc to get
64 bit code.

Don't add the GMP library to LIBS, but let Makefile.am add it to LDADD
instead, to avoid GMP getting copied into the GMP-ECM libraries which 
is non-portable and seems to break linking on Darwin systems.


------------------------------------------------------------------------
r1441 | kruppa | 2010-03-03 17:13:40 +0100 (Wed, 03 Mar 2010) | 5 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/mpmod.c
   M /trunk/rho.c
   M /trunk/schoen_strass.c

Fixed operator precedence bug in schoen_strass.c
Compile Buchstab_omega() in rho.c only with GSL to avoid warning
Added mpres_equal() function


------------------------------------------------------------------------
r1440 | kruppa | 2010-03-03 15:48:45 +0100 (Wed, 03 Mar 2010) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Hide omp critical pragma if OMP isn't used to avoid compiler warning

------------------------------------------------------------------------
r1439 | kruppa | 2010-02-15 18:34:20 +0100 (Mon, 15 Feb 2010) | 5 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/ecm-ecm.h
   M /trunk/main.c
   M /trunk/resume.c

Removed some dead code from checkpoint writing.
Changed writing save file lines always to append to the file, with
file locking if fcntl() is available. 


------------------------------------------------------------------------
r1438 | kruppa | 2010-02-10 15:17:53 +0100 (Wed, 10 Feb 2010) | 3 lines
Changed paths:
   M /trunk/phiP.gp

Slight cleanups


------------------------------------------------------------------------
r1437 | kruppa | 2010-02-10 14:41:32 +0100 (Wed, 10 Feb 2010) | 3 lines
Changed paths:
   M /trunk/pm1fs2.c

Previous commint included P values where code could not factor phi(P). Fixed


------------------------------------------------------------------------
r1436 | kruppa | 2010-02-10 13:41:29 +0100 (Wed, 10 Feb 2010) | 3 lines
Changed paths:
   M /trunk/pm1fs2.c

More P values to allow larger B2 in a single run


------------------------------------------------------------------------
r1435 | kruppa | 2010-02-10 01:49:03 +0100 (Wed, 10 Feb 2010) | 3 lines
Changed paths:
   M /trunk/pm1fs2.c

More parallelization while building f(x)


------------------------------------------------------------------------
r1434 | kruppa | 2010-02-01 17:39:17 +0100 (Mon, 01 Feb 2010) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Cleanup in list_scale_V(), slightly more parallelization

------------------------------------------------------------------------
r1433 | kruppa | 2010-02-01 14:48:52 +0100 (Mon, 01 Feb 2010) | 3 lines
Changed paths:
   M /trunk/bestd.c
   M /trunk/ecm-impl.h
   M /trunk/ks-multiply.c
   M /trunk/mpmod.c
   M /trunk/pm1fs2.c
   M /trunk/schoen_strass.c
   M /trunk/sp.h
   M /trunk/stage2.c

Replaced __GMP_BITS_PER_MP_LIMB and most mp_bits_per_limb 
by GMP_NUMB_BITS

------------------------------------------------------------------------
r1432 | zimmerma | 2010-01-30 22:21:43 +0100 (Sat, 30 Jan 2010) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/INSTALL
   M /trunk/Makefile.am
   M /trunk/NEWS
   M /trunk/build.vc9/config.h
   M /trunk/ecm.h

preparation for the release of ecm-6.3

------------------------------------------------------------------------
r1431 | kruppa | 2010-01-23 20:55:47 +0100 (Sat, 23 Jan 2010) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Make "one-pass" P+1 stage 2 use parallel transforms

------------------------------------------------------------------------
r1430 | kruppa | 2010-01-22 23:36:34 +0100 (Fri, 22 Jan 2010) | 5 lines
Changed paths:
   M /trunk/mpmod.c

Changed __GMP_BITS_PER_MP_LIMB to GMP_NUMB_BITS
Bugfix in expensive assert check for mulredc
Cleanup in powering functions


------------------------------------------------------------------------
r1429 | kruppa | 2010-01-22 21:42:31 +0100 (Fri, 22 Jan 2010) | 3 lines
Changed paths:
   M /trunk/configure.in

Enable asm mulredc by default only on x86_64 and 64 bit PowerPC
Check for GSL

------------------------------------------------------------------------
r1428 | kruppa | 2010-01-22 21:23:19 +0100 (Fri, 22 Jan 2010) | 3 lines
Changed paths:
   M /trunk/bench_mulredc.c

Slightly more readable output


------------------------------------------------------------------------
r1427 | kruppa | 2010-01-20 14:20:32 +0100 (Wed, 20 Jan 2010) | 3 lines
Changed paths:
   M /trunk/rho.gp

Make results agree better with those from rho.c
Added functions for P+1 prob, and for small B2

------------------------------------------------------------------------
r1426 | zimmerma | 2010-01-08 19:03:00 +0100 (Fri, 08 Jan 2010) | 2 lines
Changed paths:
   M /trunk/sp.h

[sp.h] define __GMP_BITS_PER_MP_LIMB from GMP_LIMB_BITS when undefined

------------------------------------------------------------------------
r1425 | kruppa | 2009-11-06 03:31:28 +0100 (Fri, 06 Nov 2009) | 5 lines
Changed paths:
   M /trunk/rho.c

Functions for counting and estimating smooth and rough numbers.
For small B2, estimate stage 2 probability with sum instead of 
integral.


------------------------------------------------------------------------
r1424 | kruppa | 2009-11-01 15:53:30 +0100 (Sun, 01 Nov 2009) | 2 lines
Changed paths:
   M /trunk/Makefile.am

Add target "rho" to test code in rho.c

------------------------------------------------------------------------
r1423 | kruppa | 2009-11-01 15:39:42 +0100 (Sun, 01 Nov 2009) | 3 lines
Changed paths:
   M /trunk/rho.c

Functions for computing \Phi(x,y) and \Psi(x,y) exactly, 
and an estimate for Phi(x,y) (number of y-rough numbers)

------------------------------------------------------------------------
r1422 | zimmerma | 2009-08-31 10:23:26 +0200 (Mon, 31 Aug 2009) | 3 lines
Changed paths:
   M /trunk/tune.c

[tune.c] replace obsolete mpz_random by mpz_urandomb (suggested by Jason
	 Moxham)

------------------------------------------------------------------------
r1421 | brian_gladman | 2009-08-11 17:35:55 +0200 (Tue, 11 Aug 2009) | 1 line
Changed paths:
   A /trunk/build.vc9/mp_lib.vsprops


------------------------------------------------------------------------
r1420 | brian_gladman | 2009-08-11 17:35:17 +0200 (Tue, 11 Aug 2009) | 1 line
Changed paths:
   M /trunk/build.vc9/ecm/ecm.vcproj
   M /trunk/build.vc9/libecm/libecm.vcproj
   M /trunk/build.vc9/readme.txt
   M /trunk/build.vc9/tests.py
   M /trunk/build.vc9/tune/tune.vcproj

Update Windows VC++ build to use standard output directories and to use MPIR by default.
------------------------------------------------------------------------
r1419 | kruppa | 2009-05-28 21:48:48 +0200 (Thu, 28 May 2009) | 3 lines
Changed paths:
   M /trunk/main.c

Allow -printconfig as only parameter, exit after printing config.
Print tuning parameters, too.

------------------------------------------------------------------------
r1418 | zimmerma | 2009-05-18 13:59:13 +0200 (Mon, 18 May 2009) | 2 lines
Changed paths:
   M /trunk/mpzspv.c

[mpzspv.c] get rid of malloc_usable_size (and thus malloc.h)

------------------------------------------------------------------------
r1417 | zimmerma | 2009-05-18 13:19:15 +0200 (Mon, 18 May 2009) | 2 lines
Changed paths:
   M /trunk/ecm-ecm.h
   M /trunk/ecm-impl.h
   M /trunk/ks-multiply.c
   M /trunk/test.pm1

[ks-multiply.c] check allocation failure in kronecker_schonhage

------------------------------------------------------------------------
r1416 | zimmerma | 2009-05-18 13:08:21 +0200 (Mon, 18 May 2009) | 2 lines
Changed paths:
   M /trunk/mpzspm.c

[mpzspm.c] fixed typo

------------------------------------------------------------------------
r1415 | kruppa | 2009-05-17 23:20:05 +0200 (Sun, 17 May 2009) | 3 lines
Changed paths:
   M /trunk/mpzspm.c
   M /trunk/pm1fs2.c
   M /trunk/sp.c
   M /trunk/spm.c
   M /trunk/stage2.c

Added some error handling for out-of-memory conditions to NTT code


------------------------------------------------------------------------
r1414 | zimmerma | 2009-05-12 16:07:12 +0200 (Tue, 12 May 2009) | 2 lines
Changed paths:
   M /trunk/build.vc9/assembler/test_mulredc.c
   M /trunk/ecm_ntt.c
   M /trunk/getprime.c
   M /trunk/main.c
   M /trunk/mpzspm.c
   M /trunk/mpzspv.c
   M /trunk/pm1.c
   M /trunk/pm1fs2.c
   M /trunk/polyeval.c
   M /trunk/rho.c
   M /trunk/schoen_strass.c
   M /trunk/sets_long.c
   M /trunk/sp.c
   M /trunk/spm.c
   M /trunk/stage2.c
   M /trunk/test_mulredc.c
   M /trunk/tune.c

check return value of malloc in several places (bug reported by Torbjrn Granlund)

------------------------------------------------------------------------
r1413 | zimmerma | 2009-04-25 23:34:58 +0200 (Sat, 25 Apr 2009) | 2 lines
Changed paths:
   M /trunk/NEWS

[NEWS] updated with changes between ecm-6.2.2 and ecm-6.2.3

------------------------------------------------------------------------
r1412 | kruppa | 2009-04-21 17:13:49 +0200 (Tue, 21 Apr 2009) | 2 lines
Changed paths:
   M /trunk/mul_fft-params.h.default

Missing endline at end of file

------------------------------------------------------------------------
r1411 | kruppa | 2009-04-20 00:02:05 +0200 (Mon, 20 Apr 2009) | 2 lines
Changed paths:
   M /trunk/build.vc9/assembler/a_x64_mulredc.asm

Ported recent improvements

------------------------------------------------------------------------
r1410 | kruppa | 2009-04-18 22:47:23 +0200 (Sat, 18 Apr 2009) | 4 lines
Changed paths:
   M /trunk/configure.in

Cleanup of tests for asm redc code, test list of cpu types only once
Print configuration at end of configure
Various cleanups (or messups, as the case may be)

------------------------------------------------------------------------
r1409 | zimmerma | 2009-04-18 19:01:08 +0200 (Sat, 18 Apr 2009) | 2 lines
Changed paths:
   M /trunk/TODO

[TODO] added item

------------------------------------------------------------------------
r1408 | kruppa | 2009-04-18 17:21:14 +0200 (Sat, 18 Apr 2009) | 3 lines
Changed paths:
   M /trunk/main.c

Fixed old bug: if last line did not end in newline, only one curve would
be run on that number in spite of -c parameter

------------------------------------------------------------------------
r1407 | kruppa | 2009-04-18 16:03:45 +0200 (Sat, 18 Apr 2009) | 3 lines
Changed paths:
   M /trunk/main.c

Added -printconfig option which prints configuration optinons use for 
building GMP-ECM

------------------------------------------------------------------------
r1406 | zimmerma | 2009-04-18 15:40:44 +0200 (Sat, 18 Apr 2009) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] print --enable-asm-redc in header line if used

------------------------------------------------------------------------
r1405 | zimmerma | 2009-04-18 15:07:04 +0200 (Sat, 18 Apr 2009) | 2 lines
Changed paths:
   M /trunk/README.dev

[README.dev] added item

------------------------------------------------------------------------
r1404 | zimmerma | 2009-04-18 15:03:09 +0200 (Sat, 18 Apr 2009) | 3 lines
Changed paths:
   M /trunk/configure.in

[configure.in] applied patch from Peter Jeremy
(http://gforge.inria.fr/tracker/index.php?func=detail&aid=7639&group_id=135&atid=623)

------------------------------------------------------------------------
r1403 | kruppa | 2009-04-16 17:51:46 +0200 (Thu, 16 Apr 2009) | 3 lines
Changed paths:
   M /trunk/INSTALL

Added warning about incompatible GMP header/library
Updated GMP version to 4.3.0

------------------------------------------------------------------------
r1402 | kruppa | 2009-04-16 17:21:21 +0200 (Thu, 16 Apr 2009) | 2 lines
Changed paths:
   M /trunk/x86_64/mulredc.m4
   M /trunk/x86_64/mulredc10.asm
   M /trunk/x86_64/mulredc11.asm
   M /trunk/x86_64/mulredc12.asm
   M /trunk/x86_64/mulredc13.asm
   M /trunk/x86_64/mulredc14.asm
   M /trunk/x86_64/mulredc15.asm
   M /trunk/x86_64/mulredc16.asm
   M /trunk/x86_64/mulredc17.asm
   M /trunk/x86_64/mulredc18.asm
   M /trunk/x86_64/mulredc19.asm
   M /trunk/x86_64/mulredc2.asm
   M /trunk/x86_64/mulredc20.asm
   M /trunk/x86_64/mulredc3.asm
   M /trunk/x86_64/mulredc4.asm
   M /trunk/x86_64/mulredc5.asm
   M /trunk/x86_64/mulredc6.asm
   M /trunk/x86_64/mulredc7.asm
   M /trunk/x86_64/mulredc8.asm
   M /trunk/x86_64/mulredc9.asm

Moving memory load ahead was missing for last unroll step

------------------------------------------------------------------------
r1401 | kruppa | 2009-04-16 16:39:05 +0200 (Thu, 16 Apr 2009) | 2 lines
Changed paths:
   M /trunk/README

Replaced long obsolete files list by basic usage examples

------------------------------------------------------------------------
r1400 | kruppa | 2009-04-16 16:32:19 +0200 (Thu, 16 Apr 2009) | 3 lines
Changed paths:
   M /trunk/configure.in

GMP 4.3.0 and newer always have three parts in version string (including
patchlevel, even if it's zero). This broke a test in configure

------------------------------------------------------------------------
r1399 | kruppa | 2009-04-10 22:50:33 +0200 (Fri, 10 Apr 2009) | 4 lines
Changed paths:
   M /trunk/x86_64/mulredc.m4
   M /trunk/x86_64/mulredc10.asm
   M /trunk/x86_64/mulredc11.asm
   M /trunk/x86_64/mulredc12.asm
   M /trunk/x86_64/mulredc13.asm
   M /trunk/x86_64/mulredc14.asm
   M /trunk/x86_64/mulredc15.asm
   M /trunk/x86_64/mulredc16.asm
   M /trunk/x86_64/mulredc17.asm
   M /trunk/x86_64/mulredc18.asm
   M /trunk/x86_64/mulredc19.asm
   M /trunk/x86_64/mulredc20.asm
   M /trunk/x86_64/mulredc3.asm
   M /trunk/x86_64/mulredc4.asm
   M /trunk/x86_64/mulredc5.asm
   M /trunk/x86_64/mulredc6.asm
   M /trunk/x86_64/mulredc7.asm
   M /trunk/x86_64/mulredc8.asm
   M /trunk/x86_64/mulredc9.asm

Moved memory load ahead one instruction.
Slight speedup on Opteron/Phenom (~1% for 20 words), 
noticable speedup on Core 2 (~8% for 20 words)

------------------------------------------------------------------------
r1398 | zimmerma | 2009-04-01 18:25:52 +0200 (Wed, 01 Apr 2009) | 2 lines
Changed paths:
   M /trunk/hecm/Makefile

[hecm/Makefile] link against the libecm.a from .., not /usr/lib/libecm.a!

------------------------------------------------------------------------
r1397 | zimmerma | 2009-04-01 17:00:18 +0200 (Wed, 01 Apr 2009) | 2 lines
Changed paths:
   M /trunk/README.dev

[README.dev] check config.guess is recent enough

------------------------------------------------------------------------
r1396 | zimmerma | 2009-04-01 16:39:47 +0200 (Wed, 01 Apr 2009) | 2 lines
Changed paths:
   D /trunk/configfsf.guess
   D /trunk/configfsf.sub

[configfsf.guess,configfsf.sub] removed unused files

------------------------------------------------------------------------
r1395 | zimmerma | 2009-04-01 14:18:03 +0200 (Wed, 01 Apr 2009) | 2 lines
Changed paths:
   M /trunk/README.dev
   A /trunk/patch-config.guess.diff

[patch-config.guess.diff] patch to fix config.guess on Mac OS X / PowerPC

------------------------------------------------------------------------
r1394 | kruppa | 2009-03-30 15:50:08 +0200 (Mon, 30 Mar 2009) | 4 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/ecm2.c
   M /trunk/stage2.c

Code to find factor of group order of elliptic curve in stage 2 could 
segfault if factor (of input number) was re-discovered during initialisation 
of arithmetic progressions on the curve

------------------------------------------------------------------------
r1393 | kruppa | 2009-03-30 15:44:52 +0200 (Mon, 30 Mar 2009) | 2 lines
Changed paths:
   M /trunk/ecm.c

Bugfix: rhotable did not get freed if a factor was found in stage 1

------------------------------------------------------------------------
r1392 | brian_gladman | 2009-03-29 18:16:04 +0200 (Sun, 29 Mar 2009) | 1 line
Changed paths:
   M /trunk/build.vc9/ecm.sln
   M /trunk/build.vc9/tune/tune.vcproj

correct error in Windows tune builld
------------------------------------------------------------------------
r1391 | brian_gladman | 2009-03-29 13:44:30 +0200 (Sun, 29 Mar 2009) | 1 line
Changed paths:
   D /trunk/build.vc9/ecm-params.win32.amd.h
   D /trunk/build.vc9/ecm-params.win32.intel.h
   D /trunk/build.vc9/ecm-params.x64.amd.h
   D /trunk/build.vc9/ecm-params.x64.intel.h


------------------------------------------------------------------------
r1390 | brian_gladman | 2009-03-29 13:43:13 +0200 (Sun, 29 Mar 2009) | 1 line
Changed paths:
   A /trunk/build.vc9/ecm-params.h.win32.amd
   A /trunk/build.vc9/ecm-params.h.win32.intel
   A /trunk/build.vc9/ecm-params.h.x64.amd
   A /trunk/build.vc9/ecm-params.h.x64.intel
   M /trunk/build.vc9/libecm/libecm.vcproj
   A /trunk/build.vc9/mul_fft-params.h.win32.amd
   A /trunk/build.vc9/mul_fft-params.h.win32.intel
   A /trunk/build.vc9/mul_fft-params.h.x64.amd
   A /trunk/build.vc9/mul_fft-params.h.x64.intel
   M /trunk/build.vc9/readme.txt
   M /trunk/build.vc9/tune/tune.vcproj

Further update for Windows build
------------------------------------------------------------------------
r1389 | brian_gladman | 2009-03-29 00:05:29 +0100 (Sun, 29 Mar 2009) | 1 line
Changed paths:
   M /trunk/build.vc9/tests.py

correct test.py for new directory structure
------------------------------------------------------------------------
r1388 | brian_gladman | 2009-03-28 23:59:27 +0100 (Sat, 28 Mar 2009) | 2 lines
Changed paths:
   M /trunk/build.vc9/assembler/a_x64_mulredc.asm
   A /trunk/build.vc9/assembler/mulredc.h
   M /trunk/build.vc9/config.h
   M /trunk/build.vc9/ecm/ecm.vcproj
   M /trunk/build.vc9/ecm-params.h
   A /trunk/build.vc9/ecm-params.win32.amd.h
   A /trunk/build.vc9/ecm-params.win32.intel.h
   A /trunk/build.vc9/ecm-params.x64.amd.h
   A /trunk/build.vc9/ecm-params.x64.intel.h
   M /trunk/build.vc9/ecm.sln
   M /trunk/build.vc9/libecm/libecm.vcproj
   M /trunk/build.vc9/readme.txt
   M /trunk/build.vc9/tests.py
   A /trunk/build.vc9/tune
   A /trunk/build.vc9/tune/tune.vcproj

1. Add tune to the windows GMP-ECM build
2. Add AMD and Intel build configurations (using tune output).
------------------------------------------------------------------------
r1387 | kruppa | 2009-03-28 22:53:42 +0100 (Sat, 28 Mar 2009) | 2 lines
Changed paths:
   M /trunk/INSTALL

Updated note, since --enable-asm-redc is default now

------------------------------------------------------------------------
r1386 | brian_gladman | 2009-03-28 17:48:45 +0100 (Sat, 28 Mar 2009) | 1 line
Changed paths:
   M /trunk/build.vc9/libecm/libecm.vcproj
   M /trunk/build.vc9/tests.py
   M /trunk/ntt_gfp.c
   M /trunk/spv.c

Convert SSE2 inline assembler for 32-bit Windows build
------------------------------------------------------------------------
r1385 | zimmerma | 2009-03-28 12:59:04 +0100 (Sat, 28 Mar 2009) | 2 lines
Changed paths:
   M /trunk/README.dev

[README.dev] more about INSTALL up-to-date

------------------------------------------------------------------------
r1384 | zimmerma | 2009-03-28 12:56:30 +0100 (Sat, 28 Mar 2009) | 2 lines
Changed paths:
   M /trunk/INSTALL

[INSTALL] latest release of GMP is 4.2.4

------------------------------------------------------------------------
r1383 | kruppa | 2009-03-28 12:16:00 +0100 (Sat, 28 Mar 2009) | 2 lines
Changed paths:
   M /trunk/INSTALL

Added mention of --enable-asm-redc and --enable-sse2

------------------------------------------------------------------------
r1382 | kruppa | 2009-03-28 11:56:24 +0100 (Sat, 28 Mar 2009) | 3 lines
Changed paths:
   M /trunk/configure.in

Enable SSE2 if config.guess identifies the system as "i786" which seems to
be what recent autotools call a Pentium 4 (rather than pentium4 as before)

------------------------------------------------------------------------
r1381 | rcosset | 2009-03-27 10:24:54 +0100 (Fri, 27 Mar 2009) | 1 line
Changed paths:
   M /trunk/hecm/auxi.h
   M /trunk/hecm/hecm.c
   M /trunk/hecm/morphismes.c

Correction of typos in the comments of hecm
------------------------------------------------------------------------
r1380 | zimmerma | 2009-03-26 15:17:15 +0100 (Thu, 26 Mar 2009) | 4 lines
Changed paths:
   M /trunk/test.ecm
   M /trunk/test.pm1
   M /trunk/test.pp1

[test.pm1] added new test, updated copyright years, added comments for return
	   code
[test.pp1,test.ecm] updated copyright years

------------------------------------------------------------------------
r1379 | kruppa | 2009-03-25 13:42:39 +0100 (Wed, 25 Mar 2009) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.in

Removed the horrible FASTOBJ kludge. There must be a better way to
specify the order in which object files are to appear on the link command.

------------------------------------------------------------------------
r1378 | kruppa | 2009-03-24 17:00:44 +0100 (Tue, 24 Mar 2009) | 3 lines
Changed paths:
   M /trunk/mpmod.c

Bugfix: in ecm_redc_n(), a carry was not propagated correctly if
xp[n - 1] was zero but tp[n - 1] was non-zero.

------------------------------------------------------------------------
r1377 | rcosset | 2009-03-24 11:51:01 +0100 (Tue, 24 Mar 2009) | 1 line
Changed paths:
   M /trunk/hecm/hecm.c

Print the imput number in hecm.
------------------------------------------------------------------------
r1376 | rcosset | 2009-03-24 11:40:39 +0100 (Tue, 24 Mar 2009) | 1 line
Changed paths:
   A /trunk/hecm
   A /trunk/hecm/Jacobi.c
   A /trunk/hecm/Jacobi.h
   A /trunk/hecm/Makefile
   A /trunk/hecm/ariKS.c
   A /trunk/hecm/ariKS.h
   A /trunk/hecm/auxi.c
   A /trunk/hecm/auxi.h
   A /trunk/hecm/generation.c
   A /trunk/hecm/generation.h
   A /trunk/hecm/hecm.c
   A /trunk/hecm/hecm.h
   A /trunk/hecm/morphismes.c
   A /trunk/hecm/morphismes.h
   A /trunk/hecm/stage1HECM.c
   A /trunk/hecm/stage2HECM.c

Added a new software gmp-hecm based on gmp-ecm. HECM used decomposable hyperelliptic curves of genus 2 instead of elliptic curves. Thus it does two run of ECM in parallel. The used of Kummer surfaces with small parameters make it quicker for numbers >= 10^300.
------------------------------------------------------------------------
r1375 | kruppa | 2009-03-23 15:23:23 +0100 (Mon, 23 Mar 2009) | 2 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/configure.in

Updated NEWS with 6.2.2 release, bumped version to 6.3

------------------------------------------------------------------------
r1373 | kruppa | 2009-03-23 00:00:25 +0100 (Mon, 23 Mar 2009) | 3 lines
Changed paths:
   M /trunk/ntt_gfp.c
   M /trunk/spv.c

MacOS assembler doesn't like binary constants in asm code, replaced by hex.
Patch supplied by "jedirock" on mersenneforum.org

------------------------------------------------------------------------
r1372 | rcosset | 2009-03-19 14:01:26 +0100 (Thu, 19 Mar 2009) | 1 line
Changed paths:
   M /trunk/mpmod.c

Added a few commentary in mpmod.c
------------------------------------------------------------------------
r1371 | zimmerma | 2009-03-18 17:42:46 +0100 (Wed, 18 Mar 2009) | 2 lines
Changed paths:
   M /trunk/mpmod.c

[mpmod.c] added some FIXME's

------------------------------------------------------------------------
r1370 | kruppa | 2009-03-18 01:13:21 +0100 (Wed, 18 Mar 2009) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/mpmod.c

Merged in Romain's modifications

------------------------------------------------------------------------
r1369 | kruppa | 2009-03-18 00:20:59 +0100 (Wed, 18 Mar 2009) | 6 lines
Changed paths:
   M /trunk/x86_64/Makefile.am
   M /trunk/x86_64/mulredc.h
   M /trunk/x86_64/mulredc.m4
   D /trunk/x86_64/mulredc1.h
   M /trunk/x86_64/mulredc10.asm
   M /trunk/x86_64/mulredc11.asm
   M /trunk/x86_64/mulredc12.asm
   M /trunk/x86_64/mulredc13.asm
   M /trunk/x86_64/mulredc14.asm
   M /trunk/x86_64/mulredc15.asm
   M /trunk/x86_64/mulredc16.asm
   M /trunk/x86_64/mulredc17.asm
   M /trunk/x86_64/mulredc18.asm
   M /trunk/x86_64/mulredc19.asm
   M /trunk/x86_64/mulredc2.asm
   M /trunk/x86_64/mulredc20.asm
   M /trunk/x86_64/mulredc3.asm
   M /trunk/x86_64/mulredc4.asm
   M /trunk/x86_64/mulredc5.asm
   M /trunk/x86_64/mulredc6.asm
   M /trunk/x86_64/mulredc7.asm
   M /trunk/x86_64/mulredc8.asm
   M /trunk/x86_64/mulredc9.asm

Removed mulredc1.h, prototypes are in mulredc.h now
Removed superfluous #include <gmp.h> in mulredc.h
Some small changes in mulredc.m4: replace some movq by movl, change 
  for-loop so it works with LENGTH=2


------------------------------------------------------------------------
r1368 | kruppa | 2009-03-17 23:34:51 +0100 (Tue, 17 Mar 2009) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/athlon/Makefile.am
   M /trunk/pentium4/Makefile.am
   M /trunk/powerpc64/Makefile.am
   M /trunk/x86_64/Makefile.am

The include path to mulredc.h must use $(srcdir) or a build with
separate source/build directories (as used by make distcheck) fails

------------------------------------------------------------------------
r1367 | kruppa | 2009-03-17 22:16:56 +0100 (Tue, 17 Mar 2009) | 5 lines
Changed paths:
   M /trunk/configure.in

New config.guess don't call a Pentium 4 "pentium4" any more, but "i786",
the corresponding case was missing in the first test for asm eligibility.
And autoconf changes the m4 quote characters from ` and ' to [ and ], 
so they need to be quoted for shell character-set matching. I hate autotools

------------------------------------------------------------------------
r1366 | kruppa | 2009-03-17 20:54:47 +0100 (Tue, 17 Mar 2009) | 6 lines
Changed paths:
   M /trunk/Makefile.am
   D /trunk/asmredc.h
   A /trunk/bench_mulredc.c
   M /trunk/configure.in
   M /trunk/mpmod.c
   A /trunk/test_mulredc.c

Build mulredc code in subdirectories if enabled, and link to it from the 
top directory
Moved bench_mulredc.c and test_mulredc.c to top directory rather than having
identical copies in each subdir
Did I mention that I hate autotools?

------------------------------------------------------------------------
r1365 | kruppa | 2009-03-17 20:45:30 +0100 (Tue, 17 Mar 2009) | 4 lines
Changed paths:
   D /trunk/config.guess
   D /trunk/config.sub

Removed config.guess and config.sub, they aren't sources and developers
with different versions of autotools installed will overwrite each others'
config.guess/config.sub all the time

------------------------------------------------------------------------
r1364 | kruppa | 2009-03-17 20:41:07 +0100 (Tue, 17 Mar 2009) | 4 lines
Changed paths:
   M /trunk/athlon/Makefile.am
   M /trunk/athlon/mulredc.h
   M /trunk/pentium4/Makefile.am
   M /trunk/powerpc64/Makefile.am
   D /trunk/powerpc64/bench.c
   A /trunk/powerpc64/mulredc.h
   D /trunk/powerpc64/test_mulredc.c

Build mulredc as library in powerpc64
Removed extaneous prototypes, EXTRA_DIST entries


------------------------------------------------------------------------
r1363 | kruppa | 2009-03-17 20:34:31 +0100 (Tue, 17 Mar 2009) | 3 lines
Changed paths:
   M /trunk/pentium4/Makefile.am
   D /trunk/pentium4/bench.c
   A /trunk/pentium4/mulredc.h
   D /trunk/pentium4/test_mulredc.c

Build mulredc as library


------------------------------------------------------------------------
r1362 | kruppa | 2009-03-17 20:28:22 +0100 (Tue, 17 Mar 2009) | 2 lines
Changed paths:
   M /trunk/athlon/Makefile.am
   D /trunk/athlon/bench.c
   A /trunk/athlon/mulredc.h
   D /trunk/athlon/test_mulredc.c

Build mulredc as library

------------------------------------------------------------------------
r1361 | kruppa | 2009-03-17 20:08:17 +0100 (Tue, 17 Mar 2009) | 2 lines
Changed paths:
   M /trunk/x86_64/Makefile.am

Forgot to add mulredc.h to distribution

------------------------------------------------------------------------
r1360 | kruppa | 2009-03-17 19:55:46 +0100 (Tue, 17 Mar 2009) | 3 lines
Changed paths:
   M /trunk/x86_64/Makefile.am
   D /trunk/x86_64/bench.c
   A /trunk/x86_64/mulredc.h
   D /trunk/x86_64/test_mulredc.c

Build mulredc as library, so GMP-ECM can link it (with ld rather than ln)
Removed bench and test_mulredc, are being moved to parent dir

------------------------------------------------------------------------
r1359 | kruppa | 2009-03-17 15:16:40 +0100 (Tue, 17 Mar 2009) | 2 lines
Changed paths:
   D /trunk/x86_64/Makefile.dev

The targets from Makefile.dev are now in Makefile.am

------------------------------------------------------------------------
r1358 | zimmerma | 2009-03-17 11:00:52 +0100 (Tue, 17 Mar 2009) | 6 lines
Changed paths:
   A /trunk/m4

added empty directory m4, since autoreconf seems to require it:

patate% autoreconf -i
aclocal: couldn't open directory `m4': No such file or directory
autoreconf: aclocal failed with exit status: 1

------------------------------------------------------------------------
r1357 | kruppa | 2009-03-17 00:00:55 +0100 (Tue, 17 Mar 2009) | 3 lines
Changed paths:
   M /trunk/x86_64/redc.asm

Use RIP-relative addressing instead of horrible call/pop for computed 
jump. Fixes a compilation error on MacOS

------------------------------------------------------------------------
r1356 | kruppa | 2009-03-15 22:58:34 +0100 (Sun, 15 Mar 2009) | 2 lines
Changed paths:
   M /trunk/configure.in

Added i686-apple-darwin* to list of hosts that understand asm code

------------------------------------------------------------------------
r1355 | kruppa | 2009-03-12 16:02:33 +0100 (Thu, 12 Mar 2009) | 5 lines
Changed paths:
   M /trunk/tune.c

Fixed generation of NTT_GFP_TWIDDLE_DI[FT]_BREAKOVER values
Avoid calling cputime() excessively often when timing short functions
Fixed access to uninitialised memory


------------------------------------------------------------------------
r1354 | kruppa | 2009-03-12 15:53:28 +0100 (Thu, 12 Mar 2009) | 2 lines
Changed paths:
   M /trunk/ecm-params.h.powerpc970

NTT_GFP_TWIDDLE_DI[FT]_BREAKOVER was not in log_2() form

------------------------------------------------------------------------
r1353 | kruppa | 2009-03-08 20:49:41 +0100 (Sun, 08 Mar 2009) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.in
   M /trunk/ecm-params.h.athlon64
   M /trunk/ecm-params.h.pentium3
   M /trunk/ecm-params.h.pentium4
   A /trunk/mul_fft-params.h.athlon64
   A /trunk/mul_fft-params.h.default
   A /trunk/mul_fft-params.h.pentium3
   A /trunk/mul_fft-params.h.pentium4
   M /trunk/mul_fft.c

Moved parameters for Schnhage-Strassen into separate file so that
tune output does not overwrite them

------------------------------------------------------------------------
r1352 | zimmerma | 2009-03-04 14:45:34 +0100 (Wed, 04 Mar 2009) | 2 lines
Changed paths:
   M /trunk/ecmfactor2.c

[ecmfactor2.c] added wrapper function, and fixed example which did not work

------------------------------------------------------------------------
r1351 | zimmerma | 2009-03-03 15:32:13 +0100 (Tue, 03 Mar 2009) | 2 lines
Changed paths:
   M /trunk/main.c

[main.c] update champions sizes

------------------------------------------------------------------------
r1350 | zimmerma | 2009-02-27 17:34:43 +0100 (Fri, 27 Feb 2009) | 2 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/configure.in
   M /trunk/powerpc64/powerpc-defs.m4

the powerpc64 assembly code from Philip McLaughlin now works on Linux too

------------------------------------------------------------------------
r1349 | zimmerma | 2009-02-27 16:56:18 +0100 (Fri, 27 Feb 2009) | 2 lines
Changed paths:
   M /trunk/acinclude.m4

[acinclude.m4] too many quotes

------------------------------------------------------------------------
r1348 | zimmerma | 2009-02-27 16:45:36 +0100 (Fri, 27 Feb 2009) | 3 lines
Changed paths:
   M /trunk/acinclude.m4
   M /trunk/configure.in
   M /trunk/powerpc64/Makefile.am
   M /trunk/powerpc64/Makefile.dev
   M /trunk/powerpc64/mulredc.m4
   M /trunk/powerpc64/mulredc1.asm
   M /trunk/powerpc64/mulredc10.asm
   M /trunk/powerpc64/mulredc11.asm
   M /trunk/powerpc64/mulredc12.asm
   M /trunk/powerpc64/mulredc13.asm
   M /trunk/powerpc64/mulredc14.asm
   M /trunk/powerpc64/mulredc15.asm
   M /trunk/powerpc64/mulredc16.asm
   M /trunk/powerpc64/mulredc17.asm
   M /trunk/powerpc64/mulredc18.asm
   M /trunk/powerpc64/mulredc19.asm
   M /trunk/powerpc64/mulredc2.asm
   M /trunk/powerpc64/mulredc20.asm
   M /trunk/powerpc64/mulredc3.asm
   M /trunk/powerpc64/mulredc4.asm
   M /trunk/powerpc64/mulredc5.asm
   M /trunk/powerpc64/mulredc6.asm
   M /trunk/powerpc64/mulredc7.asm
   M /trunk/powerpc64/mulredc8.asm
   M /trunk/powerpc64/mulredc9.asm
   M /trunk/powerpc64/mulredc_1_2.m4
   A /trunk/powerpc64/powerpc-defs.m4
   M /trunk/powerpc64/redc.asm

adapt PowerPC assembly files so that they can be used under Linux too
(does not yet work)

------------------------------------------------------------------------
r1347 | kruppa | 2009-02-25 14:51:06 +0100 (Wed, 25 Feb 2009) | 2 lines
Changed paths:
   M /trunk/pp1.c

Replaced some mpres_mul_ui() by 2 with mpres_add()

------------------------------------------------------------------------
r1346 | kruppa | 2009-02-24 23:18:20 +0100 (Tue, 24 Feb 2009) | 2 lines
Changed paths:
   M /trunk/x86_64/bench.c

Fixed stupid error message about label at end of compound statement

------------------------------------------------------------------------
r1345 | kruppa | 2009-02-24 23:16:05 +0100 (Tue, 24 Feb 2009) | 5 lines
Changed paths:
   M /trunk/x86_64/redc.asm

If a redc.s file was generated somehow, it was not run through the
C preprocessor before assembly (only .S fils are), causing address 
generation for a computed jump to go wrong. Added a tripwire so that 
assembly fails if preprocessor isn't used.

------------------------------------------------------------------------
r1344 | kruppa | 2009-02-24 19:49:27 +0100 (Tue, 24 Feb 2009) | 2 lines
Changed paths:
   M /trunk/x86_64/Makefile.am
   M /trunk/x86_64/bench.c
   A /trunk/x86_64/mulredc1.h
   A /trunk/x86_64/mulredc1.m4
   M /trunk/x86_64/test_mulredc.c

For Romain: mulredc code for n x 1 products

------------------------------------------------------------------------
r1343 | kruppa | 2009-02-21 22:17:27 +0100 (Sat, 21 Feb 2009) | 2 lines
Changed paths:
   D /trunk/powerpc64/Makefile.in

Makefile.in should not be in repository, only Makefile.am

------------------------------------------------------------------------
r1342 | zimmerma | 2009-02-18 23:06:52 +0100 (Wed, 18 Feb 2009) | 3 lines
Changed paths:
   M /trunk/tune.c

[tune.c] NTT_GFP_TWIDDLE_DIF_BREAKOVER/NTT_GFP_TWIDDLE_DIT_BREAKOVER should be
         the logarithm in base 2 of the corresponding thresholds

------------------------------------------------------------------------
r1341 | kruppa | 2009-02-16 17:03:05 +0100 (Mon, 16 Feb 2009) | 4 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/pm1fs2.c
   M /trunk/sets_long.c

Moved maxS() from pm1fs2.c to sets_long.c as sets_max(), as it depends on
how sets_long.c picks sets. Included test of sets_max() in the self-test.
Fixed some typos in comments.

------------------------------------------------------------------------
r1340 | kruppa | 2009-02-15 16:09:34 +0100 (Sun, 15 Feb 2009) | 2 lines
Changed paths:
   D /trunk/m4

Delete empty directory

------------------------------------------------------------------------
r1339 | zimmerma | 2009-02-12 10:58:27 +0100 (Thu, 12 Feb 2009) | 2 lines
Changed paths:
   M /trunk/Makefile.am

[Makefile.am] forgot ecm-params.h.powerpc970 in make dist

------------------------------------------------------------------------
r1338 | kruppa | 2009-02-11 23:20:32 +0100 (Wed, 11 Feb 2009) | 4 lines
Changed paths:
   M /trunk/x86_64/bench.c
   M /trunk/x86_64/mulredc.m4
   M /trunk/x86_64/mulredc10.asm
   M /trunk/x86_64/mulredc11.asm
   M /trunk/x86_64/mulredc12.asm
   M /trunk/x86_64/mulredc13.asm
   M /trunk/x86_64/mulredc14.asm
   M /trunk/x86_64/mulredc15.asm
   M /trunk/x86_64/mulredc16.asm
   M /trunk/x86_64/mulredc17.asm
   M /trunk/x86_64/mulredc18.asm
   M /trunk/x86_64/mulredc19.asm
   M /trunk/x86_64/mulredc20.asm
   M /trunk/x86_64/mulredc3.asm
   M /trunk/x86_64/mulredc4.asm
   M /trunk/x86_64/mulredc5.asm
   M /trunk/x86_64/mulredc6.asm
   M /trunk/x86_64/mulredc7.asm
   M /trunk/x86_64/mulredc8.asm
   M /trunk/x86_64/mulredc9.asm

Added Phil McLaughlin's suggestion to remove a useless carry 
propagation. Made bench.c use getrusage() if available which 
has better resolution than clock() or times().

------------------------------------------------------------------------
r1337 | kruppa | 2009-02-11 15:26:46 +0100 (Wed, 11 Feb 2009) | 2 lines
Changed paths:
   M /trunk/x86_64/Makefile.am

Add targets for bench and test_mulredc

------------------------------------------------------------------------
r1336 | kruppa | 2009-02-11 15:18:50 +0100 (Wed, 11 Feb 2009) | 2 lines
Changed paths:
   M /trunk/x86_64/bench.c
   M /trunk/x86_64/test_mulredc.c

Made bench compile again, fixed some -pedantic warnings in test_mulredc.c

------------------------------------------------------------------------
r1335 | zimmerma | 2009-02-11 10:00:35 +0100 (Wed, 11 Feb 2009) | 2 lines
Changed paths:
   M /trunk/powerpc64/README

[powerpc64/README] added reference to LGPL license

------------------------------------------------------------------------
r1334 | zimmerma | 2009-02-10 09:58:20 +0100 (Tue, 10 Feb 2009) | 2 lines
Changed paths:
   A /trunk/ecm-params.h.powerpc970

[ecm-params.h.powerpc970] default tuning parameters for powerpc64

------------------------------------------------------------------------
r1333 | zimmerma | 2009-02-10 09:50:43 +0100 (Tue, 10 Feb 2009) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.in
   A /trunk/powerpc64
   A /trunk/powerpc64/Makefile.am
   A /trunk/powerpc64/Makefile.dev
   A /trunk/powerpc64/Makefile.in
   A /trunk/powerpc64/README
   A /trunk/powerpc64/bench.c
   A /trunk/powerpc64/generate_all
   A /trunk/powerpc64/mulredc.m4
   A /trunk/powerpc64/mulredc1.asm
   A /trunk/powerpc64/mulredc10.asm
   A /trunk/powerpc64/mulredc11.asm
   A /trunk/powerpc64/mulredc12.asm
   A /trunk/powerpc64/mulredc13.asm
   A /trunk/powerpc64/mulredc14.asm
   A /trunk/powerpc64/mulredc15.asm
   A /trunk/powerpc64/mulredc16.asm
   A /trunk/powerpc64/mulredc17.asm
   A /trunk/powerpc64/mulredc18.asm
   A /trunk/powerpc64/mulredc19.asm
   A /trunk/powerpc64/mulredc2.asm
   A /trunk/powerpc64/mulredc20.asm
   A /trunk/powerpc64/mulredc3.asm
   A /trunk/powerpc64/mulredc4.asm
   A /trunk/powerpc64/mulredc5.asm
   A /trunk/powerpc64/mulredc6.asm
   A /trunk/powerpc64/mulredc7.asm
   A /trunk/powerpc64/mulredc8.asm
   A /trunk/powerpc64/mulredc9.asm
   A /trunk/powerpc64/mulredc_1_2.m4
   A /trunk/powerpc64/redc.asm
   A /trunk/powerpc64/test_mulredc.c

incorporated asm redc code for powerpc64 from Philip McLaughlin (still to be
tested)

------------------------------------------------------------------------
r1332 | kruppa | 2009-01-18 16:35:23 +0100 (Sun, 18 Jan 2009) | 2 lines
Changed paths:
   M /trunk/x86_64/mulredc.m4

Replaced xorq by xorl, added an assert. Cosmetic change, mostly

------------------------------------------------------------------------
r1331 | kruppa | 2009-01-18 16:33:38 +0100 (Sun, 18 Jan 2009) | 2 lines
Changed paths:
   M /trunk/techdocs/mulrecip.tex

Small fixes, cleanups

------------------------------------------------------------------------
r1330 | kruppa | 2009-01-18 16:32:10 +0100 (Sun, 18 Jan 2009) | 2 lines
Changed paths:
   M /trunk/rho.gp

Small cleanups in comments

------------------------------------------------------------------------
r1329 | kruppa | 2009-01-16 15:35:39 +0100 (Fri, 16 Jan 2009) | 3 lines
Changed paths:
   M /trunk/mpzspm.c

Use outputf() instead of printf() for error messages.
Print some timing in mpzspm_init() with DEVVERBOSE.

------------------------------------------------------------------------
r1328 | kruppa | 2009-01-16 15:02:57 +0100 (Fri, 16 Jan 2009) | 3 lines
Changed paths:
   M /trunk/rho.c

pmeprob() should not access "go" if it might be a NULL pointer.
Added function for P-1 probability for factors in a known residue class.

------------------------------------------------------------------------
r1327 | zimmerma | 2009-01-07 12:41:32 +0100 (Wed, 07 Jan 2009) | 5 lines
Changed paths:
   M /trunk/ecm.c
   M /trunk/ecm.h
   M /trunk/factor.c
   M /trunk/main.c

Added patch from Philip McLaughlin which adds new option -nobase2s2 that
disables base-2 arithmetic in Step 2.
This is experimental, and might be removed or replaced by another mechanism
later on; in particular, it seems if breaks the binary compatibility.

------------------------------------------------------------------------
r1326 | zimmerma | 2009-01-07 11:28:03 +0100 (Wed, 07 Jan 2009) | 5 lines
Changed paths:
   M /trunk/ecm.c
   M /trunk/mpmod.c

[mpmod.c] added code to compare base-2 arithmetic to default one
	  (disabled for now)
[ecm.c] isbase2() was called twice -> called only once now, should yield a
	small speedup, especially for small B1

------------------------------------------------------------------------
r1325 | zimmerma | 2008-12-19 16:01:05 +0100 (Fri, 19 Dec 2008) | 2 lines
Changed paths:
   D /trunk/m4/libtool.m4
   D /trunk/m4/ltoptions.m4
   D /trunk/m4/ltsugar.m4
   D /trunk/m4/ltversion.m4
   D /trunk/m4/lt~obsolete.m4

removed m4/* files

------------------------------------------------------------------------
r1324 | zimmerma | 2008-12-14 15:05:29 +0100 (Sun, 14 Dec 2008) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/ecm-impl.h
   M /trunk/ecm.c
   M /trunk/ecm.h
   A /trunk/ecmfactor2.c
   M /trunk/main.c
   M /trunk/pm1.c
   M /trunk/pp1.c

(unfinished) change to enable the use of GMP-ECM stage 2 from HECM, where
a curve is given in Weierstrass form (see example in ecmfactor2.c).
It compiles, but remains to be debugged...

------------------------------------------------------------------------
r1323 | zimmerma | 2008-12-14 13:45:34 +0100 (Sun, 14 Dec 2008) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.in
   A /trunk/m4
   A /trunk/m4/libtool.m4
   A /trunk/m4/ltoptions.m4
   A /trunk/m4/ltsugar.m4
   A /trunk/m4/ltversion.m4
   A /trunk/m4/lt~obsolete.m4

[configure.in,Makefile.am] switch to automake >= 1.10, and added macros
	suggested by autoreconf -i

------------------------------------------------------------------------
r1322 | brian_gladman | 2008-11-24 10:46:01 +0100 (Mon, 24 Nov 2008) | 1 line
Changed paths:
   M /trunk/build.vc9/ecm/ecm.vcproj
   M /trunk/build.vc9/libecm/libecm.vcproj
   M /trunk/build.vc9/readme.txt

Update VC++ build project to assume that the GMP root directory is named 'GMP' not 'GMP-version'  
------------------------------------------------------------------------
r1321 | brian_gladman | 2008-11-24 10:21:23 +0100 (Mon, 24 Nov 2008) | 1 line
Changed paths:
   M /trunk/build.vc9/ecm/ecm.vcproj
   M /trunk/build.vc9/libecm/libecm.vcproj

Update MSVC builds to use GMP-4.2.4
------------------------------------------------------------------------
r1320 | zimmerma | 2008-10-12 14:13:23 +0200 (Sun, 12 Oct 2008) | 2 lines
Changed paths:
   M /trunk/configure.in

[configure.in] changed version to 6.2.2

------------------------------------------------------------------------
r1319 | brian_gladman | 2008-09-02 18:15:48 +0200 (Tue, 02 Sep 2008) | 1 line
Changed paths:
   M /trunk/build.vc9/ecm/ecm.vcproj
   M /trunk/build.vc9/libecm/libecm.vcproj

correction to VC++ build project to set the GMP include directory to gmp-4.2.3
------------------------------------------------------------------------
r1318 | brian_gladman | 2008-08-30 22:03:27 +0200 (Sat, 30 Aug 2008) | 2 lines
Changed paths:
   M /trunk/build.vc9/ecm/ecm.vcproj
   M /trunk/build.vc9/ecm-params.h
   M /trunk/build.vc9/readme.txt

Update the Visual Studio build to use GMP-4.2.3

------------------------------------------------------------------------
r1317 | zimmerma | 2008-07-17 11:28:30 +0200 (Thu, 17 Jul 2008) | 2 lines
Changed paths:
   M /trunk/configure.in

fixed split infinitive (thanks Paul Leyland)

------------------------------------------------------------------------
r1316 | zimmerma | 2008-06-13 20:50:28 +0200 (Fri, 13 Jun 2008) | 2 lines
Changed paths:
   M /trunk/AUTHORS

updated Dave's address

------------------------------------------------------------------------
r1315 | zimmerma | 2008-06-13 02:17:41 +0200 (Fri, 13 Jun 2008) | 2 lines
Changed paths:
   M /trunk/TODO

added new item

------------------------------------------------------------------------
r1314 | zimmerma | 2008-06-12 23:53:56 +0200 (Thu, 12 Jun 2008) | 2 lines
Changed paths:
   M /trunk/TODO

added comment

------------------------------------------------------------------------
r1313 | zimmerma | 2008-06-12 23:26:27 +0200 (Thu, 12 Jun 2008) | 2 lines
Changed paths:
   M /trunk/listz.c

compile list_mul_low only if KS_MULTIPLY is nto defined, to avoid a warning

------------------------------------------------------------------------
r1312 | kruppa | 2008-06-12 02:38:03 +0200 (Thu, 12 Jun 2008) | 2 lines
Changed paths:
   M /trunk/pm1.c

Bugfix: new P-1 stage 2 called pm1prob() with uninitialised value for S

------------------------------------------------------------------------
r1311 | zimmerma | 2008-06-09 09:56:58 +0200 (Mon, 09 Jun 2008) | 2 lines
Changed paths:
   M /trunk/configure.in

removed --with-gmp-build option (no longer needed as we don't need gmp-impl.h)

------------------------------------------------------------------------
r1310 | zimmerma | 2008-06-06 05:49:50 +0200 (Fri, 06 Jun 2008) | 2 lines
Changed paths:
   M /trunk/TODO

added two items

------------------------------------------------------------------------
r1309 | zimmerma | 2008-06-05 03:50:16 +0200 (Thu, 05 Jun 2008) | 3 lines
Changed paths:
   M /trunk/README.dev
   M /trunk/mul_fft.c

added tags corresponding to 6.2 and 6.2.1 in README.dev
commented out unused function in mul_fft.c

------------------------------------------------------------------------
r1307 | kruppa | 2008-06-04 05:43:25 +0200 (Wed, 04 Jun 2008) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/NEWS
   M /trunk/build.vc9/config.h

Set version to 6.2.1 in trunk/build.vc9/config.h, updated NEWS, ChangeLog

------------------------------------------------------------------------
r1306 | kruppa | 2008-06-04 01:53:32 +0200 (Wed, 04 Jun 2008) | 2 lines
Changed paths:
   M /trunk/countsmooth.c

Make countsmooth compile again

------------------------------------------------------------------------
r1305 | brian_gladman | 2008-05-30 17:11:07 +0200 (Fri, 30 May 2008) | 1 line
Changed paths:
   M /trunk/build.vc9/config.h
   M /trunk/build.vc9/ecm/ecm.vcproj
   M /trunk/build.vc9/libecm/libecm.vcproj
   M /trunk/build.vc9/tests.py

Revert Windows build to use GMP-4.2.1
------------------------------------------------------------------------
r1304 | kruppa | 2008-05-28 16:56:05 +0200 (Wed, 28 May 2008) | 2 lines
Changed paths:
   M /trunk/pm1.c
   M /trunk/rho.c

Print message about -go with P-1 probabilities

------------------------------------------------------------------------
r1303 | kruppa | 2008-05-28 16:33:34 +0200 (Wed, 28 May 2008) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Print stage 2 time if factor is found

------------------------------------------------------------------------
r1302 | kruppa | 2008-05-28 16:09:12 +0200 (Wed, 28 May 2008) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/pm1.c
   M /trunk/rho.c

Print probability of finding factors for P-1

------------------------------------------------------------------------
r1301 | zimmerma | 2008-05-28 10:56:30 +0200 (Wed, 28 May 2008) | 4 lines
Changed paths:
   M /trunk/main.c

added warning for -go n1 -go n2 -> only n2 is taken into account
(we could modify the code to take both into account, but we also can
write -go "n1*n2")

------------------------------------------------------------------------
r1300 | zimmerma | 2008-05-28 09:20:57 +0200 (Wed, 28 May 2008) | 2 lines
Changed paths:
   M /trunk/README.dev
   M /trunk/configure.in

changed the version to 6.2.1, and added hints in README.dev

------------------------------------------------------------------------
r1298 | zimmerma | 2008-05-27 23:04:26 +0200 (Tue, 27 May 2008) | 2 lines
Changed paths:
   M /trunk/sp.h

fixed compilation problem on IA65, EV56, ARM

------------------------------------------------------------------------
r1297 | kruppa | 2008-05-27 17:52:50 +0200 (Tue, 27 May 2008) | 2 lines
Changed paths:
   M /trunk/ecm.c
   M /trunk/main.c
   M /trunk/resume.c

Print success probabilities only if B1 == B2min

------------------------------------------------------------------------
r1296 | kruppa | 2008-05-27 17:09:21 +0200 (Tue, 27 May 2008) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/pm1.c
   M /trunk/pp1.c

Increased default B2 for new P-/+1 stage 2

------------------------------------------------------------------------
r1295 | jasonp | 2008-05-26 18:33:19 +0200 (Mon, 26 May 2008) | 1 line
Changed paths:
   M /trunk/tune.c

fix to previous commit
------------------------------------------------------------------------
r1294 | jasonp | 2008-05-26 17:46:51 +0200 (Mon, 26 May 2008) | 1 line
Changed paths:
   M /trunk/ecm-params.h.alpha-ev5
   M /trunk/ecm-params.h.alpha-ev6
   M /trunk/ecm-params.h.athlon
   M /trunk/ecm-params.h.athlon64
   M /trunk/ecm-params.h.core2
   M /trunk/ecm-params.h.default
   M /trunk/ecm-params.h.pentium-m
   M /trunk/ecm-params.h.pentium3
   M /trunk/ecm-params.h.pentium4
   M /trunk/ecm-params.h.powerpc7450
   M /trunk/ntt_gfp.c
   M /trunk/sp.h
   M /trunk/spm.c
   M /trunk/tune.c

allow tuning of the breakover point between recursive and iterative NTTs
------------------------------------------------------------------------
r1293 | kruppa | 2008-05-25 15:22:55 +0200 (Sun, 25 May 2008) | 3 lines
Changed paths:
   A /trunk/rho.gp

Pari/GP file for estimating ECM probability of success, GMP-ECM's rho.c 
is a port of this file.

------------------------------------------------------------------------
r1292 | brian_gladman | 2008-05-16 18:22:41 +0200 (Fri, 16 May 2008) | 1 line
Changed paths:
   M /trunk/build.vc9/config.h

set version to 6.2 for MSVC
------------------------------------------------------------------------
r1291 | zimmerma | 2008-05-16 17:39:54 +0200 (Fri, 16 May 2008) | 2 lines
Changed paths:
   M /trunk/mpzspv.c

removed useless comment (and comment on comment)

------------------------------------------------------------------------
r1290 | kruppa | 2008-05-16 16:43:57 +0200 (Fri, 16 May 2008) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   A /trunk/ecm-params.h.pentium-m
   D /trunk/ecm-params.h.pentiumm

Renamed parameter file from pentiumm to pentium-m, as that is what GMP uses
for the architecture name. gcc uses parameter "-march pentium-m", too

------------------------------------------------------------------------
r1289 | kruppa | 2008-05-16 14:41:48 +0200 (Fri, 16 May 2008) | 2 lines
Changed paths:
   M /trunk/ChangeLog

Added latest changes

------------------------------------------------------------------------
r1288 | kruppa | 2008-05-16 14:38:03 +0200 (Fri, 16 May 2008) | 2 lines
Changed paths:
   M /trunk/configure.in

Set version to 6.2, set assertions to off by default

------------------------------------------------------------------------
r1287 | kruppa | 2008-05-16 14:27:26 +0200 (Fri, 16 May 2008) | 2 lines
Changed paths:
   M /trunk/NEWS

Added item: bugfix of Lucas chains for primes close to 3^32

------------------------------------------------------------------------
r1286 | kruppa | 2008-05-16 14:14:06 +0200 (Fri, 16 May 2008) | 2 lines
Changed paths:
   M /trunk/TODO

Extended note telling why B2min<B2 gives weird probabilities.

------------------------------------------------------------------------
r1285 | brian_gladman | 2008-05-16 13:43:37 +0200 (Fri, 16 May 2008) | 1 line
Changed paths:
   M /trunk/build.vc9/assembler/a_win32a_redc.asm
   M /trunk/build.vc9/assembler/a_win32p_redc.asm
   M /trunk/build.vc9/assembler/a_x64_redc.asm

update YASM assembler files to match main trunk changes
------------------------------------------------------------------------
r1284 | zimmerma | 2008-05-16 10:06:47 +0200 (Fri, 16 May 2008) | 2 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/TODO

clean up done items in TODO

------------------------------------------------------------------------
r1283 | zimmerma | 2008-05-16 09:38:47 +0200 (Fri, 16 May 2008) | 2 lines
Changed paths:
   M /trunk/test.pp1

better suggestion from Laurent

------------------------------------------------------------------------
r1282 | zimmerma | 2008-05-16 09:19:53 +0200 (Fri, 16 May 2008) | 2 lines
Changed paths:
   M /trunk/test.pp1

improved comment

------------------------------------------------------------------------
r1281 | zimmerma | 2008-05-16 09:12:03 +0200 (Fri, 16 May 2008) | 2 lines
Changed paths:
   M /trunk/test.pp1

added comment

------------------------------------------------------------------------
r1280 | zimmerma | 2008-05-16 09:09:32 +0200 (Fri, 16 May 2008) | 2 lines
Changed paths:
   M /trunk/mul_fft.c

fixed some compiler warnings (comparison between signed and unsigned)

------------------------------------------------------------------------
r1279 | kruppa | 2008-05-16 00:23:28 +0200 (Fri, 16 May 2008) | 2 lines
Changed paths:
   M /trunk/athlon/redc.asm
   M /trunk/pentium4/redc.asm
   M /trunk/x86_64/redc.asm

Slight improvement to asm code, suggested by Torbjorn

------------------------------------------------------------------------
r1278 | kruppa | 2008-05-15 19:47:04 +0200 (Thu, 15 May 2008) | 2 lines
Changed paths:
   M /trunk/ecm-ecm.h
   M /trunk/ecm.1
   M /trunk/ecm.xml
   M /trunk/main.c

For ECM, NTT is now disabled by default if input number has > 30 limbs

------------------------------------------------------------------------
r1277 | brian_gladman | 2008-05-13 21:24:37 +0200 (Tue, 13 May 2008) | 1 line
Changed paths:
   M /trunk/build.vc9/tests.py


------------------------------------------------------------------------
r1276 | kruppa | 2008-05-12 01:16:36 +0200 (Mon, 12 May 2008) | 2 lines
Changed paths:
   M /trunk/ecm.c
   M /trunk/lucas.c

Fixed integer overflows in PRAC

------------------------------------------------------------------------
r1275 | kruppa | 2008-05-12 01:15:36 +0200 (Mon, 12 May 2008) | 3 lines
Changed paths:
   M /trunk/makesmooth.gp

Make it work better with larger stage 1 primes by using nextprime() instead
of forprime()

------------------------------------------------------------------------
r1274 | kruppa | 2008-05-11 21:42:05 +0200 (Sun, 11 May 2008) | 2 lines
Changed paths:
   M /trunk/test.pp1

Added test case for bug in PRAC code for P+1

------------------------------------------------------------------------
r1273 | kruppa | 2008-05-09 18:12:22 +0200 (Fri, 09 May 2008) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/pm1.c
   M /trunk/pm1fs2.c
   M /trunk/pp1.c

Parameter selection adjusted for P+1 which prefers smaller s_2

------------------------------------------------------------------------
r1272 | brian_gladman | 2008-05-06 15:20:29 +0200 (Tue, 06 May 2008) | 1 line
Changed paths:
   M /trunk/sp.h

improved MSVC assembler code
------------------------------------------------------------------------
r1271 | zimmerma | 2008-05-06 14:31:31 +0200 (Tue, 06 May 2008) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

replaced s_2 = ... by k = s_2 = ... (continued)

------------------------------------------------------------------------
r1269 | kruppa | 2008-05-06 14:19:27 +0200 (Tue, 06 May 2008) | 2 lines
Changed paths:
   M /trunk/ChangeLog

Added lastest changes

------------------------------------------------------------------------
r1268 | kruppa | 2008-05-06 14:17:43 +0200 (Tue, 06 May 2008) | 2 lines
Changed paths:
   M /trunk/pm1.c
   M /trunk/pp1.c

Added "k = s_2 =" to -v output for new stage 2

------------------------------------------------------------------------
r1266 | kruppa | 2008-05-06 13:59:54 +0200 (Tue, 06 May 2008) | 2 lines
Changed paths:
   M /trunk/ChangeLog

Added lastest changes

------------------------------------------------------------------------
r1265 | kruppa | 2008-05-06 13:58:23 +0200 (Tue, 06 May 2008) | 2 lines
Changed paths:
   M /trunk/README.dev
   M /trunk/configure.in

Switched assertions to on by default (change to off for official release)

------------------------------------------------------------------------
r1264 | kruppa | 2008-05-06 13:45:04 +0200 (Tue, 06 May 2008) | 2 lines
Changed paths:
   M /trunk/README

Added remark explaining that s_2 in new stage 2 is similar to k in old one

------------------------------------------------------------------------
r1263 | kruppa | 2008-05-05 19:20:59 +0200 (Mon, 05 May 2008) | 4 lines
Changed paths:
   M /trunk/TODO

Added Torbjorn Granlund's suggestion for faster mpn_mod_1() 
Added item on rewriting mpmod.c to use mpn_*, not mpz_* (long term goal)
Removed item on dynamic library, mostly done

------------------------------------------------------------------------
r1262 | kruppa | 2008-05-05 18:28:41 +0200 (Mon, 05 May 2008) | 2 lines
Changed paths:
   M /trunk/README

Added remark about much improved performance in 64 bit mode

------------------------------------------------------------------------
r1261 | kruppa | 2008-05-05 18:10:05 +0200 (Mon, 05 May 2008) | 3 lines
Changed paths:
   M /trunk/sp.h

Added sp_add() C code for modulus with MSB=0, fixed comments for 
sp_add() asm macro

------------------------------------------------------------------------
r1260 | kruppa | 2008-05-05 17:26:30 +0200 (Mon, 05 May 2008) | 3 lines
Changed paths:
   M /trunk/pm1fs2.c

Mostly rewrote parameter selection to minimize estimated cost, allow
smaller increments of B2

------------------------------------------------------------------------
r1259 | zimmerma | 2008-05-03 00:19:56 +0200 (Sat, 03 May 2008) | 2 lines
Changed paths:
   M /trunk/README.dev

we should look in TODO for a new release

------------------------------------------------------------------------
r1258 | zimmerma | 2008-05-03 00:18:44 +0200 (Sat, 03 May 2008) | 2 lines
Changed paths:
   M /trunk/TODO

added bug with GWNUM interface

------------------------------------------------------------------------
r1257 | kruppa | 2008-05-02 23:52:10 +0200 (Fri, 02 May 2008) | 7 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/ecm-gmp.h
   M /trunk/ecm-impl.h
   M /trunk/ks-multiply.c
   M /trunk/mpmod.c
   M /trunk/mpzspv.c
   M /trunk/mul_fft.c
   M /trunk/pm1fs2.c
   M /trunk/schoen_strass.c

Fixed broken help string for --enable-sse2 in configure 
Mangled names of mpn_fft_best_k() and mpn_fft_next_size(), moved prototypes
of mpn_fft_*() functions to ecm-impl.h
Declared some functions static that were used only locally and polluted    
the namespace


------------------------------------------------------------------------
r1256 | brian_gladman | 2008-05-02 21:42:15 +0200 (Fri, 02 May 2008) | 3 lines
Changed paths:
   M /trunk/build.vc9/config.h
   M /trunk/build.vc9/ecm-params.h
   M /trunk/build.vc9/libecm/libecm.vcproj
   M /trunk/longlong.h

add add MSVC intrinsics to longlong.h
update build files

------------------------------------------------------------------------
r1255 | brian_gladman | 2008-05-01 23:52:03 +0200 (Thu, 01 May 2008) | 1 line
Changed paths:
   M /trunk/build.vc9/tests.py


------------------------------------------------------------------------
r1254 | brian_gladman | 2008-05-01 23:45:32 +0200 (Thu, 01 May 2008) | 1 line
Changed paths:
   M /trunk/build.vc9/config.h
   M /trunk/build.vc9/tests.py

update version (noticed by Paul)
------------------------------------------------------------------------
r1253 | brian_gladman | 2008-05-01 21:43:33 +0200 (Thu, 01 May 2008) | 1 line
Changed paths:
   M /trunk/build.vc9/readme.txt


------------------------------------------------------------------------
r1252 | zimmerma | 2008-05-01 21:41:43 +0200 (Thu, 01 May 2008) | 3 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/configure.in

INSTALL: added pointer to build.vc9/readme.txt for Windows/VC++
configure.in: changed version to 6.2-rc2

------------------------------------------------------------------------
r1251 | brian_gladman | 2008-05-01 21:36:11 +0200 (Thu, 01 May 2008) | 1 line
Changed paths:
   M /trunk/build.vc9/readme.txt

further update to the VC++ readme file.
------------------------------------------------------------------------
r1250 | brian_gladman | 2008-05-01 20:42:25 +0200 (Thu, 01 May 2008) | 1 line
Changed paths:
   M /trunk/build.vc9/config.h
   M /trunk/build.vc9/readme.txt

minor non critical changes to readme.txt and config.h
------------------------------------------------------------------------
r1249 | brian_gladman | 2008-05-01 19:20:31 +0200 (Thu, 01 May 2008) | 1 line
Changed paths:
   M /trunk/build.vc9/tests.py


------------------------------------------------------------------------
r1248 | brian_gladman | 2008-05-01 11:38:19 +0200 (Thu, 01 May 2008) | 1 line
Changed paths:
   M /trunk/build.vc9/readme.txt
   M /trunk/build.vc9/tests.py


------------------------------------------------------------------------
r1247 | zimmerma | 2008-05-01 01:05:46 +0200 (Thu, 01 May 2008) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.in

changes to have Brian's VC build files included in "make dist"

------------------------------------------------------------------------
r1246 | zimmerma | 2008-05-01 01:04:51 +0200 (Thu, 01 May 2008) | 2 lines
Changed paths:
   A /trunk/build.vc9/Makefile.am
   A /trunk/build.vc9/assembler/Makefile.am
   A /trunk/build.vc9/ecm/Makefile.am
   A /trunk/build.vc9/libecm/Makefile.am

needed makefiles to have the VC build files included in "make dist"

------------------------------------------------------------------------
r1245 | kruppa | 2008-04-30 17:34:22 +0200 (Wed, 30 Apr 2008) | 2 lines
Changed paths:
   M /trunk/configure.in

Use -W compiler flag instead of -Wextra so it works with older gcc version

------------------------------------------------------------------------
r1241 | kruppa | 2008-04-29 19:11:41 +0200 (Tue, 29 Apr 2008) | 2 lines
Changed paths:
   M /trunk/ChangeLog

Added the most recent changes

------------------------------------------------------------------------
r1240 | kruppa | 2008-04-29 16:16:58 +0200 (Tue, 29 Apr 2008) | 2 lines
Changed paths:
   M /trunk/mul_fft.c

More compiler warnings fixed...

------------------------------------------------------------------------
r1239 | zimmerma | 2008-04-29 16:06:38 +0200 (Tue, 29 Apr 2008) | 2 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/ecm.h

put ecm.h under LGPL (as it should have been from the beginning...)

------------------------------------------------------------------------
r1238 | kruppa | 2008-04-29 15:36:30 +0200 (Tue, 29 Apr 2008) | 2 lines
Changed paths:
   M /trunk/auxlib.c
   M /trunk/longlong.h
   M /trunk/mul_fft.c

Fixed some more compiler warnings

------------------------------------------------------------------------
r1237 | kruppa | 2008-04-29 15:14:20 +0200 (Tue, 29 Apr 2008) | 4 lines
Changed paths:
   M /trunk/configure.in

Probing for compiler warning flags was unreliable: with Sun CC, -pedantic
succeeds in the test, but fails during compiling. Adding warning flags only
if we use GCC now

------------------------------------------------------------------------
r1236 | kruppa | 2008-04-29 14:01:38 +0200 (Tue, 29 Apr 2008) | 7 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/ecm.c
   M /trunk/ecm_ntt.c
   M /trunk/eval.c
   M /trunk/main.c
   M /trunk/pm1fs2.c
   M /trunk/polyeval.c
   M /trunk/pp1.c
   M /trunk/random.c
   M /trunk/schoen_strass.c
   M /trunk/sp.h
   M /trunk/stage2.c

Changed some "#if HAVE_*" to "#ifdef HAVE_*" to avoid warnings with -Wundef
This implies that "#define HAVE_FOO 0" makes the ifdef succeed which is
counter-intuitive. 
A test that can properly distinguish macros that are undefined, defined 
to empty token, defined to 0 or defined to 1 seems to require token 
concatenation and two-level expansion which is horrible.

------------------------------------------------------------------------
r1235 | kruppa | 2008-04-28 20:38:54 +0200 (Mon, 28 Apr 2008) | 2 lines
Changed paths:
   M /trunk/ecm.1

Man page was out of date, re-made from ecm.xml

------------------------------------------------------------------------
r1234 | kruppa | 2008-04-28 20:36:32 +0200 (Mon, 28 Apr 2008) | 5 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.in

Fixed bug, test for matching version in gmp.h and libgmp failed due to 
missing include path if there was no gmp.h in a default include directory. 
Significant rewrite that hopefully is both more correct and cleaner. 
Added tests for compiler warning flags.

------------------------------------------------------------------------
r1232 | kruppa | 2008-04-28 16:58:54 +0200 (Mon, 28 Apr 2008) | 2 lines
Changed paths:
   M /trunk/ChangeLog

Added recent changes to ChangeLog

------------------------------------------------------------------------
r1231 | kruppa | 2008-04-28 16:38:58 +0200 (Mon, 28 Apr 2008) | 2 lines
Changed paths:
   M /trunk/INSTALL

Some updates for 6.2rc1

------------------------------------------------------------------------
r1230 | kruppa | 2008-04-28 16:24:21 +0200 (Mon, 28 Apr 2008) | 3 lines
Changed paths:
   M /trunk/Makefile.am

Added .s and .S files to CLEANFILES, as they did not get cleaned up 
by default

------------------------------------------------------------------------
r1229 | kruppa | 2008-04-28 12:14:50 +0200 (Mon, 28 Apr 2008) | 2 lines
Changed paths:
   M /trunk/test.ecm
   M /trunk/test.pm1
   M /trunk/test.pp1

Added a test in each file with an input too large for mulredc*()

------------------------------------------------------------------------
r1228 | kruppa | 2008-04-28 01:05:06 +0200 (Mon, 28 Apr 2008) | 3 lines
Changed paths:
   M /trunk/configure.in

Fixed problem with ./configure script not cunning correctly if --with-gmp
was given and --enable-shared was not.

------------------------------------------------------------------------
r1227 | zimmerma | 2008-04-27 13:28:14 +0200 (Sun, 27 Apr 2008) | 2 lines
Changed paths:
   M /trunk/configure.in

fixed warning "AC_CANONICAL_HOST invoked multiple times"

------------------------------------------------------------------------
r1226 | zimmerma | 2008-04-27 10:30:00 +0200 (Sun, 27 Apr 2008) | 2 lines
Changed paths:
   M /trunk/README.dev

we also need to check INSTALL for a new release

------------------------------------------------------------------------
r1225 | zimmerma | 2008-04-27 10:28:35 +0200 (Sun, 27 Apr 2008) | 2 lines
Changed paths:
   M /trunk/INSTALL

update GMP latest version

------------------------------------------------------------------------
r1224 | kruppa | 2008-04-25 17:55:01 +0200 (Fri, 25 Apr 2008) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.in

Trying to make --enable-shared and --with-gmp work together

------------------------------------------------------------------------
r1223 | kruppa | 2008-04-25 14:59:34 +0200 (Fri, 25 Apr 2008) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.in
   M /trunk/x86_64/redc.asm

Fixed problem with compiling x86_64 assembly routines for dynamic library,
a computed jump referenced absolute address of label in .text. Now we compute
target address relative to rip

------------------------------------------------------------------------
r1222 | kruppa | 2008-04-25 11:44:59 +0200 (Fri, 25 Apr 2008) | 3 lines
Changed paths:
   M /trunk/pm1.c
   M /trunk/pp1.c

Fixed implicit conversion of int constant to double which caused warning
in Visual C

------------------------------------------------------------------------
r1221 | kruppa | 2008-04-25 11:32:24 +0200 (Fri, 25 Apr 2008) | 3 lines
Changed paths:
   M /trunk/makesmooth.gp

Added function to produce primes where a given value is a quadratic 
non-residue, to make testing P+1 easier

------------------------------------------------------------------------
r1220 | kruppa | 2008-04-24 17:57:18 +0200 (Thu, 24 Apr 2008) | 2 lines
Changed paths:
   M /trunk/acinclude.m4

A missing "-c" flag in test compilation of .s files caused configure to fail

------------------------------------------------------------------------
r1219 | lfousse | 2008-04-24 15:37:07 +0200 (Thu, 24 Apr 2008) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.in

Produce a shared library with libtool.

------------------------------------------------------------------------
r1218 | brian_gladman | 2008-04-20 17:09:00 +0200 (Sun, 20 Apr 2008) | 1 line
Changed paths:
   A /trunk/build.vc9/assembler/a_win32a_mulredc.asm
   A /trunk/build.vc9/assembler/a_win32a_redc.asm
   M /trunk/build.vc9/assembler/a_win32p_mulredc.asm
   M /trunk/build.vc9/assembler/a_win32p_redc.asm
   M /trunk/build.vc9/assembler/a_x64_mulredc.asm
   M /trunk/build.vc9/libecm/libecm.vcproj

add win32 athlon assembler support for Visual C build
------------------------------------------------------------------------
r1217 | brian_gladman | 2008-04-18 12:33:20 +0200 (Fri, 18 Apr 2008) | 1 line
Changed paths:
   A /trunk/build.vc9/assembler/a_win32p_mulredc.asm
   A /trunk/build.vc9/assembler/a_win32p_redc.asm
   M /trunk/build.vc9/assembler/a_x64_mulredc.asm
   M /trunk/build.vc9/config.h
   M /trunk/build.vc9/libecm/libecm.vcproj
   M /trunk/build.vc9/tests.py

Add 32-bit pentium assembler support for VC++ build
------------------------------------------------------------------------
r1216 | kruppa | 2008-04-17 15:25:51 +0200 (Thu, 17 Apr 2008) | 2 lines
Changed paths:
   M /trunk/README

Updated to NTT and SchnhageStrassen sections

------------------------------------------------------------------------
r1215 | kruppa | 2008-04-17 11:30:23 +0200 (Thu, 17 Apr 2008) | 2 lines
Changed paths:
   M /trunk/mpzspv.c

Marked floating-point constant "float" to match other operands

------------------------------------------------------------------------
r1214 | brian_gladman | 2008-04-16 15:17:10 +0200 (Wed, 16 Apr 2008) | 1 line
Changed paths:
   A /trunk/build.vc9/readme.txt
   A /trunk/build.vc9/yasm.rules

Add short description of how to use YASM with VC++ for assembler support and mention Python tests file
------------------------------------------------------------------------
r1213 | brian_gladman | 2008-04-16 13:58:44 +0200 (Wed, 16 Apr 2008) | 1 line
Changed paths:
   M /trunk/build.vc9/assembler/a_x64_mulredc.asm
   M /trunk/build.vc9/config.h
   M /trunk/build.vc9/libecm/libecm.vcproj
   M /trunk/build.vc9/tests.py

enable assembler build with VC++
------------------------------------------------------------------------
r1212 | brian_gladman | 2008-04-16 12:32:11 +0200 (Wed, 16 Apr 2008) | 1 line
Changed paths:
   M /trunk/build.vc9/assembler/a_x64_mulredc.asm
   M /trunk/build.vc9/config.h
   M /trunk/build.vc9/libecm/libecm.vcproj


------------------------------------------------------------------------
r1211 | brian_gladman | 2008-04-16 11:56:01 +0200 (Wed, 16 Apr 2008) | 1 line
Changed paths:
   A /trunk/build.vc9/assembler
   A /trunk/build.vc9/assembler/a_x64_mulredc.asm
   A /trunk/build.vc9/assembler/a_x64_redc.asm
   A /trunk/build.vc9/assembler/test_mulredc.c
   M /trunk/build.vc9/config.h
   A /trunk/build.vc9/tests.py

Added YASM assembler code for AMD64 VC++ build
------------------------------------------------------------------------
r1210 | zimmerma | 2008-04-15 18:22:55 +0200 (Tue, 15 Apr 2008) | 2 lines
Changed paths:
   M /trunk/README

changed comment about efficiency of NTT to match new code

------------------------------------------------------------------------
r1209 | kruppa | 2008-04-15 17:25:10 +0200 (Tue, 15 Apr 2008) | 3 lines
Changed paths:
   M /trunk/pm1fs2.c
   M /trunk/sets_long.c

Disabled P > 2^30 in 32 bit machines as they lead to overflow in 
integer arithmetic in sets_long.c. This limits B2-B2min to about 10^15.

------------------------------------------------------------------------
r1208 | kruppa | 2008-04-15 16:36:06 +0200 (Tue, 15 Apr 2008) | 3 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/pm1fs2.c
   M /trunk/sets_long.c

There was an integer overflow problem in sets_sumset_minmax() and maxS()
on 32 bit machines. Changed arithmetic to use GMP for these.

------------------------------------------------------------------------
r1207 | kruppa | 2008-04-15 14:40:15 +0200 (Tue, 15 Apr 2008) | 2 lines
Changed paths:
   M /trunk/auxlib.c
   M /trunk/ecm-impl.h
   M /trunk/pm1.c
   M /trunk/pp1.c

Fixed overflow when converting maxmem from double -> size_t

------------------------------------------------------------------------
r1206 | kruppa | 2008-04-15 14:25:32 +0200 (Tue, 15 Apr 2008) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Print elapsed real time for stage 2 in verbose mode with multi-threading

------------------------------------------------------------------------
r1205 | kruppa | 2008-04-15 11:03:21 +0200 (Tue, 15 Apr 2008) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Fixed small output inconsistency in devverbose mode

------------------------------------------------------------------------
r1204 | kruppa | 2008-04-14 18:46:32 +0200 (Mon, 14 Apr 2008) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Some changes to avoid integer overflow in memory estimation

------------------------------------------------------------------------
r1203 | kruppa | 2008-04-14 16:40:01 +0200 (Mon, 14 Apr 2008) | 3 lines
Changed paths:
   M /trunk/mpzspm.c

mpzspm_init() could miss a prime just below SP_MAX, reducing possible input
size for a given transform length.

------------------------------------------------------------------------
r1202 | kruppa | 2008-04-14 16:38:42 +0200 (Mon, 14 Apr 2008) | 3 lines
Changed paths:
   M /trunk/README

Mention OMP_NUM_THREADS for OpenMP, explicit limits for input size and 
transform length on 32 bit machines.

------------------------------------------------------------------------
r1201 | kruppa | 2008-04-14 15:40:52 +0200 (Mon, 14 Apr 2008) | 4 lines
Changed paths:
   M /trunk/auxlib.c

Print number to be factored in decimal in checkpoint files. Conversion
to decimal used to be slow, but is fast enough in recent GMP releases that
this is not an issue any more

------------------------------------------------------------------------
r1200 | kruppa | 2008-04-14 14:14:19 +0200 (Mon, 14 Apr 2008) | 3 lines
Changed paths:
   M /trunk/pm1.c

Made code more linear to avoid having two if() braches with almost 
identical code.

------------------------------------------------------------------------
r1199 | kruppa | 2008-04-13 23:32:31 +0200 (Sun, 13 Apr 2008) | 3 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/ecm.c
   M /trunk/pm1.c
   M /trunk/pp1.c

Put code to print "Using B1=..." line in function rather than having 3 
almost identical copies in pm1.c, pp1.c and ecm.c.

------------------------------------------------------------------------
r1198 | zimmerma | 2008-04-13 10:48:25 +0200 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   M /trunk/ecm.c

removed trailing blank

------------------------------------------------------------------------
r1197 | brian_gladman | 2008-04-12 17:09:39 +0200 (Sat, 12 Apr 2008) | 1 line
Changed paths:
   M /trunk/README.dev
   M /trunk/build.vc9/config.h

Update VC++ build to match configure.in version number
------------------------------------------------------------------------
r1196 | zimmerma | 2008-04-12 14:25:54 +0200 (Sat, 12 Apr 2008) | 2 lines
Changed paths:
   M /trunk/AUTHORS

added Brian in author list

------------------------------------------------------------------------
r1195 | zimmerma | 2008-04-12 14:23:54 +0200 (Sat, 12 Apr 2008) | 6 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/NEWS
   M /trunk/README
   M /trunk/configure.in

NEWS: added some important items
configure.in: changed version to 6.2-rc1
ChangeLog: added missing entries since 6.1
README: changes after complete pass (several issues remain to be solved by
	Jason and/or Alex)

------------------------------------------------------------------------
r1194 | brian_gladman | 2008-04-11 23:06:30 +0200 (Fri, 11 Apr 2008) | 1 line
Changed paths:
   A /trunk/build.vc9
   A /trunk/build.vc9/config.h
   A /trunk/build.vc9/ecm
   A /trunk/build.vc9/ecm/ecm.vcproj
   A /trunk/build.vc9/ecm-params.h
   A /trunk/build.vc9/ecm.sln
   A /trunk/build.vc9/file_copy.bat
   A /trunk/build.vc9/libecm
   A /trunk/build.vc9/libecm/libecm.vcproj


------------------------------------------------------------------------
r1193 | kruppa | 2008-04-11 15:58:37 +0200 (Fri, 11 Apr 2008) | 3 lines
Changed paths:
   M /trunk/README

Some updates for new release, mention new stage 2 and that it doesn't work
with Brent-Suyama

------------------------------------------------------------------------
r1192 | kruppa | 2008-04-11 14:26:11 +0200 (Fri, 11 Apr 2008) | 2 lines
Changed paths:
   M /trunk/ecm.1
   M /trunk/ecm.xml

Updated man page

------------------------------------------------------------------------
r1191 | kruppa | 2008-04-10 13:47:40 +0200 (Thu, 10 Apr 2008) | 2 lines
Changed paths:
   M /trunk/sp.h

Fixed compiler warning about shift-by-32 on 32 bit systems.

------------------------------------------------------------------------
r1190 | zimmerma | 2008-04-10 08:38:03 +0200 (Thu, 10 Apr 2008) | 2 lines
Changed paths:
   M /trunk/mul_fft.c

pragma was ill-positioned

------------------------------------------------------------------------
r1189 | zimmerma | 2008-04-09 21:01:59 +0200 (Wed, 09 Apr 2008) | 2 lines
Changed paths:
   M /trunk/mul_fft.c

incorporated patches for VC++ v9 from Brian Gladman

------------------------------------------------------------------------
r1188 | kruppa | 2008-04-09 18:38:23 +0200 (Wed, 09 Apr 2008) | 4 lines
Changed paths:
   M /trunk/mpzspm.c
   M /trunk/mpzspv.c
   M /trunk/sp.h

Added conversion routines sp_t <-> mpz_t to overcome portability issues
on systems where sp_t is wider than unsigned long and mpz_*_ui() functions
can't be used.

------------------------------------------------------------------------
r1187 | kruppa | 2008-04-09 16:31:36 +0200 (Wed, 09 Apr 2008) | 3 lines
Changed paths:
   M /trunk/ecm.c

In verbose mode if a factor was found, memory for table of Dickman rho
values was not freed.

------------------------------------------------------------------------
r1186 | kruppa | 2008-04-09 16:17:08 +0200 (Wed, 09 Apr 2008) | 2 lines
Changed paths:
   M /trunk/ecm-ecm.h
   M /trunk/main.c
   M /trunk/sets_long.c

Changed some #if <macro> to #ifdef <macro>. Include alloca.h in sets_long.c

------------------------------------------------------------------------
r1185 | kruppa | 2008-04-09 16:15:28 +0200 (Wed, 09 Apr 2008) | 3 lines
Changed paths:
   M /trunk/configure.in

Check for setpriority() function (code tested for HAVE_SETPRIORITY, but
configure never defined it)

------------------------------------------------------------------------
r1184 | kruppa | 2008-04-09 16:13:10 +0200 (Wed, 09 Apr 2008) | 3 lines
Changed paths:
   M /trunk/tune.c

Replaced %zd conversion in printf() by %ld with a typecast, z modifier 
is C99 and probably not very portable.

------------------------------------------------------------------------
r1183 | kruppa | 2008-04-09 15:33:41 +0200 (Wed, 09 Apr 2008) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Fixed compiler warnings, bug (had comparison instead of assignment)

------------------------------------------------------------------------
r1182 | kruppa | 2008-04-09 15:32:10 +0200 (Wed, 09 Apr 2008) | 2 lines
Changed paths:
   M /trunk/sp.h

Fixed data type (was unsigned long instead of sp_t), removed unused variables

------------------------------------------------------------------------
r1181 | kruppa | 2008-04-09 15:30:47 +0200 (Wed, 09 Apr 2008) | 3 lines
Changed paths:
   M /trunk/mul_fft.c

Fixed some compiler warnings. Removed inclusion of longlong.h, as it expects 
certain data types for arithmetic on one-word integers to be defined.

------------------------------------------------------------------------
r1180 | kruppa | 2008-04-09 15:28:02 +0200 (Wed, 09 Apr 2008) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h

Made parameter types for ntt_*() functions use the typedefs from sp.h

------------------------------------------------------------------------
r1179 | zimmerma | 2008-04-09 14:23:04 +0200 (Wed, 09 Apr 2008) | 4 lines
Changed paths:
   M /trunk/polyeval.c
   M /trunk/stage2.c

removed extra argument of polyeval() in stage2.c
polyeval.c: polyeval() and polyeval_tellegen() must always be compiled,
since they are needed in tune.c.

------------------------------------------------------------------------
r1178 | kruppa | 2008-04-09 10:40:54 +0200 (Wed, 09 Apr 2008) | 3 lines
Changed paths:
   M /trunk/spm.c

Fixed wrong type which broke arithmetic on machines where unsigned long
has less width than sp_t.

------------------------------------------------------------------------
r1177 | kruppa | 2008-04-08 18:48:10 +0200 (Tue, 08 Apr 2008) | 2 lines
Changed paths:
   M /trunk/sp.h

Fixed typo in precompiler condition

------------------------------------------------------------------------
r1176 | kruppa | 2008-04-08 17:46:54 +0200 (Tue, 08 Apr 2008) | 3 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/ecm2.c
   M /trunk/pm1.c
   M /trunk/pp1.c
   M /trunk/stage2.c

Renamed mis-named function. Fixed output of uninitialised "dickson_a" value
in ECM stage 2.

------------------------------------------------------------------------
r1175 | kruppa | 2008-04-08 16:51:35 +0200 (Tue, 08 Apr 2008) | 3 lines
Changed paths:
   M /trunk/mul_fft.c

Fixed bug in MPN_FFT_STORE: the non-asm version wrote too little data 
due to bad pointer type.

------------------------------------------------------------------------
r1174 | zimmerma | 2008-04-08 15:55:08 +0200 (Tue, 08 Apr 2008) | 2 lines
Changed paths:
   M /trunk/mul_fft.c

added MPN_ZERO if not defined

------------------------------------------------------------------------
r1173 | kruppa | 2008-04-08 15:02:33 +0200 (Tue, 08 Apr 2008) | 3 lines
Changed paths:
   M /trunk/main.c
   M /trunk/mul_fft.c
   M /trunk/sp.h

Included some changes suggested by Brian Gladman to allow compiling under
MS VC 9.

------------------------------------------------------------------------
r1172 | kruppa | 2008-04-08 13:03:51 +0200 (Tue, 08 Apr 2008) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Fixed some "variable sized arrays"

------------------------------------------------------------------------
r1171 | zimmerma | 2008-04-08 12:55:37 +0200 (Tue, 08 Apr 2008) | 2 lines
Changed paths:
   M /trunk/longlong.h
   M /trunk/mul_fft.c

define dummy versions of __builtin_constant_p and __builtin_expect when not gcc

------------------------------------------------------------------------
r1170 | kruppa | 2008-04-08 12:49:05 +0200 (Tue, 08 Apr 2008) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/pm1fs2.c

Fixed some compiler warnings with -pedantic

------------------------------------------------------------------------
r1169 | zimmerma | 2008-04-08 12:00:42 +0200 (Tue, 08 Apr 2008) | 2 lines
Changed paths:
   M /trunk/TODO

added TODO item

------------------------------------------------------------------------
r1168 | zimmerma | 2008-04-08 11:38:43 +0200 (Tue, 08 Apr 2008) | 5 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/asmredc.h
   M /trunk/getprime.c
   M /trunk/mul_fft.c

Makefile.am: added -pedantic
asmredc.h, mul_fft.c, getprime.c:
- changed C++ style comments //... to C style /* ... */
- fixed type declarations inbetween instructions

------------------------------------------------------------------------
r1167 | jasonp | 2008-04-08 04:30:45 +0200 (Tue, 08 Apr 2008) | 1 line
Changed paths:
   M /trunk/sp.h

force the size of small prime residues to explicitly match up with a GMP word
------------------------------------------------------------------------
r1166 | zimmerma | 2008-04-03 21:44:25 +0200 (Thu, 03 Apr 2008) | 3 lines
Changed paths:
   M /trunk/ecm.c

reduce the number of tried Lucas chains in PRAC for small numbers
(thanks to Pierrick who noticed the overhead with MPFQ)

------------------------------------------------------------------------
r1165 | kruppa | 2008-03-25 19:40:32 +0100 (Tue, 25 Mar 2008) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c
   M /trunk/pp1.c

Some unsaved edits that were missing in last commit

------------------------------------------------------------------------
r1164 | kruppa | 2008-03-25 19:33:25 +0100 (Tue, 25 Mar 2008) | 4 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/ecm-impl.h
   M /trunk/median.c
   M /trunk/pm1.c
   M /trunk/pm1fs2.c
   M /trunk/pp1.c

Added code for automatic parameters selection for new P-1 and P+1 stage 2
according to available memory.
Report if there's an error (e.g. out-of-memory condition) in TMulKS().

------------------------------------------------------------------------
r1163 | jasonp | 2008-03-23 00:29:40 +0100 (Sun, 23 Mar 2008) | 4 lines
Changed paths:
   M /trunk/ntt_gfp.c
   M /trunk/sp.h
   M /trunk/spv.c

Use 31-bit primes for the NTT on 32-bit systems. This is
slightly slower than using 30-bit primes but allows arithmetic
on larger polynomials

------------------------------------------------------------------------
r1162 | kruppa | 2008-03-21 18:49:16 +0100 (Fri, 21 Mar 2008) | 3 lines
Changed paths:
   M /trunk/mpzspm.c
   M /trunk/pm1.c
   M /trunk/pp1.c
   M /trunk/sp.h

New P+1 and P-1 stage 2 now checks maximal supported transform length for 
NTT, reduces lmax accordingly

------------------------------------------------------------------------
r1161 | kruppa | 2008-03-20 15:39:11 +0100 (Thu, 20 Mar 2008) | 14 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.in
   M /trunk/main.c
   M /trunk/pm1fs2.c

Andreas Schickel reported a problem with new stage 2 on 32 bit: there are
so few suitable NTT primes < 2^30 that only short transform lengths (~2^19)
are possible. 
Instead of requiring primes == 1 (mod 3l), code for building
F with weighted convolutions is separate now and uses primes
== 1 (mod 3l/4), the convolution for multipoint evaluation uses primes
== 1 (mod l). This improves the situation a little, but the possible 
transform lengths (~20^20) are still rather small.

Also fixed out of bound array access in ntt_sqr_reciprocal().

Print time stamp for each curve now instead of for each new number, 
requested by Andreas.

------------------------------------------------------------------------
r1160 | kruppa | 2008-03-20 11:49:17 +0100 (Thu, 20 Mar 2008) | 2 lines
Changed paths:
   M /trunk/mul_fft.c

Enable assertions if so specified in config.h (were always off!)

------------------------------------------------------------------------
r1159 | kruppa | 2008-03-20 11:39:56 +0100 (Thu, 20 Mar 2008) | 2 lines
Changed paths:
   M /trunk/mul_fft.c

Added two missing ASSERT for NULL pointer after alloc

------------------------------------------------------------------------
r1158 | jasonp | 2008-03-20 04:16:17 +0100 (Thu, 20 Mar 2008) | 1 line
Changed paths:
   M /trunk/ntt_gfp.c
   M /trunk/sp.h
   M /trunk/spm.c

do not store NTT scratch array on the stack
------------------------------------------------------------------------
r1157 | kruppa | 2008-03-19 19:52:40 +0100 (Wed, 19 Mar 2008) | 5 lines
Changed paths:
   M /trunk/pm1fs2.c

Revert bug-"fix" from just before, it breaks the NTT.
Test for NULL pointer from mpzspm_init().
Changed diagnostic output during parameter selection to TRACE level.


------------------------------------------------------------------------
r1156 | kruppa | 2008-03-19 19:29:52 +0100 (Wed, 19 Mar 2008) | 3 lines
Changed paths:
   M /trunk/mpzspm.c
   M /trunk/pm1fs2.c

Fixed bug: required transform length overestimated, reduced possible
transform length on 32 bit machines

------------------------------------------------------------------------
r1155 | kruppa | 2008-03-19 17:57:20 +0100 (Wed, 19 Mar 2008) | 3 lines
Changed paths:
   M /trunk/Makefile.am

Added ecm-params.h.pentium3 and ecm-params.h.pentium4 to list of files to
put in distribution.

------------------------------------------------------------------------
r1154 | kruppa | 2008-03-19 16:30:28 +0100 (Wed, 19 Mar 2008) | 2 lines
Changed paths:
   M /trunk/Makefile.am

Added rule to remove config.m4 on distclean, to make distcheck work

------------------------------------------------------------------------
r1153 | zimmerma | 2008-03-19 13:51:39 +0100 (Wed, 19 Mar 2008) | 2 lines
Changed paths:
   A /trunk/ecm-params.h.pentiumm

tuning parameters for pentium M

------------------------------------------------------------------------
r1152 | kruppa | 2008-03-19 12:36:38 +0100 (Wed, 19 Mar 2008) | 2 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/NEWS

Added Jason, fixed typo

------------------------------------------------------------------------
r1151 | kruppa | 2008-03-19 11:46:37 +0100 (Wed, 19 Mar 2008) | 2 lines
Changed paths:
   A /trunk/ecm-params.h.pentium4

Parameter file for Pentium 4

------------------------------------------------------------------------
r1150 | kruppa | 2008-03-19 11:45:55 +0100 (Wed, 19 Mar 2008) | 2 lines
Changed paths:
   M /trunk/ecm-params.h.athlon64

Updated parameters for new NTT

------------------------------------------------------------------------
r1149 | kruppa | 2008-03-19 11:45:40 +0100 (Wed, 19 Mar 2008) | 2 lines
Changed paths:
   M /trunk/NEWS

Updated NEWS for 6.2

------------------------------------------------------------------------
r1148 | kruppa | 2008-03-18 20:18:06 +0100 (Tue, 18 Mar 2008) | 3 lines
Changed paths:
   M /trunk/configure.in

Added --enable-sse2 option. Default is using SSE2 on Pentium 4, not using 
it on other architectures.

------------------------------------------------------------------------
r1147 | kruppa | 2008-03-18 20:16:59 +0100 (Tue, 18 Mar 2008) | 4 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/pm1.c
   M /trunk/pm1fs2.c
   M /trunk/pp1.c

Made -maxmem work with new P+-1 stage 2, also chooses one pass evaluation 
(computing convolutions for both coordinates, adding in transform space
to save an inverse transform) for P+1 if memory allows.

------------------------------------------------------------------------
r1146 | kruppa | 2008-03-14 15:14:15 +0100 (Fri, 14 Mar 2008) | 4 lines
Changed paths:
   M /trunk/sp.h

Re-wrote asm macro for sp_add, sp_sub. Fixes (I hope!) a subtle bug
in operand constraints (edx could be used as input operand in spite of 
being marked "clobbered") and I hope is a bit faster, too.

------------------------------------------------------------------------
r1145 | kruppa | 2008-03-13 15:19:32 +0100 (Thu, 13 Mar 2008) | 2 lines
Changed paths:
   M /trunk/configure.in

autoconf doesn't like space in macro

------------------------------------------------------------------------
r1144 | kruppa | 2008-03-13 14:55:54 +0100 (Thu, 13 Mar 2008) | 2 lines
Changed paths:
   M /trunk/Fgw.c

Thrown out lots of dead code

------------------------------------------------------------------------
r1143 | kruppa | 2008-03-13 14:52:22 +0100 (Thu, 13 Mar 2008) | 4 lines
Changed paths:
   M /trunk/ecm.c
   M /trunk/lucas.c

Replaced floating-point constants for PRAC by their reciprocals and 
division by multiplication. Some speedup for P+1 with very small numbers,
for other cases very little speedup.

------------------------------------------------------------------------
r1142 | kruppa | 2008-02-27 18:45:43 +0100 (Wed, 27 Feb 2008) | 3 lines
Changed paths:
   M /trunk/Fgw.c

Added assert to GWNUM ECM stage 1 interface to test that output residue fits
in allocated space.

------------------------------------------------------------------------
r1141 | kruppa | 2008-02-27 15:54:00 +0100 (Wed, 27 Feb 2008) | 4 lines
Changed paths:
   M /trunk/Fgw.c
   M /trunk/ecm-impl.h
   M /trunk/ecm.c
   M /trunk/mpmod.c
   M /trunk/schoen_strass.c

Removed code to use GWNUM for individual multiplications modulo Fermat 
numbers - I think it was broken, never got used much anyway and if we 
really want it, will need a rewrite from scratch

------------------------------------------------------------------------
r1140 | kruppa | 2008-02-27 15:43:21 +0100 (Wed, 27 Feb 2008) | 2 lines
Changed paths:
   M /trunk/ecm.c

Removed some remaining dead Montgomery roots code

------------------------------------------------------------------------
r1139 | kruppa | 2008-02-27 12:03:47 +0100 (Wed, 27 Feb 2008) | 3 lines
Changed paths:
   M /trunk/pm1fs2.c

Added check of result to ntt_sqr_reciprocal(), hoping to find an elusive 
bug that appears on my AMD Athlon

------------------------------------------------------------------------
r1138 | kruppa | 2008-02-27 01:36:13 +0100 (Wed, 27 Feb 2008) | 2 lines
Changed paths:
   M /trunk/mpzspv.c

Fixed segfault in mpzspv_verify().

------------------------------------------------------------------------
r1137 | kruppa | 2008-02-26 23:46:13 +0100 (Tue, 26 Feb 2008) | 2 lines
Changed paths:
   M /trunk/x86_64/README

Added comment on generating mulredc{1,2}.asm from Python script

------------------------------------------------------------------------
r1136 | kruppa | 2008-02-26 23:42:50 +0100 (Tue, 26 Feb 2008) | 2 lines
Changed paths:
   M /trunk/x86_64/Makefile.am
   M /trunk/x86_64/Makefile.dev
   M /trunk/x86_64/generate_all

Updated Makefiles/scripts to make mulredc asm code from autogen.py/mulredc.m4

------------------------------------------------------------------------
r1135 | kruppa | 2008-02-26 23:24:25 +0100 (Tue, 26 Feb 2008) | 2 lines
Changed paths:
   M /trunk/x86_64/mulredc1.asm

mulredc1.asm as generated by Python script (without my old comment edits)

------------------------------------------------------------------------
r1134 | kruppa | 2008-02-26 19:59:22 +0100 (Tue, 26 Feb 2008) | 3 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/ntt_gfp.c
   M /trunk/spv.c

configure now defines HAS_SSE2 if running on Pentium 4 so NTT uses
Jason Papadopoulos' SSE2 code.

------------------------------------------------------------------------
r1133 | kruppa | 2008-02-26 19:21:56 +0100 (Tue, 26 Feb 2008) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Parallelized pp1_sequence_h(), last function that hadn't been done yet

------------------------------------------------------------------------
r1132 | kruppa | 2008-02-22 17:53:40 +0100 (Fri, 22 Feb 2008) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c
   M /trunk/sets_long.c

Fixed typo, spelt out ANTS

------------------------------------------------------------------------
r1131 | kruppa | 2008-02-22 17:42:15 +0100 (Fri, 22 Feb 2008) | 4 lines
Changed paths:
   M /trunk/auxlib.c
   M /trunk/mpzspm.c
   M /trunk/mpzspv.c
   M /trunk/ntt_gfp.c
   M /trunk/pm1fs2.c
   M /trunk/sets_long.c
   M /trunk/sp.c
   M /trunk/sp.h
   M /trunk/spm.c
   M /trunk/spv.c
   M /trunk/tune.c

Included patch by Jason to fix out-of-bounds array access.
Updated copyright information.


------------------------------------------------------------------------
r1130 | kruppa | 2008-02-21 19:36:26 +0100 (Thu, 21 Feb 2008) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Removed dead code, made output of timing info more consistent

------------------------------------------------------------------------
r1129 | kruppa | 2008-02-21 17:18:34 +0100 (Thu, 21 Feb 2008) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/mpmod.c

Changed _ui funtions to take unsigned longs, as GMP does

------------------------------------------------------------------------
r1128 | kruppa | 2008-02-21 15:07:54 +0100 (Thu, 21 Feb 2008) | 2 lines
Changed paths:
   M /trunk/getprime.c

Fixed access to uninitialised data in getprime()

------------------------------------------------------------------------
r1127 | kruppa | 2008-02-21 12:14:35 +0100 (Thu, 21 Feb 2008) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/getprime.c
   M /trunk/mpmod.c
   M /trunk/mul_fft.c

Fixed some compiler warnings.

------------------------------------------------------------------------
r1126 | kruppa | 2008-02-21 11:42:33 +0100 (Thu, 21 Feb 2008) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/ecm2.c
   M /trunk/pm1.c
   M /trunk/pp1.c
   M /trunk/stage2.c

Fixed ugly typecast

------------------------------------------------------------------------
r1125 | kruppa | 2008-02-20 15:34:07 +0100 (Wed, 20 Feb 2008) | 3 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/ecm2.c

Removed code for ECM stage 2 roots in Montgomery form. Never worked and
probably never will.

------------------------------------------------------------------------
r1124 | kruppa | 2008-02-20 15:19:11 +0100 (Wed, 20 Feb 2008) | 2 lines
Changed paths:
   M /trunk/mpzspm.c
   M /trunk/mpzspv.c
   M /trunk/ntt_gfp.c
   M /trunk/pm1fs2.c
   M /trunk/sp.c
   M /trunk/sp.h
   M /trunk/spm.c
   M /trunk/spv.c
   M /trunk/tune.c

Merging Jason Papadopoulos' new SSE2 NTT code

------------------------------------------------------------------------
r1123 | kruppa | 2008-02-20 15:18:35 +0100 (Wed, 20 Feb 2008) | 2 lines
Changed paths:
   M /trunk/techdocs/convolv.tex

Cleanups

------------------------------------------------------------------------
r1122 | kruppa | 2008-02-20 13:56:45 +0100 (Wed, 20 Feb 2008) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Some small cleanup of timing/residue output

------------------------------------------------------------------------
r1121 | kruppa | 2008-02-19 23:53:22 +0100 (Tue, 19 Feb 2008) | 2 lines
Changed paths:
   M /trunk/stage2.c

Small changes (mostly comments)

------------------------------------------------------------------------
r1120 | kruppa | 2008-02-19 19:03:30 +0100 (Tue, 19 Feb 2008) | 2 lines
Changed paths:
   M /trunk/pm1.c

Made new stage 2 the default. Fixed small memory leak.

------------------------------------------------------------------------
r1119 | kruppa | 2008-02-19 18:59:20 +0100 (Tue, 19 Feb 2008) | 3 lines
Changed paths:
   M /trunk/pp1.c

Fixed bug in computing roots of G when i0 < -6. Made the new stage 2 
the default. Fixed small memory leak.

------------------------------------------------------------------------
r1118 | zimmerma | 2008-02-18 18:36:44 +0100 (Mon, 18 Feb 2008) | 2 lines
Changed paths:
   M /trunk/README.dev
   A /trunk/testlong.pp1

added new (long) test file for P+1

------------------------------------------------------------------------
r1117 | zimmerma | 2008-02-18 14:38:34 +0100 (Mon, 18 Feb 2008) | 3 lines
Changed paths:
   M /trunk/test.pp1

added test cases that exhibit bug in 6.1.3 with polynomials of degree > 1
(and maybe in earlier versions)

------------------------------------------------------------------------
r1116 | kruppa | 2008-02-18 11:46:12 +0100 (Mon, 18 Feb 2008) | 2 lines
Changed paths:
   M /trunk/techdocs/buildpoly.tex

Something about converting polynomial bases, forgot what's it about by now

------------------------------------------------------------------------
r1115 | zimmerma | 2008-02-12 23:40:53 +0100 (Tue, 12 Feb 2008) | 2 lines
Changed paths:
   M /trunk/main.c

update P+1 top-ten bound

------------------------------------------------------------------------
r1114 | jasonp | 2008-01-30 08:04:04 +0100 (Wed, 30 Jan 2008) | 1 line
Changed paths:
   M /trunk/Makefile.am

allow 'make check' to work in MinGW
------------------------------------------------------------------------
r1113 | kruppa | 2008-01-29 16:57:28 +0100 (Tue, 29 Jan 2008) | 4 lines
Changed paths:
   M /trunk/pm1fs2.c

Fixed small memory leak (S_2). Allocate enough memory for mpz_t's to 
avoid reallocs.


------------------------------------------------------------------------
r1112 | kruppa | 2008-01-29 16:54:45 +0100 (Tue, 29 Jan 2008) | 2 lines
Changed paths:
   M /trunk/mpmod.c

Fixed compiler warning: parantheses around assignment as truth value

------------------------------------------------------------------------
r1111 | kruppa | 2008-01-29 16:53:58 +0100 (Tue, 29 Jan 2008) | 2 lines
Changed paths:
   M /trunk/mpzspm.c

Minor changes: replace mpz_add by mpz_mul_2exp, changes to comments

------------------------------------------------------------------------
r1110 | kruppa | 2008-01-23 18:09:04 +0100 (Wed, 23 Jan 2008) | 2 lines
Changed paths:
   M /trunk/mpzspv.c

Multi-threading pragmas for mpzspv_from_mpzv() 

------------------------------------------------------------------------
r1109 | kruppa | 2008-01-21 23:20:26 +0100 (Mon, 21 Jan 2008) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

A little more parallelism in ntt_sqr_recip() to improve timings

------------------------------------------------------------------------
r1108 | kruppa | 2008-01-21 20:11:24 +0100 (Mon, 21 Jan 2008) | 2 lines
Changed paths:
   M /trunk/auxlib.c
   M /trunk/ecm-impl.h
   M /trunk/mpzspv.c
   M /trunk/pm1fs2.c
   M /trunk/sp.h

Some more parallelization to get nicer timings for the final paper

------------------------------------------------------------------------
r1107 | kruppa | 2008-01-21 20:10:57 +0100 (Mon, 21 Jan 2008) | 3 lines
Changed paths:
   M /trunk/mpmod.c

ECM_MOD_MPZ reduction uses aux_modulus now, but that was not copied by
mpmod_copy(). Fixed.

------------------------------------------------------------------------
r1106 | kruppa | 2008-01-21 14:57:23 +0100 (Mon, 21 Jan 2008) | 2 lines
Changed paths:
   A /trunk/phiP.gp

A pari script to make P values for new stage 2

------------------------------------------------------------------------
r1105 | kruppa | 2008-01-21 01:16:13 +0100 (Mon, 21 Jan 2008) | 4 lines
Changed paths:
   M /trunk/pm1.c
   M /trunk/pm1fs2.c
   M /trunk/pp1.c
   M /trunk/sp.h

Changed ntt_sqr_recip() to use Montgomery's idea of using a primitive 3rd
root of unity for the weight signal. 


------------------------------------------------------------------------
r1104 | zimmerma | 2008-01-17 08:52:20 +0100 (Thu, 17 Jan 2008) | 2 lines
Changed paths:
   M /trunk/mpmod.c

fixed a bug in mpres_mpz_mod when n=1

------------------------------------------------------------------------
r1103 | zimmerma | 2008-01-16 11:56:32 +0100 (Wed, 16 Jan 2008) | 2 lines
Changed paths:
   M /trunk/mpmod.c

fixed bug in mpres_mpz_mod in case T has more than 2n limbs

------------------------------------------------------------------------
r1102 | zimmerma | 2008-01-16 10:42:19 +0100 (Wed, 16 Jan 2008) | 5 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/ecm.c
   M /trunk/ecm.h
   M /trunk/ecm2.c
   M /trunk/main.c
   M /trunk/mpmod.c
   M /trunk/pp1.c

mpmod_init code was duplicated: now call mpmod_init directly
this also solved some inconsistencies in arithmetic options: in some
	cases ECM did not use mpz_mod although -mpzmod was given
added new algorithm which speeds up -mpzmod arithmetic

------------------------------------------------------------------------
r1101 | kruppa | 2008-01-15 18:02:11 +0100 (Tue, 15 Jan 2008) | 2 lines
Changed paths:
   M /trunk/mpzspm.c
   M /trunk/spm.c

Allow computation of roots of unity whose order isn't a power of 2

------------------------------------------------------------------------
r1100 | zimmerma | 2008-01-15 15:45:23 +0100 (Tue, 15 Jan 2008) | 3 lines
Changed paths:
   M /trunk/TODO
   A /trunk/TODO.kunz

added suggestions from Thomas Kunz, to make it easier to port GMP-ECM to
specific architectures

------------------------------------------------------------------------
r1099 | kruppa | 2008-01-14 15:53:22 +0100 (Mon, 14 Jan 2008) | 3 lines
Changed paths:
   M /trunk/pm1fs2.c

Fixed bug in computation of g sequence for P-1 with many threads: negative
value could get assigned to unsigned long.

------------------------------------------------------------------------
r1098 | kruppa | 2008-01-13 11:38:53 +0100 (Sun, 13 Jan 2008) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Modified ntt_sqr_recip to work as described in the paper, parallelized it

------------------------------------------------------------------------
r1097 | zimmerma | 2008-01-13 10:21:21 +0100 (Sun, 13 Jan 2008) | 2 lines
Changed paths:
   M /trunk/TODO
   A /trunk/TODO.fat

added suggestion from Peter Montgomery

------------------------------------------------------------------------
r1096 | kruppa | 2008-01-12 15:37:28 +0100 (Sat, 12 Jan 2008) | 3 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/pm1.c
   M /trunk/pm1fs2.c
   M /trunk/pp1.c

If NTT is used, ensure s_1 < lmax/2 so that poly degrees stay just below 
a power of two while bulding F.

------------------------------------------------------------------------
r1095 | kruppa | 2008-01-11 20:37:24 +0100 (Fri, 11 Jan 2008) | 2 lines
Changed paths:
   M /trunk/techdocs/mulrecip.tex

More details on DWT mul for RLPs

------------------------------------------------------------------------
r1094 | kruppa | 2008-01-10 19:47:02 +0100 (Thu, 10 Jan 2008) | 2 lines
Changed paths:
   A /trunk/techdocs/mulrecip.tex
   D /trunk/techdocs/mulrecipdwt.tex

Added something on multiplying RLP without DWT/NTT

------------------------------------------------------------------------
r1093 | kruppa | 2008-01-10 19:44:08 +0100 (Thu, 10 Jan 2008) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Rewrote list_mul_reciprocal() to use less temp memory.

------------------------------------------------------------------------
r1092 | kruppa | 2008-01-09 22:44:22 +0100 (Wed, 09 Jan 2008) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   A /trunk/auxarith.c
   M /trunk/auxlib.c
   M /trunk/ecm-impl.h
   M /trunk/ecm2.c
   M /trunk/pm1fs2.c

Moved functions for simple unsigned long arithmetic to auxarith.c
Added function for squaring an RLP with a discrete weighted NTT of 
half length.

------------------------------------------------------------------------
r1091 | kruppa | 2008-01-07 23:04:55 +0100 (Mon, 07 Jan 2008) | 2 lines
Changed paths:
   M /trunk/techdocs/mulrecipdwt.tex

Small changes

------------------------------------------------------------------------
r1090 | kruppa | 2008-01-07 22:45:01 +0100 (Mon, 07 Jan 2008) | 2 lines
Changed paths:
   A /trunk/techdocs/mulrecipdwt.tex

A note on (hopefully) multiplying RLPs with a weighted FFT 

------------------------------------------------------------------------
r1089 | kruppa | 2008-01-07 22:43:23 +0100 (Mon, 07 Jan 2008) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

New function for squaring RLPs, simpler than general multiply one

------------------------------------------------------------------------
r1088 | kruppa | 2008-01-07 22:41:13 +0100 (Mon, 07 Jan 2008) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c
   M /trunk/sets_long.c

Some more cleanups

------------------------------------------------------------------------
r1087 | kruppa | 2008-01-06 22:12:24 +0100 (Sun, 06 Jan 2008) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/pm1fs2.c
   M /trunk/sets_long.c
   M /trunk/x86_64/README
   M /trunk/x86_64/test_mulredc.c

More cleanup and bugfixes

------------------------------------------------------------------------
r1086 | kruppa | 2008-01-02 11:22:55 +0100 (Wed, 02 Jan 2008) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/ecm-impl.h
   M /trunk/pm1fs2.c
   M /trunk/sets_long.c

More code cleanup in sets_long.c, made pm1fs2.c use those functions

------------------------------------------------------------------------
r1085 | zimmerma | 2007-12-25 17:20:25 +0100 (Tue, 25 Dec 2007) | 2 lines
Changed paths:
   M /trunk/main.c

updated champions thresholds

------------------------------------------------------------------------
r1084 | kruppa | 2007-12-21 16:20:41 +0100 (Fri, 21 Dec 2007) | 3 lines
Changed paths:
   M /trunk/ecm-impl.h
   A /trunk/sets_long.c

Rewrote most of the operations on sets of longs for clarity, moved them
into own source file.

------------------------------------------------------------------------
r1083 | kruppa | 2007-12-20 10:37:57 +0100 (Thu, 20 Dec 2007) | 2 lines
Changed paths:
   M /trunk/mpmod.c

Fixed bug in mpmod_copy() with 2^n-1 numbers.

------------------------------------------------------------------------
r1082 | kruppa | 2007-12-19 11:53:59 +0100 (Wed, 19 Dec 2007) | 4 lines
Changed paths:
   M /trunk/mul_fft.c

Fixed unparenthesized parameter in __GMP_ALLOCATE_FUNC_LIMBS macro.
Changed copy of inputs in mpn_mul_fft_aux() to use malloc instead of alloca.
Added ASSERT != NULL to temp space allocs.

------------------------------------------------------------------------
r1081 | kruppa | 2007-12-18 11:37:01 +0100 (Tue, 18 Dec 2007) | 2 lines
Changed paths:
   M /trunk/factor.c

Updated default parameters so ugly hack works outside of GMP-ECM

------------------------------------------------------------------------
r1080 | kruppa | 2007-12-18 11:00:28 +0100 (Tue, 18 Dec 2007) | 2 lines
Changed paths:
   M /trunk/factor.c
   M /trunk/main.c

Added ugly hack to pass B2scale parameter to library

------------------------------------------------------------------------
r1079 | kruppa | 2007-12-17 21:44:14 +0100 (Mon, 17 Dec 2007) | 2 lines
Changed paths:
   M /trunk/x86_64/README

Updated README for new m4 script.

------------------------------------------------------------------------
r1078 | zimmerma | 2007-12-17 14:25:56 +0100 (Mon, 17 Dec 2007) | 2 lines
Changed paths:
   M /trunk/TODO

reorganized, added a table of contents, and added a section "installation"

------------------------------------------------------------------------
r1077 | kruppa | 2007-12-17 13:38:13 +0100 (Mon, 17 Dec 2007) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.in
   M /trunk/x86_64/mulredc.m4
   M /trunk/x86_64/mulredc10.asm
   M /trunk/x86_64/mulredc11.asm
   M /trunk/x86_64/mulredc12.asm
   M /trunk/x86_64/mulredc13.asm
   M /trunk/x86_64/mulredc14.asm
   M /trunk/x86_64/mulredc15.asm
   M /trunk/x86_64/mulredc16.asm
   M /trunk/x86_64/mulredc17.asm
   M /trunk/x86_64/mulredc18.asm
   M /trunk/x86_64/mulredc19.asm
   M /trunk/x86_64/mulredc20.asm
   M /trunk/x86_64/mulredc3.asm
   M /trunk/x86_64/mulredc4.asm
   M /trunk/x86_64/mulredc5.asm
   M /trunk/x86_64/mulredc6.asm
   M /trunk/x86_64/mulredc7.asm
   M /trunk/x86_64/mulredc8.asm
   M /trunk/x86_64/mulredc9.asm

If GMP is linked statically, link mpmod.o and GMP first to put speed critical
functions close together, hoping to avoid cache collisions.

------------------------------------------------------------------------
r1076 | zimmerma | 2007-12-14 21:45:36 +0100 (Fri, 14 Dec 2007) | 4 lines
Changed paths:
   M /trunk/Makefile.am

Hard-coded compilation line for alternate binary (ecm2) with speed-critical
routines close together. Should be removed once somebody figures out how to
do this properly.

------------------------------------------------------------------------
r1075 | kruppa | 2007-12-13 15:24:22 +0100 (Thu, 13 Dec 2007) | 2 lines
Changed paths:
   M /trunk/x86_64/mulredc.m4
   M /trunk/x86_64/mulredc10.asm
   M /trunk/x86_64/mulredc11.asm
   M /trunk/x86_64/mulredc12.asm
   M /trunk/x86_64/mulredc13.asm
   M /trunk/x86_64/mulredc14.asm
   M /trunk/x86_64/mulredc15.asm
   M /trunk/x86_64/mulredc16.asm
   M /trunk/x86_64/mulredc17.asm
   M /trunk/x86_64/mulredc18.asm
   M /trunk/x86_64/mulredc19.asm
   M /trunk/x86_64/mulredc20.asm
   M /trunk/x86_64/mulredc3.asm
   M /trunk/x86_64/mulredc4.asm
   M /trunk/x86_64/mulredc5.asm
   M /trunk/x86_64/mulredc6.asm
   M /trunk/x86_64/mulredc7.asm
   M /trunk/x86_64/mulredc8.asm
   M /trunk/x86_64/mulredc9.asm

More optimization of mulredc, up to 4% faster

------------------------------------------------------------------------
r1074 | kruppa | 2007-12-05 16:08:00 +0100 (Wed, 05 Dec 2007) | 4 lines
Changed paths:
   M /trunk/mul_fft.c

Some functions caused symbol conflict when linking GMP statically. Made
those functions "static" in mul_fft.c, as they do not seem to be used
outside of that file.

------------------------------------------------------------------------
r1073 | kruppa | 2007-12-05 15:25:20 +0100 (Wed, 05 Dec 2007) | 2 lines
Changed paths:
   M /trunk/x86_64/bench.c
   M /trunk/x86_64/mulredc.m4
   M /trunk/x86_64/mulredc10.asm
   M /trunk/x86_64/mulredc11.asm
   M /trunk/x86_64/mulredc12.asm
   M /trunk/x86_64/mulredc13.asm
   M /trunk/x86_64/mulredc14.asm
   M /trunk/x86_64/mulredc15.asm
   M /trunk/x86_64/mulredc16.asm
   M /trunk/x86_64/mulredc17.asm
   M /trunk/x86_64/mulredc18.asm
   M /trunk/x86_64/mulredc19.asm
   M /trunk/x86_64/mulredc20.asm
   M /trunk/x86_64/mulredc3.asm
   M /trunk/x86_64/mulredc4.asm
   M /trunk/x86_64/mulredc5.asm
   M /trunk/x86_64/mulredc6.asm
   M /trunk/x86_64/mulredc7.asm
   M /trunk/x86_64/mulredc8.asm
   M /trunk/x86_64/mulredc9.asm
   M /trunk/x86_64/test_mulredc.c

Fixed comments to match code

------------------------------------------------------------------------
r1072 | kruppa | 2007-12-05 10:19:31 +0100 (Wed, 05 Dec 2007) | 3 lines
Changed paths:
   M /trunk/mpmod.c

Added an assertion to modmul_basecase which compares results with
redc_basecase. Enable with -DWANT_ASSERT_EXPENSIVE

------------------------------------------------------------------------
r1071 | kruppa | 2007-12-05 10:10:32 +0100 (Wed, 05 Dec 2007) | 2 lines
Changed paths:
   M /trunk/ntt_gfp.c

Added DCT function, but does not work correctly yet - output is not a DCT-II

------------------------------------------------------------------------
r1070 | kruppa | 2007-12-05 10:09:19 +0100 (Wed, 05 Dec 2007) | 3 lines
Changed paths:
   M /trunk/x86_64/mulredc.m4

Fixed m4 quotes to allow generation of .asm files (which get processed 
by m4 again during compilation)

------------------------------------------------------------------------
r1069 | kruppa | 2007-12-04 18:19:36 +0100 (Tue, 04 Dec 2007) | 4 lines
Changed paths:
   M /trunk/x86_64/mulredc10.asm
   M /trunk/x86_64/mulredc11.asm
   M /trunk/x86_64/mulredc12.asm
   M /trunk/x86_64/mulredc13.asm
   M /trunk/x86_64/mulredc14.asm
   M /trunk/x86_64/mulredc15.asm
   M /trunk/x86_64/mulredc16.asm
   M /trunk/x86_64/mulredc17.asm
   M /trunk/x86_64/mulredc18.asm
   M /trunk/x86_64/mulredc19.asm
   M /trunk/x86_64/mulredc20.asm
   M /trunk/x86_64/mulredc3.asm
   M /trunk/x86_64/mulredc4.asm
   M /trunk/x86_64/mulredc5.asm
   M /trunk/x86_64/mulredc6.asm
   M /trunk/x86_64/mulredc7.asm
   M /trunk/x86_64/mulredc8.asm
   M /trunk/x86_64/mulredc9.asm

Assembler files generated with 
m4 -DLENGTH=3 mulredc.m4 > mulredc3.asm
etc.

------------------------------------------------------------------------
r1068 | kruppa | 2007-12-04 17:47:21 +0100 (Tue, 04 Dec 2007) | 2 lines
Changed paths:
   M /trunk/x86_64/mulredc.m4

Somewhat faster. Speedup over Python script generated code is 7-10%.

------------------------------------------------------------------------
r1067 | zimmerma | 2007-12-04 09:39:32 +0100 (Tue, 04 Dec 2007) | 4 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/ecm-gmp.h
   M /trunk/ks-multiply.c
   M /trunk/listz.c
   M /trunk/mpmod.c
   M /trunk/schoen_strass.c

do not use any more GMP's mpn_mul_fft (which was not public),
and always use instead ecm_mpn_mul_fft (included in GMP-ECM, and faster).
Yields small speedup for Fermat numbers.

------------------------------------------------------------------------
r1066 | zimmerma | 2007-12-03 21:07:30 +0100 (Mon, 03 Dec 2007) | 5 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/ecm-params.h.athlon64
   A /trunk/ecm-params.h.pentium3
   M /trunk/mul_fft.c

configure.in: added tuning (ecm-params) for pentium3
mul_fft.c: added default values of parameters
ecm-params.h.pentium3: new file with tuned values for pentium M
ecm-params.h.athlon64: removed useless values

------------------------------------------------------------------------
r1065 | kruppa | 2007-12-03 21:04:20 +0100 (Mon, 03 Dec 2007) | 4 lines
Changed paths:
   A /trunk/x86_64/mulredc.m4

Rewrite of ASM-generating script for mulredc, this time written in m4.
Produces slightly faster (on Opteron) code than the old one, probably can 
be improved yet.

------------------------------------------------------------------------
r1064 | zimmerma | 2007-12-03 18:08:44 +0100 (Mon, 03 Dec 2007) | 2 lines
Changed paths:
   A /trunk/mul_fft.c

new FFT code, adapted for GMP-ECM

------------------------------------------------------------------------
r1063 | zimmerma | 2007-12-03 18:01:36 +0100 (Mon, 03 Dec 2007) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/ecm-params.h.athlon64
   M /trunk/ks-multiply.c

incorporated new FFT code into GMP-ECM: yields nice speedup in stage 2
with -no-ntt. Works so far only on x86_64, still remains to create parameter
files on other architectures.

------------------------------------------------------------------------
r1062 | zimmerma | 2007-12-02 22:41:26 +0100 (Sun, 02 Dec 2007) | 2 lines
Changed paths:
   M /trunk/TODO

added efficiency item

------------------------------------------------------------------------
r1061 | kruppa | 2007-11-26 17:25:28 +0100 (Mon, 26 Nov 2007) | 3 lines
Changed paths:
   M /trunk/countsmooth.c
   M /trunk/ecm-ecm.h
   M /trunk/ecm-impl.h
   M /trunk/ecm.c
   M /trunk/eval.c
   M /trunk/getprime.c
   M /trunk/pm1.c
   M /trunk/pp1.c
   M /trunk/trial.c

P-1 and P+1 now skip from sqrt(B1) to B1done in stage 1 when resuming. Large
speedup when increasing large B1 in small steps.

------------------------------------------------------------------------
r1060 | kruppa | 2007-11-26 16:57:42 +0100 (Mon, 26 Nov 2007) | 3 lines
Changed paths:
   M /trunk/pm1fs2.c

More P values, malloc() for spv's in parallel region (cpu binding tbd), 
some changes to comments.

------------------------------------------------------------------------
r1059 | kruppa | 2007-11-16 18:18:30 +0100 (Fri, 16 Nov 2007) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Parallelized P+1 sequence g and DCT of h

------------------------------------------------------------------------
r1058 | zimmerma | 2007-11-16 15:42:26 +0100 (Fri, 16 Nov 2007) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

removed space before 'ms' to be coherent with previous versions of GMP-ECM

------------------------------------------------------------------------
r1057 | kruppa | 2007-11-16 15:04:50 +0100 (Fri, 16 Nov 2007) | 3 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/mpmod.c
   M /trunk/pm1fs2.c

Some parallelization in the new P+-1 stage 2. Enable with --enable-openmp.
Building f, sequence h for P-1, and sequences g and h for P+1 are TBD.

------------------------------------------------------------------------
r1056 | kruppa | 2007-11-09 17:24:26 +0100 (Fri, 09 Nov 2007) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/mpmod.c

Added mpmod_copy() to clone a mpmod_t, i.e. for threads

------------------------------------------------------------------------
r1055 | kruppa | 2007-11-08 18:45:59 +0100 (Thu, 08 Nov 2007) | 3 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/pm1fs2.c
   M /trunk/pp1.c

Added P+1 fast stage 2 variant that generates the coordinates of g one at  
a time. This saves about 30% memory.

------------------------------------------------------------------------
r1054 | kruppa | 2007-11-03 19:42:16 +0100 (Sat, 03 Nov 2007) | 3 lines
Changed paths:
   M /trunk/ecm.c
   M /trunk/pm1.c
   M /trunk/pp1.c

Fixed bug where resuming and immediately interrupting would produce a lower
B1 value in save file than was in input file.

------------------------------------------------------------------------
r1053 | kruppa | 2007-10-30 23:53:18 +0100 (Tue, 30 Oct 2007) | 2 lines
Changed paths:
   M /trunk/main.c

Install signal handler only if a save file was specified.

------------------------------------------------------------------------
r1052 | kruppa | 2007-10-30 23:50:18 +0100 (Tue, 30 Oct 2007) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Fixed parameters selection, was slow and produced suboptimal parameters.

------------------------------------------------------------------------
r1051 | kruppa | 2007-10-30 17:52:30 +0100 (Tue, 30 Oct 2007) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Fixes bug in parameter selection, loop condition was wrong

------------------------------------------------------------------------
r1050 | kruppa | 2007-10-30 00:15:24 +0100 (Tue, 30 Oct 2007) | 2 lines
Changed paths:
   M /trunk/mpzspv.c
   M /trunk/pm1fs2.c

Cleanups. Convert from NTT in MPZSPV_NORMALISE_STRIDE blocks.

------------------------------------------------------------------------
r1049 | kruppa | 2007-10-29 16:54:27 +0100 (Mon, 29 Oct 2007) | 2 lines
Changed paths:
   M /trunk/mpzspv.c
   M /trunk/pm1fs2.c

Fixes bug where negative value in mpz_t was passed to mpzspv_to_ntt().

------------------------------------------------------------------------
r1048 | kruppa | 2007-10-29 15:11:28 +0100 (Mon, 29 Oct 2007) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/pm1.c
   M /trunk/pm1fs2.c

Restored non-NTT P-1 stage 2. Small cleanups.

------------------------------------------------------------------------
r1047 | zimmerma | 2007-10-29 14:22:00 +0100 (Mon, 29 Oct 2007) | 2 lines
Changed paths:
   M /trunk/main.c

updated champion size for P-1

------------------------------------------------------------------------
r1046 | kruppa | 2007-10-27 18:42:22 +0200 (Sat, 27 Oct 2007) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/mpzspv.c
   M /trunk/pm1fs2.c
   M /trunk/pp1.c
   M /trunk/sp.h

Added NTT variant of new P+1 stage 2

------------------------------------------------------------------------
r1045 | kruppa | 2007-10-27 18:37:50 +0200 (Sat, 27 Oct 2007) | 2 lines
Changed paths:
   A /trunk/makesmooth.gp

PARI script for generating test numbers for P-1 and P+1

------------------------------------------------------------------------
r1044 | kruppa | 2007-10-24 18:22:57 +0200 (Wed, 24 Oct 2007) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Reduced temp memory use in list_mul_symmetric()

------------------------------------------------------------------------
r1043 | kruppa | 2007-10-23 15:52:20 +0200 (Tue, 23 Oct 2007) | 3 lines
Changed paths:
   M /trunk/pm1.c
   M /trunk/pm1fs2.c
   M /trunk/pp1.c

In new P-1 stage 2, only the lmax/2+1 distinct coefficients of the NTT 
of h are stored now.

------------------------------------------------------------------------
r1042 | kruppa | 2007-10-22 17:42:21 +0200 (Mon, 22 Oct 2007) | 2 lines
Changed paths:
   M /trunk/mpzspm.c
   M /trunk/pm1fs2.c

Small fix and cleanup of pm1_sequence_[gh].

------------------------------------------------------------------------
r1041 | kruppa | 2007-10-22 05:00:35 +0200 (Mon, 22 Oct 2007) | 3 lines
Changed paths:
   M /trunk/mpzspv.c
   M /trunk/pm1fs2.c
   M /trunk/sp.c
   M /trunk/sp.h
   M /trunk/spv.c

New P-1 stage 2 changed to use NTT for convolution product.
Beware: there is a bug, sometimes misses factors. To be fixed.

------------------------------------------------------------------------
r1040 | kruppa | 2007-10-19 17:25:10 +0200 (Fri, 19 Oct 2007) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Rewrite of pp1_sequence_g() to use only 5 multiplications per g_i

------------------------------------------------------------------------
r1039 | kruppa | 2007-10-18 15:04:15 +0200 (Thu, 18 Oct 2007) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/pm1.c
   M /trunk/pm1fs2.c
   M /trunk/pp1.c

Take -k parameter into account when choosing parameters for new stage 2

------------------------------------------------------------------------
r1038 | kruppa | 2007-10-18 15:02:05 +0200 (Thu, 18 Oct 2007) | 2 lines
Changed paths:
   M /trunk/main.c

Print hostname of machine it's running on in verbose mode

------------------------------------------------------------------------
r1037 | kruppa | 2007-10-17 02:13:16 +0200 (Wed, 17 Oct 2007) | 3 lines
Changed paths:
   M /trunk/pm1fs2.c

Function for exponentiating in extension ring can take mpz_t now, fixes an 
unsigned long overflow

------------------------------------------------------------------------
r1036 | kruppa | 2007-10-16 16:02:30 +0200 (Tue, 16 Oct 2007) | 4 lines
Changed paths:
   M /trunk/pm1.c
   M /trunk/pm1fs2.c

P+1 does gcd on first coordinate in extension ring of product polynomial now,
this fixes the problem with getting 0 in the second coordinate in the last 
point of evaluation and when m_1 is negative.

------------------------------------------------------------------------
r1035 | zimmerma | 2007-10-13 20:08:15 +0200 (Sat, 13 Oct 2007) | 3 lines
Changed paths:
   M /trunk/eval.c

got rid of quadratic memory reallocation in main eval routine
(thanks to Alban Nonymous)

------------------------------------------------------------------------
r1034 | zimmerma | 2007-10-11 22:26:05 +0200 (Thu, 11 Oct 2007) | 2 lines
Changed paths:
   M /trunk/auxi.c

fixed copyright line

------------------------------------------------------------------------
r1033 | zimmerma | 2007-10-11 22:15:09 +0200 (Thu, 11 Oct 2007) | 2 lines
Changed paths:
   M /trunk/auxi.c

fixed efficiency issue in nb_digits: cost was O(n^2) for n-digit input

------------------------------------------------------------------------
r1032 | kruppa | 2007-10-10 13:58:51 +0200 (Wed, 10 Oct 2007) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Sped up computation of g_i sequence for P-1

------------------------------------------------------------------------
r1031 | kruppa | 2007-10-09 17:39:27 +0200 (Tue, 09 Oct 2007) | 4 lines
Changed paths:
   M /trunk/ks-multiply.c

Changed max(deg(A)+1, deg(B)+1) to min(...) in estimate of product coeff size.
Added code to print message if resulting FFT size differs, currently disabled
(enable by #define-ing TEST_OLD_S)

------------------------------------------------------------------------
r1030 | kruppa | 2007-10-09 12:02:13 +0200 (Tue, 09 Oct 2007) | 4 lines
Changed paths:
   M /trunk/pm1fs2.c

Sped up finding parameters for large lmax and small s_1. Timing output 
for h_i and g_i sequences.


------------------------------------------------------------------------
r1029 | zimmerma | 2007-10-06 18:13:47 +0200 (Sat, 06 Oct 2007) | 2 lines
Changed paths:
   M /trunk/mpmod.c

fixed typos in comments

------------------------------------------------------------------------
r1028 | kruppa | 2007-10-06 15:17:58 +0200 (Sat, 06 Oct 2007) | 2 lines
Changed paths:
   M /trunk/mpmod.c

mpres_mul_z_to_z() now always produces non-negative, fully reduced result

------------------------------------------------------------------------
r1027 | kruppa | 2007-10-06 15:17:17 +0200 (Sat, 06 Oct 2007) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

P+1 fast stage 2 aborts if m_1 < 0 until bug is fixed

------------------------------------------------------------------------
r1026 | kruppa | 2007-10-06 14:44:11 +0200 (Sat, 06 Oct 2007) | 2 lines
Changed paths:
   M /trunk/pp1.c

Print parameters correctly for new stage 2

------------------------------------------------------------------------
r1025 | kruppa | 2007-10-05 21:29:18 +0200 (Fri, 05 Oct 2007) | 3 lines
Changed paths:
   M /trunk/pm1fs2.c

Fixed last step in P+1 stage 2 (accumulating product) which always has 0
in last term, causing N to be found as factor. TODO: find out why

------------------------------------------------------------------------
r1024 | kruppa | 2007-10-05 21:08:06 +0200 (Fri, 05 Oct 2007) | 3 lines
Changed paths:
   M /trunk/test.pp1

Fixed test where 3^2-4 was a QR so P+1 really did P-1 (which just happened  
to work as well with the old code). Uses x0=6 now.

------------------------------------------------------------------------
r1023 | kruppa | 2007-10-05 19:32:33 +0200 (Fri, 05 Oct 2007) | 2 lines
Changed paths:
   M /trunk/pp1.c

Changed lmax to 2^20.

------------------------------------------------------------------------
r1022 | kruppa | 2007-10-05 17:56:05 +0200 (Fri, 05 Oct 2007) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c
   M /trunk/pp1.c

Fast P+1 stage 2 stared working. More testing and optimization needed.

------------------------------------------------------------------------
r1021 | kruppa | 2007-10-04 17:54:53 +0200 (Thu, 04 Oct 2007) | 3 lines
Changed paths:
   M /trunk/pm1.c
   M /trunk/pm1fs2.c
   M /trunk/pp1.c

Generating sequences g and h for P+1 (hopefully) works now. Not well 
optimized yet.

------------------------------------------------------------------------
r1020 | kruppa | 2007-09-27 18:35:11 +0200 (Thu, 27 Sep 2007) | 3 lines
Changed paths:
   M /trunk/pm1fs2.c

Fixed bug in maxS(). Fixed bugs in gfp_ext_rn2(). Extended table of P values.
Started pp1fs2() function for P+1 stage 2.

------------------------------------------------------------------------
r1019 | kruppa | 2007-09-25 16:15:26 +0200 (Tue, 25 Sep 2007) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/pm1.c
   M /trunk/pm1fs2.c

Choose and print parameters for new P-1 stage 2 at start of pm1().

------------------------------------------------------------------------
r1018 | kruppa | 2007-09-25 16:07:47 +0200 (Tue, 25 Sep 2007) | 2 lines
Changed paths:
   M /trunk/mpmod.c

Moved MPZ_REALLOC from ecm_mulredc_basecase to mpres_mul* functions

------------------------------------------------------------------------
r1017 | kruppa | 2007-09-25 14:53:20 +0200 (Tue, 25 Sep 2007) | 3 lines
Changed paths:
   M /trunk/mpmod.c

Made ecm_mulredc_basecase() reallocate space in R instead of failing
an assertion

------------------------------------------------------------------------
r1016 | kruppa | 2007-09-24 14:53:34 +0200 (Mon, 24 Sep 2007) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Fixed bug in computing max(S_1 + S_2) during parameter selection.

------------------------------------------------------------------------
r1015 | kruppa | 2007-09-23 22:33:13 +0200 (Sun, 23 Sep 2007) | 2 lines
Changed paths:
   M /trunk/auxlib.c
   M /trunk/ecm-impl.h
   M /trunk/ecm_ntt.c
   M /trunk/listz.c
   M /trunk/mpmod.c
   M /trunk/pm1.c
   M /trunk/pm1fs2.c
   M /trunk/polyeval.c

Fast P-1 stage 2 now uses parameterization as in the paper.

------------------------------------------------------------------------
r1014 | zimmerma | 2007-09-14 08:48:50 +0200 (Fri, 14 Sep 2007) | 5 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/Makefile.am
   M /trunk/README.dev
   M /trunk/configure.in

ChangeLog: added changes since release 6.1 that were missing
README.dev: added hint about man page
Makefile.am: ensure that ecm.1 is in the tarball
configure.in: fixed warning from autoconf

------------------------------------------------------------------------
r1013 | kruppa | 2007-09-10 14:15:00 +0200 (Mon, 10 Sep 2007) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Added code for computing r^(n^2) over quadratic extension ring

------------------------------------------------------------------------
r1012 | kruppa | 2007-09-10 14:13:47 +0200 (Mon, 10 Sep 2007) | 2 lines
Changed paths:
   M /trunk/NEWS

Changes for 6.1.2 and 6.1.3

------------------------------------------------------------------------
r1011 | zimmerma | 2007-09-10 09:16:45 +0200 (Mon, 10 Sep 2007) | 3 lines
Changed paths:
   M /trunk/mpmod.c
   M /trunk/pm1fs2.c

mpmod.c: patch from Alex (wrong initialization in mpmod_init_MPZ)
pm1fs2.c: default is now method=1 instead of method=0

------------------------------------------------------------------------
r1010 | zimmerma | 2007-09-07 17:05:31 +0200 (Fri, 07 Sep 2007) | 2 lines
Changed paths:
   M /trunk/mpmod.c

use Mulder's algorithm (ecm_redc_n) in REDC only when xn=2n

------------------------------------------------------------------------
r1009 | zimmerma | 2007-09-07 16:44:56 +0200 (Fri, 07 Sep 2007) | 2 lines
Changed paths:
   M /trunk/TODO

added analysis of slowdown reported by Ch. Clavier

------------------------------------------------------------------------
r1008 | zimmerma | 2007-09-07 16:42:20 +0200 (Fri, 07 Sep 2007) | 4 lines
Changed paths:
   M /trunk/mpmod.c

modified ecm_redc_n to allow xn = 2n-1 too (happens often when the high limb
of the modulus has few bits); unfortunately for large inputs (e.g. the c58672
in TODO) this seems to be slower than the else-branch in REDC

------------------------------------------------------------------------
r1007 | zimmerma | 2007-09-07 14:24:17 +0200 (Fri, 07 Sep 2007) | 3 lines
Changed paths:
   M /trunk/configure.in

changed version number of development version to 6.2
(6.1.1 was already an existing release)

------------------------------------------------------------------------
r1006 | zimmerma | 2007-09-07 14:15:55 +0200 (Fri, 07 Sep 2007) | 2 lines
Changed paths:
   M /trunk/ecm-gmp.h

fixed incorrect comment

------------------------------------------------------------------------
r1005 | zimmerma | 2007-09-07 14:10:00 +0200 (Fri, 07 Sep 2007) | 3 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/ecm-gmp.h

INSTALL: updated GMP web page and version
ecm-gmp.h: mpn_mul_fft now returns int (>= GMP 4.2.1)

------------------------------------------------------------------------
r1004 | kruppa | 2007-09-04 16:44:51 +0200 (Tue, 04 Sep 2007) | 2 lines
Changed paths:
   M /trunk/mpmod.c

Corrected bugfix for using mpn_mul_fft().

------------------------------------------------------------------------
r1003 | kruppa | 2007-09-03 12:22:00 +0200 (Mon, 03 Sep 2007) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Fixed some compiler warnings about unused variables and functions.

------------------------------------------------------------------------
r1002 | kruppa | 2007-08-31 19:35:28 +0200 (Fri, 31 Aug 2007) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/mpmod.c

Marked input arguments of funcions "const".

------------------------------------------------------------------------
r1001 | kruppa | 2007-08-31 19:34:40 +0200 (Fri, 31 Aug 2007) | 2 lines
Changed paths:
   M /trunk/ecm_ntt.c

Fixed warning the right way this time

------------------------------------------------------------------------
r1000 | kruppa | 2007-08-31 19:33:54 +0200 (Fri, 31 Aug 2007) | 2 lines
Changed paths:
   M /trunk/ecm.c

Made return values use the FACTOR_FOUND defines

------------------------------------------------------------------------
r999 | kruppa | 2007-08-30 22:34:36 +0200 (Thu, 30 Aug 2007) | 2 lines
Changed paths:
   M /trunk/ecm_ntt.c

Circumvent compiler warnings

------------------------------------------------------------------------
r998 | kruppa | 2007-08-30 16:42:49 +0200 (Thu, 30 Aug 2007) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/mpmod.c
   M /trunk/pm1fs2.c
   M /trunk/test.pm1

Some code rearrangements in preparation for fast P+1 stage 2

------------------------------------------------------------------------
r997 | zimmerma | 2007-08-29 16:46:17 +0200 (Wed, 29 Aug 2007) | 3 lines
Changed paths:
   M /trunk/TODO
   M /trunk/ecm2.c
   M /trunk/sp.h
   M /trunk/tune.c

TODO: added item (efficiency regression)
tune.c, ecm2.c, sp.h: fixed compiler warnings with -W -Wall

------------------------------------------------------------------------
r996 | kruppa | 2007-08-24 15:48:33 +0200 (Fri, 24 Aug 2007) | 3 lines
Changed paths:
   M /trunk/pm1.c

Fixes bug reported by P.L.Montgomery: B1 was converted from double to 
unsigned long before assigning it to B2min, causing truncation.

------------------------------------------------------------------------
r995 | zimmerma | 2007-08-01 17:57:38 +0200 (Wed, 01 Aug 2007) | 2 lines
Changed paths:
   M /trunk/TODO

updated reference

------------------------------------------------------------------------
r994 | zimmerma | 2007-07-31 13:52:59 +0200 (Tue, 31 Jul 2007) | 2 lines
Changed paths:
   M /trunk/TODO

added pointer to new algorithm

------------------------------------------------------------------------
r993 | zimmerma | 2007-07-22 13:24:41 +0200 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   M /trunk/ecm.h

applied patch from Emmanuel Thome to use the library mode from a C++ program

------------------------------------------------------------------------
r992 | zimmerma | 2007-07-15 10:22:57 +0200 (Sun, 15 Jul 2007) | 2 lines
Changed paths:
   M /trunk/main.c

updated P-1 champion size

------------------------------------------------------------------------
r991 | kruppa | 2007-06-18 13:01:29 +0200 (Mon, 18 Jun 2007) | 2 lines
Changed paths:
   M /trunk/stage2.c

Fixes incorrect memory estimate for stage 2

------------------------------------------------------------------------
r990 | zimmerma | 2007-06-16 21:19:05 +0200 (Sat, 16 Jun 2007) | 2 lines
Changed paths:
   M /trunk/main.c

fixed bug #3448: better check for invalid B2

------------------------------------------------------------------------
r989 | zimmerma | 2007-06-05 18:33:29 +0200 (Tue, 05 Jun 2007) | 2 lines
Changed paths:
   M /trunk/eval.c

fixed bug #3363 (Expression parser needs to check for remainder in division)

------------------------------------------------------------------------
r988 | kruppa | 2007-04-22 17:06:41 +0200 (Sun, 22 Apr 2007) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/mpmod.c
   M /trunk/pm1fs2.c

Speedups and cleanups for fast stage 2 code.

------------------------------------------------------------------------
r987 | kruppa | 2007-04-22 17:05:54 +0200 (Sun, 22 Apr 2007) | 3 lines
Changed paths:
   M /trunk/median.c

Removed unneccesary recursive calls in TToomCookMul_space() which could 
inflate run-time considerably for degenerate cases.

------------------------------------------------------------------------
r986 | kruppa | 2007-04-22 17:04:23 +0200 (Sun, 22 Apr 2007) | 2 lines
Changed paths:
   M /trunk/ks-multiply.c

Added ASSERTS to check that input coefficients are non-negative.

------------------------------------------------------------------------
r985 | kruppa | 2007-04-16 12:57:28 +0200 (Mon, 16 Apr 2007) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/pm1fs2.c

Building symmetric polynomial as in draft 8.1 implemented. Some clean up 
work left to be done yet. Added Makefile target for pm1fs2 test drive binary.

------------------------------------------------------------------------
r984 | kruppa | 2007-03-30 14:43:19 +0200 (Fri, 30 Mar 2007) | 2 lines
Changed paths:
   M /trunk/techdocs/buildpoly.tex

Fixes. Added case p^k | n, i.e. n not squarefree.

------------------------------------------------------------------------
r983 | kruppa | 2007-03-28 19:05:08 +0200 (Wed, 28 Mar 2007) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/auxlib.c
   M /trunk/ecm-impl.h
   M /trunk/main.c
   M /trunk/mpmod.c
   M /trunk/pm1.c
   M /trunk/pm1fs2.c

Implemented building F from arithmetic progressions of prime length.

------------------------------------------------------------------------
r982 | kruppa | 2007-03-19 18:25:05 +0100 (Mon, 19 Mar 2007) | 3 lines
Changed paths:
   M /trunk/techdocs/buildpoly.tex
   M /trunk/techdocs/convolv.tex

More details on sets of coprime residues in buildpoly.tex.
Small corrections and additions in convolv.tex.

------------------------------------------------------------------------
r981 | zimmerma | 2007-03-19 08:23:00 +0100 (Mon, 19 Mar 2007) | 2 lines
Changed paths:
   M /trunk/main.c

updated champion sizes

------------------------------------------------------------------------
r980 | kruppa | 2007-03-16 15:28:44 +0100 (Fri, 16 Mar 2007) | 2 lines
Changed paths:
   M /trunk/techdocs/buildpoly.tex

Small corrections, additions

------------------------------------------------------------------------
r979 | kruppa | 2007-03-15 21:06:05 +0100 (Thu, 15 Mar 2007) | 2 lines
Changed paths:
   A /trunk/techdocs/buildpoly.tex

A note on Montgomery's idea for fast building F from its roots

------------------------------------------------------------------------
r978 | kruppa | 2007-03-12 18:35:54 +0100 (Mon, 12 Mar 2007) | 2 lines
Changed paths:
   M /trunk/techdocs/schoen_strass.tex

Small fixes.

------------------------------------------------------------------------
r977 | kruppa | 2007-03-07 23:36:31 +0100 (Wed, 07 Mar 2007) | 2 lines
Changed paths:
   M /trunk/pm1.c

Removed duplicated "special division for 2^n+-1" message in P-1.

------------------------------------------------------------------------
r976 | zimmerma | 2007-03-07 18:56:25 +0100 (Wed, 07 Mar 2007) | 2 lines
Changed paths:
   M /trunk/pm1fs2.c

Output "Step 2 took ..." in normal mode (as in stage2.c)

------------------------------------------------------------------------
r975 | kruppa | 2007-03-07 10:41:57 +0100 (Wed, 07 Mar 2007) | 3 lines
Changed paths:
   M /trunk/pm1fs2.c

Print total stage 2 time. Fix memory allocation bug when modulus->bits < 0,
i.e. for 2^n-1 numbers.

------------------------------------------------------------------------
r974 | kruppa | 2007-03-06 11:25:22 +0100 (Tue, 06 Mar 2007) | 2 lines
Changed paths:
   M /trunk/schoen_strass.c

Make transposed Karatsuba return the number of multiplications used

------------------------------------------------------------------------
r973 | kruppa | 2007-03-06 10:43:51 +0100 (Tue, 06 Mar 2007) | 2 lines
Changed paths:
   A /trunk/techdocs
   A /trunk/techdocs/convolv.tex
   A /trunk/techdocs/curve_convert.tex
   A /trunk/techdocs/schoen_strass.tex

Notes on some of the math and algoritms used in GMP-ECM

------------------------------------------------------------------------
r972 | kruppa | 2007-03-05 18:37:11 +0100 (Mon, 05 Mar 2007) | 2 lines
Changed paths:
   M /trunk/bestd.c
   M /trunk/ecm-impl.h
   M /trunk/ecm.c
   M /trunk/mpmod.c
   M /trunk/pm1.c
   M /trunk/pm1fs2.c
   M /trunk/pp1.c

Debugging and speedups for Fast P-1 stage 2

------------------------------------------------------------------------
r971 | kruppa | 2007-03-05 18:35:38 +0100 (Mon, 05 Mar 2007) | 2 lines
Changed paths:
   M /trunk/schoen_strass.c

Debugging for lenA == lenB/2+1 case

------------------------------------------------------------------------
r970 | kruppa | 2007-03-05 18:33:07 +0100 (Mon, 05 Mar 2007) | 2 lines
Changed paths:
   M /trunk/median.c

Added some ASSERT()s

------------------------------------------------------------------------
r969 | kruppa | 2007-03-05 18:31:58 +0100 (Mon, 05 Mar 2007) | 2 lines
Changed paths:
   M /trunk/listz.c

Added/corrected some ASSERT()s

------------------------------------------------------------------------
r968 | kruppa | 2007-02-26 11:21:33 +0100 (Mon, 26 Feb 2007) | 2 lines
Changed paths:
   M /trunk/x86_64/mulredc2.asm

Reverting this file to revision 908

------------------------------------------------------------------------
r967 | kruppa | 2007-02-26 03:08:58 +0100 (Mon, 26 Feb 2007) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/ecm-impl.h
   M /trunk/ecm_ntt.c
   M /trunk/listz.c
   M /trunk/main.c
   M /trunk/median.c
   M /trunk/mpmod.c
   M /trunk/pm1.c
   A /trunk/pm1fs2.c
   M /trunk/schoen_strass.c
   M /trunk/stage2.c
   M /trunk/x86_64/bench.c
   M /trunk/x86_64/mulredc1.asm
   M /trunk/x86_64/mulredc2.asm

Changes in preparation of a fast P-1 stage 2.
Crude and incomplete implementation of fast P-1 stage 2.

------------------------------------------------------------------------
r966 | zimmerma | 2007-02-15 22:48:33 +0100 (Thu, 15 Feb 2007) | 2 lines
Changed paths:
   M /trunk/ecm-params.h.core2

removed extra line break

------------------------------------------------------------------------
r965 | zimmerma | 2007-02-15 22:39:06 +0100 (Thu, 15 Feb 2007) | 2 lines
Changed paths:
   A /trunk/ecm-params.h.core2

tuned parameters contributed by tom@womack.net

------------------------------------------------------------------------
r964 | zimmerma | 2007-02-05 18:15:21 +0100 (Mon, 05 Feb 2007) | 2 lines
Changed paths:
   M /trunk/bestd.c

extended again the d-table with good phi(d)

------------------------------------------------------------------------
r963 | zimmerma | 2007-02-05 18:01:21 +0100 (Mon, 05 Feb 2007) | 2 lines
Changed paths:
   M /trunk/bestd.c

extended table for d values with good phi(d)

------------------------------------------------------------------------
r962 | kruppa | 2007-02-04 00:17:46 +0100 (Sun, 04 Feb 2007) | 2 lines
Changed paths:
   M /trunk/ecm.c

Print point and curve in Weierstrass form at beginning of stage 2 with -v -v

------------------------------------------------------------------------
r961 | zimmerma | 2007-01-02 16:58:44 +0100 (Tue, 02 Jan 2007) | 2 lines
Changed paths:
   A /trunk/c200

new test number (from 10^284+1)

------------------------------------------------------------------------
r960 | zimmerma | 2006-12-18 10:45:08 +0100 (Mon, 18 Dec 2006) | 2 lines
Changed paths:
   M /trunk/AUTHORS

added NTT contribution for Dave

------------------------------------------------------------------------
r959 | zimmerma | 2006-12-18 09:44:03 +0100 (Mon, 18 Dec 2006) | 2 lines
Changed paths:
   M /trunk/COPYING
   M /trunk/COPYING.LIB
   M /trunk/Fgw.c
   M /trunk/auxi.c
   M /trunk/auxlib.c
   M /trunk/b1_ainc.c
   M /trunk/bestd.c
   M /trunk/bestdaux.c
   M /trunk/candi.c
   M /trunk/config.guess
   M /trunk/config.sub
   M /trunk/configfsf.guess
   M /trunk/configfsf.sub
   M /trunk/countsmooth.c
   M /trunk/ecm-ecm.h
   M /trunk/ecm-gmp.h
   M /trunk/ecm-impl.h
   M /trunk/ecm.c
   M /trunk/ecm.h
   M /trunk/ecm2.c
   M /trunk/ecm_ntt.c
   M /trunk/ecmfactor.c
   M /trunk/eval.c
   M /trunk/factor.c
   M /trunk/getprime.c
   M /trunk/ks-multiply.c
   M /trunk/listz.c
   M /trunk/longlong.h
   M /trunk/lucas.c
   M /trunk/main.c
   M /trunk/median.c
   M /trunk/memory.c
   M /trunk/mpmod.c
   M /trunk/mpzspm.c
   M /trunk/mpzspv.c
   M /trunk/mul_lo.c
   M /trunk/ntt_gfp.c
   M /trunk/pm1.c
   M /trunk/polyeval.c
   M /trunk/pp1.c
   M /trunk/random.c
   M /trunk/resume.c
   M /trunk/rho.c
   M /trunk/runecm2.c
   M /trunk/schoen_strass.c
   M /trunk/sp.c
   M /trunk/sp.h
   M /trunk/spm.c
   M /trunk/spv.c
   M /trunk/stage2.c
   M /trunk/test.ecm
   M /trunk/test.pm1
   M /trunk/test.pp1
   M /trunk/toomcook.c
   M /trunk/trial.c
   M /trunk/tune.c

changed address of FSF to new one

------------------------------------------------------------------------
r958 | zimmerma | 2006-12-12 13:32:34 +0100 (Tue, 12 Dec 2006) | 4 lines
Changed paths:
   M /trunk/mpmod.c

moved "using special division" from mpmod_init to mpmod_init_base2
(the latter is called directly from ecm.c, thus the message was not
displayed, as noticed by Peter Montgomery)

------------------------------------------------------------------------
r957 | kruppa | 2006-10-10 12:45:57 +0200 (Tue, 10 Oct 2006) | 2 lines
Changed paths:
   M /trunk/trial.c

Avoid infinite loop in trial division with zero as input number.

------------------------------------------------------------------------
r956 | zimmerma | 2006-10-05 09:18:21 +0200 (Thu, 05 Oct 2006) | 2 lines
Changed paths:
   M /trunk/INSTALL

added hint about -max_log2_len option for tune

------------------------------------------------------------------------
r955 | zimmerma | 2006-10-05 09:14:30 +0200 (Thu, 05 Oct 2006) | 3 lines
Changed paths:
   M /trunk/tune.c

max_log2_len is now a command-line parameter in tune.c
(suggestion from Thomas M.Ott)

------------------------------------------------------------------------
r954 | kruppa | 2006-08-22 12:34:55 +0200 (Tue, 22 Aug 2006) | 3 lines
Changed paths:
   M /trunk/ecm-ecm.h
   M /trunk/main.c

Print first and last ten digits of numbers >1000 digits. 
Small cleanup in ecm-ecm.h (duplicated #define's).

------------------------------------------------------------------------
r953 | kruppa | 2006-08-06 14:46:56 +0200 (Sun, 06 Aug 2006) | 2 lines
Changed paths:
   M /trunk/TODO

Added several ideas

------------------------------------------------------------------------
r952 | kruppa | 2006-08-05 08:56:44 +0200 (Sat, 05 Aug 2006) | 2 lines
Changed paths:
   M /trunk/auxlib.c
   M /trunk/ecm-impl.h

More cleanups of -chkpnt code

------------------------------------------------------------------------
r951 | kruppa | 2006-08-04 17:16:17 +0200 (Fri, 04 Aug 2006) | 4 lines
Changed paths:
   M /trunk/auxlib.c
   M /trunk/ecm-impl.h
   M /trunk/stage2.c

Fixed stupid segfault in chkpnt code. Changed checkpoint interval to 10 min.
Fixed bug when cleaning up treefiles after receiving signal.


------------------------------------------------------------------------
r950 | kruppa | 2006-08-03 21:10:44 +0200 (Thu, 03 Aug 2006) | 3 lines
Changed paths:
   M /trunk/README
   M /trunk/auxlib.c
   M /trunk/ecm-impl.h
   M /trunk/ecm.1
   M /trunk/ecm.c
   M /trunk/ecm.h
   M /trunk/ecm.xml
   M /trunk/factor.c
   M /trunk/main.c
   M /trunk/pm1.c
   M /trunk/pp1.c
   M /trunk/resume.c
   M /trunk/stage2.c

By popular request: added option to write checkpoints periodically during
stage 1.

------------------------------------------------------------------------
r949 | kruppa | 2006-08-03 18:54:47 +0200 (Thu, 03 Aug 2006) | 2 lines
Changed paths:
   M /trunk/ecm-impl.h
   M /trunk/listz.c
   M /trunk/stage2.c

stage2.c did not #include config.h, so unistd.h was not included either.

------------------------------------------------------------------------
r948 | zimmerma | 2006-07-27 14:16:43 +0200 (Thu, 27 Jul 2006) | 2 lines
Changed paths:
   M /trunk/main.c

new size for P-1 champion

------------------------------------------------------------------------
r947 | zimmerma | 2006-07-25 14:10:22 +0200 (Tue, 25 Jul 2006) | 2 lines
Changed paths:
   M /trunk/sp.h

added copyright information

------------------------------------------------------------------------
r946 | zimmerma | 2006-07-25 13:29:42 +0200 (Tue, 25 Jul 2006) | 2 lines
Changed paths:
   M /trunk/ecm2.c
   M /trunk/main.c
   M /trunk/stage2.c

fixed some compiler warnings

------------------------------------------------------------------------
r945 | kruppa | 2006-07-25 12:09:07 +0200 (Tue, 25 Jul 2006) | 4 lines
Changed paths:
   M /trunk/stage2.c

Following a comment of P.L.Montgomery, added message when computing product 
of the F(g_i) at end of stage 2 to avoid unexplained delay for large input 
numbers.

------------------------------------------------------------------------
r944 | lfousse | 2006-07-19 22:30:59 +0200 (Wed, 19 Jul 2006) | 2 lines
Changed paths:
   M /trunk/stage2.c

Include header for `unlink' in stage2.c.

------------------------------------------------------------------------
r943 | zimmerma | 2006-07-17 10:10:51 +0200 (Mon, 17 Jul 2006) | 2 lines
Changed paths:
   M /trunk/main.c

new size for P+1 champion

------------------------------------------------------------------------
r942 | zimmerma | 2006-07-07 10:59:37 +0200 (Fri, 07 Jul 2006) | 2 lines
Changed paths:
   M /trunk/factor.c

stage1time and use_ntt were not initialized in ecm_init()

------------------------------------------------------------------------
r941 | zimmerma | 2006-05-30 08:56:15 +0200 (Tue, 30 May 2006) | 2 lines
Changed paths:
   M /trunk/main.c

changed mininum size of ecm champions

------------------------------------------------------------------------
r940 | lfousse | 2006-05-24 13:28:47 +0200 (Wed, 24 May 2006) | 2 lines
Changed paths:
   M /trunk/runecm2.c

Use a *real* dummy domain instead of an existing one for the example email.

------------------------------------------------------------------------
r939 | zimmerma | 2006-05-13 08:19:37 +0200 (Sat, 13 May 2006) | 2 lines
Changed paths:
   M /trunk/runecm2.c

changed email

------------------------------------------------------------------------
r938 | zimmerma | 2006-05-05 17:20:28 +0200 (Fri, 05 May 2006) | 2 lines
Changed paths:
   M /trunk/configure.in

fixed calls to AC_ARG_ENABLE()

------------------------------------------------------------------------
r937 | lfousse | 2006-05-05 17:08:43 +0200 (Fri, 05 May 2006) | 2 lines
Changed paths:
   M /trunk/configure.in

Use proper invocation of AC_ARG_ENABLE for asm-redc.

------------------------------------------------------------------------
r936 | zimmerma | 2006-05-05 17:05:37 +0200 (Fri, 05 May 2006) | 2 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/ecm.1
   M /trunk/ecm.xml

changed mailing-list address

------------------------------------------------------------------------
r935 | gaudry | 2006-05-05 16:34:32 +0200 (Fri, 05 May 2006) | 1 line
Changed paths:
   M /trunk/configure.in

fixed error message for --enable-asm-redc
------------------------------------------------------------------------
r934 | lfousse | 2006-05-05 16:01:31 +0200 (Fri, 05 May 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   A /trunk/athlon/Makefile.am
   M /trunk/configure.in
   A /trunk/pentium4/Makefile.am
   A /trunk/x86_64/Makefile.am

Use automake's DIST_DIRS feature for a cleaner `dist' target.

------------------------------------------------------------------------
r933 | lfousse | 2006-05-05 15:49:15 +0200 (Fri, 05 May 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.am

redc assembly files in toplevel dir are symlinks and should not be part of `dist'.

------------------------------------------------------------------------
r932 | zimmerma | 2006-05-03 12:08:07 +0200 (Wed, 03 May 2006) | 2 lines
Changed paths:
   M /trunk/INSTALL

added url of mailing-list archive

------------------------------------------------------------------------
r931 | zimmerma | 2006-05-03 09:36:15 +0200 (Wed, 03 May 2006) | 2 lines
Changed paths:
   M /trunk/Fgw.c
   M /trunk/configure.in
   M /trunk/mpzspv.c

get rid of valloc

------------------------------------------------------------------------
r930 | zimmerma | 2006-05-02 17:50:04 +0200 (Tue, 02 May 2006) | 2 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/INSTALL
   M /trunk/Makefile.am
   M /trunk/README.dev
   M /trunk/configure.in

fixed stupid removal in Makefile.am, prepared for release 6.1.1

------------------------------------------------------------------------
r928 | zimmerma | 2006-05-01 22:51:53 +0200 (Mon, 01 May 2006) | 2 lines
Changed paths:
   M /trunk/ChangeLog

added 'tag' for release 6.1 in ChangeLog

Mon May 01 2006 22:49:07 zimmerma -- r927
	Released version 6.1.

Mon May 01 2006 13:01:15 kruppa -- r923
	* trunk/Fgw.c, trunk/main.c, trunk/ecm2.c: modified
	Small cleanups. Added exit code 143 when exiting due to signal.

Sun Apr 02 2006 18:38:08 zimmerma -- r922
	* trunk/INSTALL: modified
	updated to gmp-4.2 and ecm-6.1

Fri Mar 31 2006 13:36:34 zimmerma -- r921
	* trunk/TODO: modified
	added item

Wed Mar 22 2006 11:46:18 gaudry -- r920
	* trunk/configure.in: modified
	When asm-redc is enabled, check whether the computer is not too hold,
	because the default asm code needs at least a PPro or a k7.

Fri Mar 17 2006 15:31:58 zimmerma -- r919
	* trunk/TODO, trunk/configure.in, trunk/Makefile.am: modified
	added missing sources in Makefile.am
	added suggestion from James Wanless

Fri Mar 17 2006 14:18:39 zimmerma -- r918
	* trunk/README.dev: modified
	updated ChangeLog instructions

Fri Mar 17 2006 13:55:41 zimmerma -- r917
	* trunk/ecm.1, trunk/ecm.xml, trunk/AUTHORS, trunk/TODO,
	  trunk/configure.in, trunk/ChangeLog, trunk/README.dev, trunk/NEWS:
	  modified
	updated NEWS/ChangeLog for 6.0.1 release

Fri Mar 17 2006 08:51:14 zimmerma -- r916
	* trunk/pm1.c, trunk/pp1.c, trunk/ecm.c, trunk/ecm-impl.h: modified
	default B2 is less aggressive (exponent 1.43 instead of 1.5)
	put exponent and costs as macros in ecm-impl.h

Tue Mar 14 2006 15:45:26 zimmerma -- r915
	* trunk/mpmod.c, trunk/test.ecm: modified
	fixed bug reported by Allan Steel

Fri Mar 10 2006 15:42:07 zimmerma -- r914
	* trunk/test.pp1: modified
	fixed new test to work on 32-bit machine too

Fri Mar 10 2006 15:11:54 zimmerma -- r913
	* trunk/test.pp1: modified
	added test case for P+1 bug

Fri Mar 10 2006 14:45:29 zimmerma -- r912
	* trunk/TODO: modified
	added workaround

Fri Mar 10 2006 14:11:26 zimmerma -- r911
	* trunk/TODO: modified
	added suggestion from Bernstein

Tue Mar 07 2006 16:15:54 zimmerma -- r910
	* trunk/lucas.c: modified
	fixed overflow bug in P+1 (unsigned int -> unsigned long)
	P+1 was probably not working for B1>2^32 on 64-bit machines

Tue Mar 07 2006 15:59:57 zimmerma -- r909
	* trunk/README: modified
	changed s into x0

Mon Mar 06 2006 13:49:35 gaudry -- r908
	* (MANY FILES) : added
	* trunk/redc.asm: deleted
	* trunk/mpmod.c, trunk/ecm.c, trunk/configure.in, trunk/Makefile.am:
	  modified
	Redc and combined Mul/Redc in asm for different archi (p4, athlon,
	amd64)
	Configure.in and Makefile.am modified accordingly.

Wed Feb 22 2006 15:58:39 zimmerma -- r907
	* trunk/mpmod.c, trunk/schoen_strass.c, trunk/Fgw.c: modified
	added warnings for uses of _mpz_realloc

Wed Feb 22 2006 15:05:45 zimmerma -- r906
	* trunk/TODO: modified
	modified one bug item

Thu Feb 16 2006 13:40:16 gaudry -- r905
	* trunk/ecm2.c: modified
	Fixed some memory bugs in multiplyW2n(), that occured in -v -v and/or
	WANT_ASSERT mode, because it is called with NULL as first arguments.
	Fixed a double free of variables "coeffs" and a missing free for fd.

Wed Feb 15 2006 14:08:12 zimmerma -- r904
	* trunk/TODO, trunk/INSTALL: modified
	modified instructions for gwnum

Wed Feb 15 2006 13:50:49 zimmerma -- r903
	* trunk/TODO, trunk/stage2.c: modified
	disable NTT for Fermat numbers

Tue Feb 14 2006 10:49:15 zimmerma -- r902
	* trunk/TODO: modified
	added more examples of problems with Fermat numbers

Mon Feb 13 2006 13:06:33 zimmerma -- r901
	* trunk/TODO: modified
	added item

Thu Jan 19 2006 17:40:59 zimmerma -- r900
	* trunk/TODO: modified
	added item in TODO

Mon Jan 16 2006 21:47:11 zimmerma -- r899
	* trunk/ecm.c, trunk/lucas.c: modified
	improved to 17-digit values of decimal constants used in PRAC

Sun Jan 15 2006 21:31:16 kruppa -- r898
	* trunk/pm1.c, trunk/pp1.c, trunk/ecm.c, trunk/stage2.c, trunk/ecm-
	  impl.h: modified
	Added some stop_asap() checks to stage 2.

Sun Jan 15 2006 09:13:20 zimmerma -- r897
	* trunk/TODO: modified
	added item in TODO (CPUTIME)

Fri Jan 13 2006 21:22:14 kruppa -- r896
	* trunk/pm1.c, trunk/factor.c, trunk/pp1.c, trunk/ecm.c,
	  trunk/main.c, trunk/ecm-impl.h, trunk/ecm.h: modified
	Signal handling for P+1 added, save files contain correct B1done
	value.
	Stage 2 and cleanup TBD.

Thu Jan 12 2006 23:08:21 kruppa -- r895
	* trunk/pm1.c, trunk/factor.c, trunk/pp1.c, trunk/ecm.c,
	  trunk/main.c, trunk/configure.in, trunk/ecm.h: modified
	Add signal handler to exit gracefully. ECM and P-1 stage 1 mostly
	done, rest
	TBD.

Wed Dec 21 2005 08:36:30 kruppa -- r894
	* trunk/schoen_strass.c: modified
	Bugfix: static mpz_t gt might be used after being mpz_clear()'ed

Wed Dec 21 2005 00:38:10 kruppa -- r893
	* trunk/schoen_strass.c, trunk/stage2.c: modified
	Mem leak fix: clear static mpz_t in schoen_strass.c at end of stage 2.

Wed Dec 21 2005 00:31:33 kruppa -- r892
	* trunk/mpmod.c, trunk/test.ecm, trunk/listz.c, trunk/stage2.c,
	  trunk/ecm2.c, trunk/ecm-impl.h: modified
	Print stage 2 prime of group order if factor was found and -v -v.
	Needs more polishing and not tested as much as I'd like yet.

Sun Nov 13 2005 09:29:37 kruppa -- r891
	* trunk/README, trunk/ecm.1, trunk/ecm.xml, trunk/main.c: modified
	Added -idlecmd option to pause or quit GMP-ECM when system is busy

Sat Nov 12 2005 07:40:08 kruppa -- r890
	* trunk/ecm.c: modified
	Tests in stage 1 if point at infinity is reached and prints message in
	verbose mode. Nice for finding group order of curves.

Fri Nov 11 2005 07:18:51 zimmerma -- r889
	* trunk/main.c: modified
	changed champs information, and updated minimal digit size to get
	champions

Thu Oct 27 2005 11:11:19 zimmerma -- r888
	* trunk/ecm.1: modified
	file generated from ecm.xml, with empty lines manually removed in
	the last paragraph

Thu Oct 27 2005 11:01:53 zimmerma -- r887
	* trunk/ecm.xml: modified
	added line-breaks in AUTHORS section

Thu Oct 27 2005 07:54:42 zimmerma -- r886
	* trunk/README.dev: modified
	add hint for autoreconf

Wed Oct 26 2005 07:51:56 zimmerma -- r885
	* trunk/ecm-impl.h: modified
	patch for old gcc versions

Wed Oct 26 2005 07:01:04 zimmerma -- r884
	* trunk/TODO: modified
	added item

Mon Oct 24 2005 17:13:15 zimmerma -- r883
	* trunk/ecm.c: modified
	changed default B2 for ecm

Sat Oct 22 2005 15:45:43 zimmerma -- r882
	* trunk/AUTHORS: modified
	added pointer to gforge

Thu Sep 29 2005 19:26:35 zimmerma -- r881
	* trunk/runecm2.c: modified
	fixed potential buffer overrun

Thu Sep 29 2005 12:08:52 zimmerma -- r880
	* trunk/runecm2.c: added
	contribution from Torbjo"rn

Wed Sep 28 2005 13:30:51 kruppa -- r879
	* trunk/ecm.c: modified
	Added warning about prac() bug (calling add3() with identical
	points)

Sat Sep 10 2005 19:56:55 kruppa -- r878
	* trunk/README, trunk/main.c: modified
	Slight cleanup of shell command code, replaced "-prp*" section of
	README by shellcmd section.

Thu Sep 08 2005 19:51:02 kruppa -- r877
	* trunk/README, trunk/candi.c, trunk/main.c, trunk/TODO: modified
	Made -one work better when used with -resume

Tue Sep 06 2005 14:02:20 zimmerma -- r876
	* trunk/TODO: modified
	added item

Mon Sep 05 2005 12:09:53 zimmerma -- r875
	* trunk/Makefile.am: modified
	added missing entries for "make dist"

Thu Sep 01 2005 15:17:44 dnewman -- r874
	* trunk/stage2.c: modified
	Make memory_use take into account sp_F.

Thu Sep 01 2005 13:15:42 dnewman -- r873
	* trunk/stage2.c, trunk/ecm-impl.h, trunk/ecm_ntt.c, trunk/tune.c:
	  modified
	Precompute transform of F for use in ntt_PrerevertDivision.

Wed Aug 24 2005 13:55:52 zimmerma -- r872
	* trunk/check.mpl: modified
	added add3/duplicate code in Montgomery's coordinates

Sat Aug 20 2005 18:41:19 kruppa -- r871
	* trunk/TODO: modified
	Marked -stage1time done, removed shell commands entry (also done)

Sat Aug 20 2005 18:37:59 kruppa -- r870
	* trunk/Fgw.c, trunk/ecm.c: modified
	Assume ecm stage 1 always available in GWNUM library, pass error
	codes from gw_stage_1() back correctly

Sat Aug 20 2005 18:16:24 kruppa -- r869
	* trunk/test.ecm: modified
	Some more tests for base 2 numbers, for testing the GWNUM stage 1

Fri Aug 19 2005 21:00:35 kruppa -- r868
	* trunk/Makefile.am: modified
	Fixed filenames in EXTRA_DIST

Fri Aug 19 2005 14:23:03 dnewman -- r867
	* (MANY FILES) : modified
	Comprehensive header cleanup; in particular, headers now satisfy
	their dependencies on other headers. Moved the -n / -nn renicing code
	from main.c to macros NICE10 / NICE20 in ecm-ecm.h. Added the
	configure option --enable-memory-debug to conditionally compile
	memory.c. Fixed some printf format/argument mismatches in tune.c and
	memory.c. Added some info on NTT and tune to README and documented
	-no-ntt in ecm.xml.

Wed Aug 17 2005 22:47:58 dnewman -- r866
	* trunk/mpzspv.c, trunk/TODO, trunk/configure.in, trunk/mpzspm.c,
	  trunk/sp.h, trunk/spv.c, trunk/tune.c: modified
	Changed mpzspm_t to use spm's instead of __spm_struct's. Added code
	to use memmove in spv_set. Removed all bovine activity in configure.in.
	Minor update to TODO.

Wed Aug 17 2005 16:11:28 dnewman -- r865
	* trunk/schoen_strass.c, trunk/spv.c, trunk/ecm-gmp.h, trunk/tune.c:
	  modified
	Changed RNG in tune.c to avoid using get_random_ui() as on some
	platforms (MinGW) it's too slow to be called many times. Fixed
	declarations of __gmpn_add_nc and __gmpn_mod_34lsub1 which were
	causing segfaults under Cygwin.

Wed Aug 10 2005 12:22:34 dnewman -- r864
	* trunk/spm.c, trunk/sp.c, trunk/sp.h, trunk/tune.c: modified
	Fixed potential problem with spm_init's generation of primitive roots.

Tue Aug 09 2005 16:31:34 dnewman -- r863
	* trunk/tune.c: modified
	Changed GRANULARITY to 250ms for more precision. Added a '-v' cmdline
	option that prints every function evaluation to stderr; also added a
	TUNE_SLOW define to give possibly more consistent results.

Wed Aug 03 2005 20:45:24 dnewman -- r862
	* trunk/nbdigits.c: deleted
	* trunk/auxi.c: modified
	Rewrote nb_digits() to remove dependency on string.h and FREE(). 
	Deleted an empty file.

Wed Aug 03 2005 20:13:48 dnewman -- r861
	* trunk/redc.asm: added
	* trunk/redc.s: deleted
	* trunk/acinclude.m4, trunk/configure.in, trunk/Makefile.am: modified
	Imported some more routines from GMP's acinclude.m4 to fix problem
	with --enable-asm-redc under windows. Renamed redc.s back to redc.asm
	as it now goes through m4 before the assembler. Fixed a minor issue
	with architecture detection in configure.in.

Wed Aug 03 2005 09:14:19 dnewman -- r860
	* trunk/ecm-params.h.athlon, trunk/ecm-params.h.powerpc7450: added
	* trunk/ecm-params.h.athlonxp, trunk/ecm-params.h.power4: deleted
	* trunk/configure.in: modified
	Some tweaks to ecm-params detection.

Wed Aug 03 2005 08:42:27 dnewman -- r859
	* trunk/config.sub, trunk/configfsf.guess, trunk/config.guess,
	  trunk/configfsf.sub: added
	Added GMP's finer-grained CPU detection (useful for selecting the right
	ecm-params.h)

Tue Aug 02 2005 18:47:24 kruppa -- r858
	* trunk/ecm.1: added
	Adding man page ecm.1 to CVS (xsltproc/docbook not available
	everywhere)

Tue Aug 02 2005 17:46:09 dnewman -- r857
	* trunk/pm1.c, trunk/factor.c, trunk/pp1.c, trunk/bestd.c,
	  trunk/TODO, trunk/ecm.c, trunk/main.c, trunk/configure.in,
	  trunk/stage2.c, trunk/Makefile.am, trunk/ecm-impl.h, trunk/ecm.h,
	  trunk/tune.c: modified
	Removed the configure option --enable-ntt. Now ntt code is used by
	default but can be disabled with the command-line option -no-ntt.
	Lots of changes to function prototypes to accommodate this.

Tue Aug 02 2005 16:58:46 kruppa -- r856
	* trunk/test.pp1, trunk/test.ecm, trunk/test.pm1: modified
	Changed syntax of function to sh (Bourne shell) instead of bash

Tue Aug 02 2005 16:30:21 dnewman -- r855
	* trunk/getprime2.c, trunk/random2.c: deleted
	* trunk/test.pp1, trunk/random.c, trunk/test.ecm, trunk/Makefile.am,
	  trunk/test.pm1: modified
	Changed test script shell to /bin/sh as MinGW doesn't have bash.
	Makefile.am now replaces the getprime2.c and random2.c hacks. Fixed
	CryptGenRandom() in random.c (maybe) and cleaned up the #includes a
	bit.

Tue Aug 02 2005 15:14:30 kruppa -- r854
	* trunk/bestd.c, trunk/ks-multiply.c, trunk/tune.c, trunk/trial.c:
	  modified
	Fixed compiler warnings with gcc -Wall -W

Tue Aug 02 2005 10:06:02 kruppa -- r853
	* trunk/ecm.xml: modified
	Removed -prp* section, added shell commands section. Fixed exit
	code tables.

Mon Aug 01 2005 22:52:06 dnewman -- r852
	* trunk/main.c, trunk/trial.c: modified
	Cleanups to trial.c. Bugfix to probab_prime_p.

Mon Aug 01 2005 22:00:03 kruppa -- r851
	* trunk/smartprp.c: deleted
	* trunk/candi.c, trunk/main.c, trunk/configure.in, trunk/Makefile.am,
	  trunk/ecm-ecm.h: modified
	Removed -prp* options and smartprp.c, added -prpcmd option

Mon Aug 01 2005 20:13:11 kruppa -- r850
	* trunk/pm1.c, trunk/factor.c, trunk/pp1.c, trunk/random.c,
	  trunk/auxlib.c, trunk/main.c, trunk/ecm.c, trunk/stage2.c,
	  trunk/ecm2.c, trunk/ecm-impl.h, trunk/memory.c, trunk/ecm.h, trunk
	  /ks-multiply.c, trunk/tune.c: modified
	Added -stage1time option. All time-keeping variables are of type
	long now.

Mon Aug 01 2005 16:45:56 kruppa -- r849
	* trunk/mul_fft.c: deleted
	Not needed for GMP-ECM (part of GMP)

Sun Jul 31 2005 18:10:36 kruppa -- r848
	* trunk/mpmod.c, trunk/factor.c, trunk/bestd.c, trunk/auxlib.c,
	  trunk/TODO, trunk/main.c, trunk/ecm.c, trunk/listz.c,
	  trunk/stage2.c, trunk/ecm2.c: modified
	Allocate more memory to mpz_t's in stage 2 to avoid reallocs. More
	allocation locations tagged for mem leak/realloc debugging. Fixed
	segfault in stage 2 (if factor found in roots of F)

Sun Jul 31 2005 18:00:32 kruppa -- r847
	* trunk/memory.c: modified
	Prints peak memory allocation

Sat Jul 30 2005 15:24:49 kruppa -- r846
	* trunk/mpmod.c, trunk/median.c, trunk/TODO, trunk/listz.c,
	  trunk/stage2.c, trunk/ecm2.c, trunk/ecm-impl.h, trunk/memory.c,
	  trunk/ks-multiply.c, trunk/ecm-ecm.h, trunk/polyeval.c: modified
	Some changes to avoid unnecessary reallocs. memory.c can print
	location of mpz_init() that led to mem leak/realloc (if tagged)

Sat Jul 30 2005 15:08:14 kruppa -- r845
	* trunk/configure.in: modified
	Looks for DocBook stylesheets in several directories

Sat Jul 30 2005 15:07:08 kruppa -- r844
	* trunk/README.lib: modified
	Added maxmem entry

Fri Jul 29 2005 13:50:56 kruppa -- r843
	* trunk/random.c: modified
	Removed leftover debug output

Thu Jul 28 2005 23:17:58 kruppa -- r842
	* trunk/pm1.c, trunk/factor.c, trunk/random.c, trunk/pp1.c,
	  trunk/ecm.c, trunk/main.c, trunk/ecm.h: modified
	Seed RNG only once per program invocation. Use GetRandCrypt() under
	Windows, but untested yet: Wine lacks required dlls.

Thu Jul 28 2005 20:55:16 kruppa -- r841
	* trunk/pm1.c, trunk/factor.c, trunk/pp1.c, trunk/bestd.c,
	  trunk/ecm.xml, trunk/TODO, trunk/auxlib.c, trunk/ecm.c,
	  trunk/main.c, trunk/stage2.c, trunk/ecm2.c, trunk/ecm-impl.h,
	  trunk/rho.c, trunk/ecm.h: modified
	Added -maxmem option. Memory estimate not perfectly accurate yet.

Sun Jul 24 2005 21:40:14 kruppa -- r840
	* trunk/pm1.c, trunk/test.pp1, trunk/pp1.c, trunk/bestd.c,
	  trunk/test.ecm, trunk/ecm.c, trunk/stage2.c, trunk/test.pm1:
	  modified
	Fixed bug that occurred when B2 < B2min (did a stage 2, but shouldn't)

Sun Jul 24 2005 19:51:36 kruppa -- r839
	* trunk/Fgw.c, trunk/ecm.c, trunk/main.c: modified
	Cleanups in Fgw.c

Sat Jul 23 2005 23:00:51 kruppa -- r838
	* trunk/ecm.xml: modified
	Added chapter for exit status values

Sat Jul 23 2005 21:51:24 kruppa -- r837
	* trunk/mpmod.c, trunk/schoen_strass.c, trunk/configure.in,
	  trunk/Makefile.am: modified
	Correctly aligns GWDATA segment when GWNUM libaray is used. Fixed
	compilation of tune when using GWNUM.

Fri Jul 22 2005 21:14:45 kruppa -- r836
	* trunk/Fgw.c, trunk/Makefile.am: modified
	Speedup for mpz_t <-> gwnum conversion. An elusive bug remains.

Thu Jul 21 2005 13:22:12 dnewman -- r835
	* trunk/tune2.c: deleted
	* trunk/ecm-params.h.alpha-ev6, trunk/mpmod.c, trunk/ecm-
	  params.h.default, trunk/TODO, trunk/ecm-params.h.athlonxp,
	  trunk/mul_lo.c, trunk/sp.h, trunk/Makefile.am, trunk/ecm-
	  params.h.athlon64, trunk/ecm_ntt.c, trunk/mpzspv.c,
	  trunk/ntt_gfp.c, trunk/configure.in, trunk/ecm-impl.h, trunk/ecm-
	  params.h.power4, trunk/ecm-params.h.alpha-ev5, trunk/tune.c:
	  modified
	Added mpn_mul_n tuning to tune.c and erased tune2.c. Moved all the
	'#ifdef TUNE' blocks to sp.h and ecm-impl.h. Updated ecm-params.*.
	Fixed minor bug in configure.in. Updated TODO.

Wed Jul 20 2005 23:37:17 dnewman -- r834
	* trunk/test.pp1, trunk/mpzspv.c, trunk/test.ecm, trunk/auxlib.c,
	  trunk/TODO, trunk/configure.in, trunk/mpzspm.c, trunk/spv.c,
	  trunk/Makefile.am, trunk/test.pm1, trunk/tune.c: modified
	Complete overhaul of cputime () in auxlib.c, including changes to
	configure.in. This fixes the mingw issue of cputime () giving
	calendar time instead of process time. Tested on cygwin, mingw, athlon,
	athlon 64, alpha.
	
	Fixed tune.c to use elltime (). Some portability fixes in spv.c,
	mpzspv.c. Changed /bin/bash to /bin/sh in the test scripts.
	Shortened an unnecessarily long expression in mpzspm.c. Updated TODO.

Tue Jul 19 2005 16:13:28 dnewman -- r833
	* trunk/TODO, trunk/TODO.sp, trunk/stage2.c: modified
	Adjusted the expected memory calculation to take into account -treefile
	and NTT memory. Removed some items from TODO, TODO.sp

Tue Jul 19 2005 13:49:33 dnewman -- r832
	* trunk/tune-ecm_ntt.c, trunk/tune-mpmod.c, trunk/tune-mpzspv.c,
	  trunk/tune-ntt_gfp.c: deleted
	* trunk/configure.in, trunk/Makefile.am, trunk/tune.c: modified
	Removed the dirty hack used to compile tune separately from the main
	code. Fixed a segfault bug in tune.c. Now configure links ecm-
	params.h.xxx to ecm-params.h (but see the TODO in configure.in)

Fri Jul 15 2005 14:59:11 dnewman -- r831
	* trunk/ecm-params.h.power4: added
	* trunk/mpzspv.c, trunk/mpzspm.c, trunk/spv.c: modified
	Corrected header for malloc() to fix compilation problem on OS X.
	Added ecm-params.h for the power4 line of cpus.

Wed Jul 13 2005 20:53:53 dnewman -- r830
	* trunk/ecm-params.h.alpha-ev6, trunk/ecm-params.h.default, trunk
	  /tune-mpmod.c, trunk/ecm-params.h.athlonxp, trunk/ecm-
	  params.h.athlon64, trunk/tune-ecm_ntt.c, trunk/tune-mpzspv.c, trunk
	  /tune-ntt_gfp.c, trunk/ecm-params.h.alpha-ev5: added
	* trunk/mpmod.c, trunk/sp.h, trunk/Makefile.am, trunk/ecm_ntt.c,
	  trunk/test.pm1, trunk/test.pp1, trunk/mpzspv.c, trunk/ntt_gfp.c,
	  trunk/test.ecm, trunk/ecm-impl.h, trunk/tune.c: modified
	Added computation of NTT thresholds to tune.c by means of tune-*.c.
	Added ecm-params target to Makefile.am and ecm-params.h for some
	architectures. Fixed minor problem in test.* that was causing
	script errors on alphas.

Wed Jul 13 2005 10:35:28 dnewman -- r829
	* trunk/ntt_gfp.c, trunk/configure.in, trunk/sp.h, trunk/tune.c:
	  modified
	Rewrote tune.c to use a function pointer framework for computing
	thresholds.
	Removed a redundant line from configure.in. Commented out unused
	functions in ntt_gfp.c.

Tue Jul 12 2005 17:19:19 kruppa -- r828
	* trunk/getprime.c, trunk/mpmod.c, trunk/factor.c,
	  trunk/schoen_strass.c, trunk/main.c, trunk/stage2.c, trunk/ecm2.c,
	  trunk/eval.c, trunk/test.pm1, trunk/test.pp1, trunk/pm1.c,
	  trunk/pp1.c, trunk/test.ecm, trunk/ecm.c, trunk/lucas.c, trunk/ecm-
	  impl.h, trunk/ecm.h, trunk/ecm-ecm.h, trunk/tune.c: modified
	Return code of ecm reflects primality of factor (if any) and
	cofactor. Renamed MOD_* macros to ECM_MOD_* and moved to ecm.h

Mon Jul 11 2005 22:19:32 kruppa -- r827
	* trunk/TODO: modified
	Removed entries for Montgomery roots, moving param selection out of
	stage 2. Added entries for fixing cputime and RNG seeding under Windows

Mon Jul 11 2005 09:48:56 zimmerma -- r826
	* trunk/mpmod.c: modified
	fixed bug in mpmod_init (use of mpz_sizeinbase instead of mpz_size)

Sat Jul 09 2005 22:05:42 kruppa -- r825
	* trunk/ecm.c, trunk/ecm2.c, trunk/ecm-impl.h: modified
	Added code for generating roots of F,G for ECM in Montgomery
	coordinates if S==1. Does now work yet and will probably never be
	fast. Disabled by default

Thu Jul 07 2005 13:07:58 kruppa -- r824
	* trunk/mpmod.c, trunk/pm1.c, trunk/ecm-impl.h: modified
	Fixes bug introduced with negative i0

Wed Jul 06 2005 15:29:12 kruppa -- r823
	* trunk/pp1.c, trunk/stage2.c, trunk/ecm-impl.h: modified
	Fixes bug in P+1 introduced in last update

Wed Jul 06 2005 07:34:04 dnewman -- r822
	* trunk/mpzspv.c, trunk/TODO.sp: modified
	Rewrote mpzspv_to_mpzv to use a constant amount of memory, with a
	small resulting speedup. Updated TODO.sp.

Wed Jul 06 2005 06:37:19 dnewman -- r821
	* trunk/acinclude.m4: added
	* trunk/configure.in, trunk/Makefile.am: modified
	Some improvements to configure.in. Now --enable-redc verifies that
	the cpu really is a 32-bit x86 (with the help of a macro in
	acinclude.m4), and the manpage is only compiled if xsltproc and
	docbook.xsl are present.

Tue Jul 05 2005 22:00:03 dnewman -- r820
	* trunk/Fgw.c, trunk/TODO, trunk/configure.in, trunk/Makefile.am,
	  trunk/ecm-impl.h: modified
	Added options --enable-asm-redc and --enable-ntt - now the gwnum,
	redc.s and ntt code compiles conditionally. Removed corresponding items
	from TODO, added one more.

Tue Jul 05 2005 21:05:43 dnewman -- r819
	* trunk/redc.s: added
	* trunk/redc.asm: deleted
	Renamed redc.asm to redc.s

Mon Jul 04 2005 22:24:06 dnewman -- r818
	* trunk/stage2.c: modified
	Changed how sp_num is displayed when using -v

Mon Jul 04 2005 21:13:00 kruppa -- r817
	* trunk/mpmod.c, trunk/pm1.c, trunk/schoen_strass.c, trunk/resume.c,
	  trunk/bestd.c, trunk/auxlib.c, trunk/stage2.c, trunk/rho.c,
	  trunk/ecm_ntt.c, trunk/ecm-gmp.h, trunk/ecm-ecm.h,
	  trunk/polyeval.c: modified
	Some cleanups to avoid compiler warnings

Mon Jul 04 2005 20:20:52 dnewman -- r816
	* trunk/configure.in: modified
	Removed AC_FUNC_MALLOC and AC_FUNC_REALLOC from configure.in, see
	http://lists.gnu.org/archive/html/bug-autoconf/2002-10/msg00075.html

Mon Jul 04 2005 19:49:38 dnewman -- r815
	* trunk/mpzspv.c, trunk/sp.h, trunk/ecm_ntt.c: modified
	Added missing config.h include to sp.h. Commented memory usage in
	many of the ntt functions. Reduced memory usage of mpzspv_normalise,
	resulting in a speedup.

Mon Jul 04 2005 19:43:14 kruppa -- r814
	* trunk/ecm2.c: modified
	Replaced variable length array in multiplyW2n with an mpz_t

Mon Jul 04 2005 18:45:57 dnewman -- r813
	* trunk/TODO: modified
	Added estimated memory item to TODO.

Mon Jul 04 2005 06:39:03 dnewman -- r812
	* (MANY FILES) : modified
	Replaced snprintf with malloc + sprintf throughout. Fixed incorrect
	prototype for ceil_log2(). Removed prototype for (static) usage().
	Changed #include "gmp.h" to #include <gmp.h> throughout.

Sun Jul 03 2005 21:33:49 kruppa -- r811
	* trunk/pm1.c, trunk/pp1.c, trunk/bestd.c, trunk/ecm.c, trunk/main.c,
	  trunk/listz.c, trunk/stage2.c, trunk/ecm2.c, trunk/ecm-impl.h,
	  trunk/ecm.h: modified
	Moved selection of dF, k, d1, d2 out of stage 2 so correct
	parameters can be printed immediately. Print expected number of 
	curves before stage 1. Made dF and k unsigned long throughout.

Sun Jul 03 2005 21:12:34 dnewman -- r810
	* trunk/mpmod.c, trunk/schoen_strass.c, trunk/mpzspv.c,
	  trunk/random.c, trunk/main.c, trunk/listz.c, trunk/configure.in,
	  trunk/stage2.c, trunk/sp.h, trunk/spv.c, trunk/ecm-impl.h,
	  trunk/ecm_ntt.c, trunk/ks-multiply.c, trunk/ecm-ecm.h,
	  trunk/polyeval.c: modified
	Preliminary changes to configure script, now configure.in generates
	config.h. Added some autoconf checks. Renamed some #defines for
	standardisation purposes. Commented out some unused functions in spv.c.

Sat Jul 02 2005 19:47:25 kruppa -- r809
	* trunk/TODO: modified
	Some updates

Sat Jul 02 2005 19:35:30 kruppa -- r808
	* trunk/pp1.c, trunk/bestd.c, trunk/ecm2.c: modified
	Code to init roots of G can deal with negative i0 now

Sat Jul 02 2005 16:18:28 dnewman -- r807
	* trunk/sp.c, trunk/sp.h: modified
	Added 64-bit primality test for 64-bit machines. Defined UDItype in
	sp.h for longlong.h (fixes compilation on Athlon 64).

Sat Jul 02 2005 15:26:32 kruppa -- r806
	* trunk/pm1.c, trunk/pp1.c, trunk/stage2.c, trunk/ecm2.c: modified
	Cleanup. Removed redundant variable "s", using "i0" instead

Sat Jul 02 2005 10:21:56 kruppa -- r805
	* trunk/Fgw.c: modified
	Added dummy function to avoid "empty file" warning. To be fixed, use
	conditional compilation instead

Sat Jul 02 2005 10:09:01 kruppa -- r804
	* trunk/stage2.c: modified
	Removed stray "%" (caused segfault)

Sat Jul 02 2005 09:40:34 kruppa -- r803
	* trunk/mpzspv.c: modified
	Added <stdlib.h> for valloc() etc. Fixes crash on Sparc v9

Fri Jul 01 2005 20:08:28 kruppa -- r802
	* trunk/stage2.c: modified
	Avoid floating point division by 0. when printing expected nr. of
	curves

Thu Jun 30 2005 22:41:30 dnewman -- r801
	* trunk/tune2.c, trunk/schoen_strass.c, trunk/TODO,
	  trunk/configure.in, trunk/stage2.c, trunk/mul_lo.c, trunk/sp.h,
	  trunk/ecm-impl.h: modified
	Added item to TODO. Fixed compilation for when HAVE_NTT not defined.
	Added AC_C_INLINE to configure.in and changed INLINE to inline
	everywhere.

Wed Jun 15 2005 12:28:17 zimmerma -- r800
	* trunk/TODO: modified
	added new item

Mon Jun 13 2005 12:31:58 dnewman -- r799
	* trunk/mpzspv.c, trunk/ecm_ntt.c: modified
	Minor fixes to header inclusion.

Thu Jun 09 2005 14:35:21 dnewman -- r798
	* trunk/ecm_ntt.c: modified
	Fixed potential segfault

Thu Jun 09 2005 14:00:38 dnewman -- r797
	* trunk/mpzspv.c, trunk/ntt_gfp.c, trunk/Fgw.c, trunk/stage2.c,
	  trunk/spv.c, trunk/ecm_ntt.c: modified
	Removed declaration-within-code ISO-C unorthodoxy

Thu Jun 09 2005 13:17:57 zimmerma -- r796
	* trunk/stage2.c: modified
	// -> /* ... */

Thu Jun 09 2005 13:13:49 zimmerma -- r795
	* trunk/sp.h: modified
	removed C++-style comments

Thu Jun 09 2005 13:12:34 zimmerma -- r794
	* trunk/Makefile.am: modified
	added longlong.h in noinst_HEADERS

Thu Jun 09 2005 12:05:05 dnewman -- r793
	* trunk/stage2.c, trunk/ecm-impl.h, trunk/ecm_ntt.c: modified
	Added -treefile support to ntt_PolyFromRoots_Tree and ntt_polyevalT

Tue Jun 07 2005 19:34:46 kruppa -- r792
	* trunk/rho.c: modified
	Minor cleanups (no change in functionality)

Tue Jun 07 2005 19:32:43 kruppa -- r791
	* trunk/mpmod.c, trunk/Fgw.c, trunk/ecm.c, trunk/ecm-impl.h: modified
	Interface to Woltman's GWNUM stage 1 for ECM

Wed May 18 2005 11:56:07 kruppa -- r790
	* trunk/mpzspv.c: modified
	#ifdef'd an malloc_usable_size()

Sun Apr 24 2005 13:40:50 dnewman -- r789
	* trunk/mpzspv.c, trunk/configure.in: modified
	Check for malloc_usable_size in autoconf as not all libc's have it.

Sat Apr 23 2005 04:57:32 zimmerma -- r788
	* trunk/getprime.c: modified
	improved getprime main loop

Mon Apr 11 2005 16:12:23 dnewman -- r787
	* trunk/ntt_gfp.c: modified
	Changed large length DIT's to use a recursive algorithm, rather
	than scramble + DIF + scramble.

Sun Apr 10 2005 14:50:51 kruppa -- r786
	* trunk/TODO: modified
	Added sliding window multiplication for ECM entry

Thu Apr 07 2005 16:07:06 dnewman -- r785
	* trunk/mpzspv.c: added
	* trunk/spm.c, trunk/ntt_gfp.c, trunk/stage2.c, trunk/sp.h,
	  trunk/spv.c: modified
	Changed mpzspp to mpzspv and mpzp to mpzv.
	Added mpzspv_verify and lots of mpzspv assertions.
	Minor speedup by using valloc rather than malloc for sp coeff
	alignment. Speedup for ntt_PolyFromRoots.
	Memory reduction and speedup for ntt_polyevalT, also fixed a memory
	leak.
	mpzspv_to_mpzv no longer clobbers the input.
	Minor cosmetic changes.
	Fixed (probably) and documented the upper bound on sp_num in
	mpzspm_init.
	Check for some malloc errors.

Thu Apr 07 2005 15:48:30 dnewman -- r784
	* trunk/mpzspp.c: deleted
	* trunk/TODO.sp, trunk/mpzspm.c, trunk/Makefile.am, trunk/ecm-impl.h,
	  trunk/ecm_ntt.c: modified
	Renamed mpzspp.c to mpzspv.c

Tue Apr 05 2005 17:43:10 kruppa -- r783
	* trunk/main.c: modified
	Added -faccmd option, compiled in only if WANT_FACCMD is defined

Sat Apr 02 2005 00:40:57 dnewman -- r782
	* trunk/stage2.c, trunk/sp.h, trunk/ecm-impl.h, trunk/mpzspp.c,
	  trunk/ecm_ntt.c, trunk/polyeval.c: modified
	Added a preliminary version of ntt_polyevalT (without treefile
	support) and a couple of helper routines in mpzspp.c. Minor change to
	alignment of sp_invF.
	Un-static'd TUpTree in polyeval.c so ntt_polyevalT can use it.
	Minor change to thresholds in sp.h.

Fri Apr 01 2005 08:15:57 kruppa -- r781
	* trunk/NEWS: modified
	Added news entries for 6.0.1

Thu Mar 31 2005 21:57:41 dnewman -- r780
	* trunk/TODO.sp, trunk/stage2.c, trunk/sp.h, trunk/ecm-impl.h,
	  trunk/mpzspp.c, trunk/ecm_ntt.c: modified
	Adjusted functions in ecm_ntt.c so mpzspm_init is now only
	called once (ever). Abandoned the "automatic transform" idea.
	Rewrote ntt_PolyInvert and saved a transform per level. Rewrote
	ntt_PrerevertDivision to use a cached transform of 1/F. Fixed
	potential bug in mpzspp_normalise.
	Updated TODO.sp

Thu Mar 31 2005 21:50:35 kruppa -- r779
	* trunk/INSTALL: modified
	Added detail to, removed typo from Win install instruction

Thu Mar 31 2005 19:35:36 fousse -- r778
	* trunk/INSTALL: modified
	Typo.

Thu Mar 31 2005 19:22:16 kruppa -- r777
	* trunk/INSTALL: modified
	Added install instructions for Windows/MinGW

Wed Mar 30 2005 15:53:29 kruppa -- r776
	* trunk/README: modified
	Updated Note on ECM extra smoothness

Wed Mar 30 2005 15:34:47 kruppa -- r775
	* trunk/rho.c: modified
	Remove GSL dilog_series code (is GPL, not LGPL). Changed
	EXTRA_SMOOTHNESS
	to 23.4 (Montgomery's value)

Mon Mar 28 2005 18:07:54 kruppa -- r774
	* trunk/TODO: modified
	Added shell command on event entry

Mon Mar 28 2005 18:05:52 kruppa -- r773
	* trunk/main.c: modified
	Fix segfault when parsing B2, work around MinGW scanf() bug

Mon Mar 28 2005 18:04:57 kruppa -- r772
	* trunk/stage2.c, trunk/rho.c: modified
	Free rhotable memory at end of stage 2

Wed Mar 23 2005 19:45:30 zimmerma -- r771
	* trunk/ecm-impl.h: modified
	added missing macro

Wed Mar 23 2005 19:36:35 zimmerma -- r770
	* trunk/pp1.c, trunk/ecm.c, trunk/mul_lo.c: modified
	added comments and normalization when FULL_REDUCTION is not defined

Wed Mar 23 2005 17:07:25 kruppa -- r769
	* trunk/TODO: modified
	Added negative i0, composite d2, avoiding reallocs, getting bestD()
	out of stage 2. Added release targets for some entries.

Tue Mar 22 2005 15:02:43 zimmerma -- r768
	* trunk/bestd.c, trunk/TODO: modified
	added one TODO item
	added one dF value (600600)

Mon Mar 14 2005 01:24:18 dnewman -- r767
	* trunk/ntt_gfp.c, trunk/sp.h, trunk/spv.c, trunk/mpzspp.c,
	  trunk/ecm_ntt.c: modified
	Started work on a framework for transform caching - now mpzspp's
	should automatically cache transforms and normalise. Added
	mpzspp_[to/from]_ntt functions to facilitate this and help simplify
	ntt_PrerevertDivision. Fixed an incorrect assertion in spv_mul.

Sat Mar 12 2005 19:24:44 dnewman -- r766
	* trunk/sp.h, trunk/mpzspp.c, trunk/ecm_ntt.c: modified
	mpzspp_t's are now passed by reference instead of by value.

Tue Mar 08 2005 17:22:18 dnewman -- r765
	* trunk/listz.c: modified
	Fixed a bug in list_neg

Tue Mar 08 2005 13:50:34 zimmerma -- r764
	* trunk/listz.c: modified
	fixed potential bug in list_neg

Tue Mar 08 2005 13:35:27 dnewman -- r763
	* trunk/ecm.xml: modified
	Corrected Dave Newman's email address from firstname.lastname@...
	to david.lastname@...

Tue Mar 08 2005 01:21:37 dnewman -- r762
	* trunk/sp.h, trunk/ecm_ntt.c: modified
	Unrolled recursion in ntt_PolyInvert and added a DEBUG block to
	verify it gives the right answer. Adjusted NTT_POLYINVERT_THRESHOLD in
	sp.h

Mon Mar 07 2005 11:57:47 dnewman -- r761
	* trunk/sp.h, trunk/ecm_ntt.c: modified
	Rewrote ntt_PolyInvert. This seems to stop the "Found input number
	N" errors. Adjusted POLYINVERT_NTT_THRESHOLD accordingly.

Sun Mar 06 2005 19:21:41 kruppa -- r760
	* trunk/ecm.xml: modified
	Small corrections, Sch"onhage now spelled with oe.

Sun Mar 06 2005 13:29:07 zimmerma -- r759
	* trunk/TODO, trunk/configure.in: modified
	changed version to 6.1
	added item in TODO

Sat Mar 05 2005 21:29:25 zimmerma -- r758
	* trunk/resume.c, trunk/main.c, trunk/eval.c, trunk/ecm.h: modified
	patch for Apple ('\r' instead of '\n' for newline)

Fri Mar 04 2005 20:46:07 kruppa -- r757
	* trunk/README.lib, trunk/main.c, trunk/INSTALL: modified
	Small correction to --help output (missing abs bars in -base2 option)

Fri Mar 04 2005 13:05:24 kruppa -- r756
	* trunk/Fgw.c: modified
	Added copyright notice for GWNUM based code

Fri Mar 04 2005 12:33:06 dnewman -- r755
	* trunk/spm.c, trunk/ntt_gfp.c, trunk/sp.c, trunk/longlong.h,
	  trunk/mpzspm.c, trunk/sp.h, trunk/spv.c, trunk/ecm_ntt.c,
	  trunk/mpzspp.c: modified
	added licence headers

Fri Mar 04 2005 12:07:47 dnewman -- r754
	* trunk/ecm-impl.h: modified
	added ecm-specific ntt functions

Fri Mar 04 2005 11:51:38 dnewman -- r753
	* trunk/stage2.c: modified
	added HAVE_NTT option to enable sp code, changed dF to be always a
	power-of-two

Fri Mar 04 2005 11:49:40 dnewman -- r752
	* trunk/spv.c: added
	added spv.c

Fri Mar 04 2005 11:49:29 dnewman -- r751
	* trunk/spm.c: added
	added spm.c

Fri Mar 04 2005 11:49:04 dnewman -- r750
	* trunk/ntt_gfp.c: added
	added ntt_gfp.c

Fri Mar 04 2005 11:48:47 dnewman -- r749
	* trunk/mpzspp.c: added
	added mpzspp.c

Fri Mar 04 2005 11:48:29 dnewman -- r748
	* trunk/mpzspm.c: added
	added mpzspm.c

Fri Mar 04 2005 11:48:08 dnewman -- r747
	* trunk/longlong.h: added
	added longlong.h (copy from gmp-4.1.4)

Fri Mar 04 2005 11:47:33 dnewman -- r746
	* trunk/listz.c: modified
	removed static from list_mul and list_neg so the sp code can use them

Fri Mar 04 2005 11:46:23 dnewman -- r745
	* trunk/ecm_ntt.c: added
	added ecm_ntt.c

Fri Mar 04 2005 11:46:02 dnewman -- r744
	* trunk/TODO.sp: added
	added TODO.sp

Fri Mar 04 2005 11:45:34 dnewman -- r743
	* trunk/Makefile.am: modified
	added sp sources

Fri Mar 04 2005 10:39:30 dnewman -- r742
	* trunk/sp.c: added
	added sp.c

Fri Mar 04 2005 10:39:12 dnewman -- r741
	* trunk/sp.h: added
	added sp.h

Fri Mar 04 2005 09:11:07 zimmerma -- r740
	* trunk/README: modified
	added note about GMP thresholds

Wed Mar 02 2005 22:46:58 zimmerma -- r739
	* trunk/tune2.c: modified
	added ECM_STDOUT, ECM_STDERR

Wed Mar 02 2005 22:06:00 zimmerma -- r738
	* trunk/schoen_strass.c, trunk/random.c, trunk/main.c, trunk/listz.c,
	  trunk/stage2.c, trunk/ecm2.c, trunk/eval.c, trunk/ks-multiply.c,
	  trunk/polyeval.c: modified
	small changes for _MSC_VER
	prints memory usage (with -v)
	prints argv[0] instead of "ecm" in case of error

Wed Mar 02 2005 22:02:34 zimmerma -- r737
	* trunk/TODO: modified
	added item (-maxmem)

Wed Mar 02 2005 22:02:06 zimmerma -- r736
	* trunk/README: modified
	added "10. Known problems"

Wed Mar 02 2005 22:01:17 zimmerma -- r735
	* trunk/AUTHORS: modified
	added beta-testers

Wed Mar 02 2005 21:30:08 kruppa -- r734
	* trunk/README: modified
	Mention default S for Fermat numbers (S=1 or 2). "he thinks" -> "it
	thinks".

Wed Mar 02 2005 12:37:53 zimmerma -- r733
	* trunk/main.c: modified
	put back "Run xxx out of yyy" in loop mode

Wed Mar 02 2005 12:24:42 zimmerma -- r732
	* trunk/TODO: modified
	added new item

Tue Mar 01 2005 21:52:27 kruppa -- r731
	* trunk/rho.c: modified
	Fixed array out-of-bounds access, reported by Jon Becker

Tue Mar 01 2005 21:51:31 kruppa -- r730
	* trunk/b1_ainc.c, trunk/pm1.c, trunk/pp1.c, trunk/ecm.c: modified
	Calculation of default B2 in ecm(), pm1() or pp1() would overwrite
	caller's
	B2min, B2 (mpz_t), using local copies now. Auto-increment returns
	rounded B1.
	Fixes bug reported by "Phil MjX" on mersenneforum.org

Tue Mar 01 2005 10:19:55 zimmerma -- r729
	* trunk/test.ecm: modified
	simplified test so that it takes less time (overall gain of about 3)

Tue Mar 01 2005 08:30:01 zimmerma -- r728
	* trunk/mpmod.c, trunk/ecm.c, trunk/tune.c: modified
	fix to link problem for "tune"

Mon Feb 28 2005 16:07:28 kruppa -- r727
	* trunk/stage2.c, trunk/configure.in, trunk/polyeval.c: modified
	Checks for snprintf(), if not available falls back to sprintf()

Mon Feb 28 2005 13:11:10 kruppa -- r726
	* trunk/Fgw.c: modified
	Removed original gwnum dword->fft conversion code

Mon Feb 28 2005 11:40:55 zimmerma -- r724
	* trunk/ChangeLog, trunk/README.dev: modified
	updated ChangeLog/README.dev

2005-02-28  paul  <zimmerma>

	* release version 6.0

	* ecm.xml: updated -primetest

2005-02-27  alex  <kruppa>

	* pm1.c, pp1.c, ecm.c:
	For Fermat numbers, S=1 (S=2 for P-1) is now default

	* Makefile.am, configure.in, ecm-impl.h, main.c, mpmod.c, schoen_strass.c, Fgw.c:
	More changes for linking gwnum

2005-02-24  alex  <kruppa>

	* Fgw.c, configure.in: Changes for linking gwnum (incomplete)

	* main.c: Added option -h for getting help

	* ecm.xml: More cleanup

2005-02-23  paul  <zimmerma>

	* auxlib.c, ecm-impl.h, ecm.c, ecm2.c, ks-multiply.c, pm1.c, pp1.c, stage2.c, tune.c, tune2.c:
	hopefully fixed the wrap-around bug of cputime()

	* INSTALL, NEWS, README, configure.in: changed version to 6.0
	removed "Known problems" in README (were obsolete)

	* random2.c, smartprp.c, trial.c, auxi.c, b1_ainc.c, candi.c, eval.c, getprime2.c, main.c:
	fixed copyright years/names

2005-02-23  alex  <kruppa>

	* ecm.xml: Some inconsistent typesetting fixed

	* ecm.xml: added -base2, -timestamp, -savea, different loglevels

2005-02-23  paul  <zimmerma>

	* ChangeLog, Makefile.am, README, README.lib, auxi.c, configure.in, ecmfactor.c, factor.c, pp1.c, smartprp.c, tune2.c:
	gmp -> GMP
	fixed one memory leak
	added missing (L)GPL headers

2005-02-22  paul  <zimmerma>

	* Makefile.am, README: forgot to install ecm.h

	* AUTHORS, ChangeLog, INSTALL, Makefile.am, NEWS, README, README.lib, TODO, ecm-ecm.h, ecm-impl.h, ecm.xml, eval.c, mpmod.c, mul_lo.c, polyeval.c, tune2.c:
	changes after remarks from Torbjo"rn on rc4

	* INSTALL, Makefile.am, auxi.c, candi.c, eval.c, main.c, memory.c:
	don't install tune*, ecmfactor
	fixed problems with -DMEMORY_DEBUG

2005-02-22  paul  <zimmerma>

	* INSTALL, Makefile.am, auxi.c, candi.c, eval.c, main.c, memory.c:
	don't install tune*, ecmfactor
	fixed problems with -DMEMORY_DEBUG

2005-02-22  alex  <kruppa>

	* stage2.c:
	bestD() overwriting original B2 caused B2 to keep ever growing. Fixed

	* README, bestd.c:
	Corrected computation of effective B2 value in bestD(). It did not account
	for rounding up due to integer block size. This changes computed
	probabilities, table in README updated accordingly

	* main.c: Added option -timestamp

	* INSTALL:
	On SunOS, the compiler and flags must be specified at configure time, or
	testing for GMP lib/header version match fails

	* TODO: Removed -base2 entry, it's done

2005-02-22  laurent  <fousse>

	* Makefile.am: Distribute ecm.xml too.

2005-02-22  paul  <zimmerma>

	* factor.c, main.c: fixed memory leaks

	* listz.c: moved declaration outside a #ifdef

2005-02-22  alex  <kruppa>

	* bestd.c, rho.c, stage2.c, README:
	bestD() computes new effective B2 value. ecmprob() now assumes group order
	divisible by 24 on average (README updated).

	* auxlib.c:
	outputf() was missing the va_end(). Not sure if it is really needed (i.e. to
	avoid memleaks), but it's cleaner to have it

2005-02-22  paul  <zimmerma>

	* TODO, auxlib.c: fixed problem under MinGW (thanks Japke Rosink)

2005-02-22  alex  <kruppa>

	* main.c:
	Added #include <time.h>, missing it causes segfault on Amd64 because
	sizeof(int) != sizeof(char*)

2005-02-22  paul  <zimmerma>

	* ecmprob.magma: added some results

2005-02-21  alex  <kruppa>

	* stage2.c, main.c, pm1.c, pp1.c, ecm.c, ecm.h, factor.c, bestd.c, ecm-impl.h:
	Changed B2, B2min to mpz_t, can now be arbitrarily large so long as
	B2-B2min < ~1e24.

2005-02-19  paul  <zimmerma>

	* pm1.c, pp1.c: put back x0=... in normal verbose mode (P-1/P+1)

2005-02-19  alex  <kruppa>

	* ecm2.c, main.c, mpmod.c, pm1.c, pp1.c, ecm-impl.h, ecm.c:
	Added option -base2. Added option -savea (appending to save files). Fixed
	bug in ecm2.c multiplyWn() debugging code

	* pp1.c, stage2.c, pm1.c, ecm.c, ecm-impl.h:
	Added another verbosity level: RESVERBOSE, enabled with "-v -v". Prints
	intermediate residues (after stage 1 etc), mere "-v" does not anymore

2005-02-18  paul  <zimmerma>

	* pp1.c:
	fixed problem with |S|=1 (was: pp1_mul did modify the exponent passed)

2005-02-18  alex  <kruppa>

	* pp1.c: A bug for |S| > 1 fixed, |S| == 1 still mysteriously broken

	* stage2.c, bestd.c, ecm-impl.h, ecm.h, ecm2.c, main.c, pm1.c, pp1.c:
	Using mpz_t for i0, s and related vars. Eliminates most overflow conditions.
	Currently, P+1 with S=1 does not work correctly, to be fixed later

2005-02-17  alex  <kruppa>

	* ChangeLog:
	Added treefile, double sieve, new ECM root generation that reduces extgcds

	* TODO: treefile is done, removed

2005-02-17  paul  <zimmerma>

	* ecm-impl.h, ecm.c, pp1.c, ChangeLog, TODO:
	changed default poly. choice in P+1 (now same as in ECM)

2005-02-17  alex  <kruppa>

	* stage2.c:
	Fixed segfault: n could get mpz_clear'd without having been inited
	Fixed overflow condition in fin_diff_coeff() by using mpz_t's. Makes
	test.pp1 work with |S| > 1.
	Small comment changes.

	* pm1.c:
	Changed printf to outputf, #ifdef DEBUG to WANT_ASSERT and exit() to return
	with error status

2005-02-17  paul  <zimmerma>

	* ecmprob.magma, pm1.c, pp1.c, stage2.c, ecm-impl.h, ecm.h:
	finished Brent-Suyama's extension for P+1

2005-02-16  paul  <zimmerma>

	* ecm-impl.h, ecm2.c, pp1.c, stage2.c: Brent/Suyama for P+1 (cont'd)

2005-02-16  alex  <kruppa>

	* ecm2.c: Replaced printf by outputf

2005-02-16  paul  <zimmerma>

	* stage2.c, ecm-impl.h, ecm2.c, pp1.c:
	preliminary code for Brent/Suyama's extension in P+1

2005-02-15  alex  <kruppa>

	* ecm.c: Increased thresholds for high Brent-Suyama degrees

	* README: A small correction about mem saving with treefiles, and typo

	* ecm-impl.h, pp1.c, stage2.c, bestd.c:
	My latest attempt to get bestD() right: new conditions for i0 and i1, and
	fixed init of progressions if i0 != 0 (mod d2)

2005-02-14  alex  <kruppa>

	* polyeval.c, stage2.c: Small cleanups of treefile code

2005-02-13  alex  <kruppa>

	* README: Added description of -treefile, plus some small changes

2005-02-11  paul  <zimmerma>

	* random.c: commented the outputf calls in non-library mode

2005-02-11  alex  <kruppa>

	* bestd.c, random.c, stage2.c, TODO:
	Small changes to use ECM_ERROR and outputf(), updated TODO

2005-02-11  paul  <zimmerma>

	* polyeval.c: removed unused variable

2005-02-11  alex  <kruppa>

	* pp1.c, stage2.c, main.c, pm1.c, polyeval.c, ecm.h, factor.c, listz.c, ecm-impl.h, ecm.c:
	Storing product tree of F in files pretty much works now. Some cleanups tbd

2005-02-10  alex  <kruppa>

	* test.ecm: Small comment change

2005-02-09  paul  <zimmerma>

	* pp1.c, stage2.c, README.lib, ecm.c, ecm.h, factor.c, main.c, pm1.c:
	updated README.lib
	now use the library function ecm_factor() in main.c too!

2005-02-09  alex  <kruppa>

	* schoen_strass.c: Changes for library, uses ASSERT and outputf() now

2005-02-08  paul  <zimmerma>

	* Makefile.am, README, auxlib.c, bestd.c, ecm-impl.h, ecm2.c, ecmfactor.c, main.c, mul_lo.c, trial.c, tune.c, tune2.c:
	further cleanup

	* README.lib: documentation for libecm

	* pm1.c, pp1.c, stage2.c, factor.c, listz.c, main.c, mpmod.c, ecm-impl.h, ecm.c, ecm.h, ecm2.c, auxlib.c:
	got rid of verbose parameter through outputf() interface

	* random.c, ecm.h, ecm2.c, ecmfactor.c, factor.c, main.c, pm1.c, pp1.c, auxi.c, ecm-ecm.h, ecm-impl.h, ecm.c:
	further work for library interface

	* mul_lo.c, stage2.c, main.c: fixed problems to please icc

	* test.pm1: added test for step 2 primes near B2min

	* Makefile.am, ecm-ecm.h, ecm-impl.h, ecm.c, ecm.h, factor.c, main.c, pm1.c, pp1.c, resume.c, stage2.c:
	preliminary new file factor.c for library interface

2005-02-07  alex  <kruppa>

	* rho.c: Changed error testing/handling to ASSERT.

2005-02-07  paul  <zimmerma>

	* auxlib.c, bestd.c, ecm-impl.h, ecm2.c, getprime.c, ks-multiply.c, mpmod.c, rho.c, stage2.c, toomcook.c:
	got rid of xmalloc() [now allocation errors are signaled to caller]
	replaced abort, exit, stdout, stderr, printf, gmp_printf...

	* schoen_strass.c, configure.in:
	check for __gmpn_mod_34lsub1 in configure, and wrote a replacement for it
	when it does not exist

	* auxlib.c: use ECM_STDOUT/ECM_STDERR

	* auxi.c, ecm-ecm.h: removed gcd in auxi.c, ecm-ecm.h

	* ks-multiply.c, listz.c, lucas.c, median.c, mpmod.c, mul_lo.c, pm1.c, polyeval.c, pp1.c, rho.c, schoen_strass.c, stage2.c, tune2.c, TODO, auxlib.c, bestd.c, ecm-ecm.h, ecm-impl.h, ecm.c, ecm2.c, getprime.c:
	removed FILE arguments

2005-02-06  alex  <kruppa>

	* ecm-ecm.h, ecm-impl.h, ecm.c, main.c, stage2.c, auxlib.c:
	Encapsuled output control in outputf() function, made stage2.c and ecm.c use
	that function

	* rho.c: For B1=1, computation would go into very long loop. Fixed

	* stage2.c:
	Removed experimental SAVE_TREE code, put <math.h> back in for pow() etc.

2005-02-05  alex  <kruppa>

	* rho.c, stage2.c:
	Got rid of finite() in stage2.c, made sure ecmprob() does not return
	negative values

2005-02-04  paul  <zimmerma>

	* TODO: put proposal from Karim Belabas

	* schoen_strass.c, stage2.c, toomcook.c, mul_lo.c, polyeval.c, rho.c, median.c, listz.c, ks-multiply.c, TODO, ecm-impl.h:
	more changes to catch errors and specify output/error streams

	* ecm-impl.h, stage2.c, test.pm1:
	changed one P-1 test (B2 was too near from 2^53, so that B2' overflowed)

2005-02-04  alex  <kruppa>

	* bestd.c: Fixed bug in bestd() ...again (following PaulZ's suggestion)

2005-02-04  paul  <zimmerma>

	* bestd.c, mul_lo.c: added FIXME in bestd.c
	changed mul_lo.c to use table computed by tune2.c

	* tune2.c: fixed pb with return value

	* median.c, mpmod.c, pm1.c, polyeval.c, pp1.c, stage2.c, ecmfactor.c, getprime.c, listz.c, lucas.c, main.c, ecm2.c, ecm-impl.h, ecm.c, ecm.h:
	put back changes from Alex (rev 1.57 to 1.58 of pm1.c) that I removed by error
	added control for output/error streams
	changed exit(1) into error return values

2005-02-03  paul  <zimmerma>

	* TODO, configure.in: updated TODO
	removed useless message in configure

2005-02-03  alex  <kruppa>

	* ecm-impl.h, ecm2.c, mpmod.c, pm1.c, pp1.c:
	Replaced UNUSED by ATTRIBUTE_UNUSED, following GMP convention (see
	gmp-impl.h)

	* TODO: Montgomery's double sieve is pretty much implemented now

	* bestd.c:
	Fixed bug in bestd() which sometimes caused too small d values to be chosen,
	thus failing to test entire [B2min,B2] interval

	* auxlib.c: SunOS needs time.h for CLOCKS_PER_SEC

2005-02-03  paul  <zimmerma>

	* pm1.c, polyeval.c, pp1.c, random.c, rho.c, schoen_strass.c, stage2.c, toomcook.c, mpmod.c, mul_lo.c, ecm2.c, getprime.c, ks-multiply.c, listz.c, lucas.c, median.c, auxlib.c, bestd.c, ecm.c:
	changed header from GPL to LGPL
	added missing years if any

	* ecmfactor.c: improved readability

2005-02-03  laurent  <fousse>

	* median-aux.c: Removed unused file median-aux.c.

	* ecm.xml: ecm.xml validates again.

2005-02-03  paul  <zimmerma>

	* Makefile.am: added missing headers

	* getprime.c: added main() to compile with -DMAIN

	* countsmooth.c: added missing #ifndef and url for primegen

2005-02-03  alex  <kruppa>

	* schoen_strass.c: Made F_mod_*() static, hopefully to please icc

2005-02-03  paul  <zimmerma>

	* auxlib.c, ecm-ecm.h, ecm-impl.h, ecmfactor.c, getprime2.c, nbdigits.c, random.c, random2.c:
	new files for library

	* stage2.c, toomcook.c, trial.c, tune.c, tune2.c, smartprp.c, resume.c, rho.c, schoen_strass.c, mul_lo.c, pm1.c, polyeval.c, pp1.c, ks-multiply.c, listz.c, lucas.c, main.c, median.c, mpmod.c, ecm.h, ecm2.c, eval.c, getprime.c, bestd.c, candi.c, configure.in, countsmooth.c, ecm-gmp.h, ecm.c, Makefile.am, auxi.c, b1_ainc.c:
	complete rewrite to separate library/frontend

	* test.pp1, check.mpl, ecm.h, listz.c, stage2.c: modified one P+1 test

	* ecm-gmp.h, pm1.c, tune.c, tune2.c:
	fixed warnings (with -W -Wall -pedantic -Wmissing-prototypes)

2005-02-02  alex  <kruppa>

	* ecm2.c, pm1.c, stage2.c, ecm.h:
	Cleanup of ecm/pm1_rootsF code. Small speedup in pm1_rootsF init.

2005-02-02  paul  <zimmerma>

	* Makefile.am, ecm.h, mul_lo.c, tune.c, tune2.c:
	added new file tune2.c for tuning mpn_mul_lo_n()

	* ecm-gmp.h: added missing MPN_OVERLAP_P

	* ecm.xml: changed email for Jim

	* AUTHORS: added item for Jim

	* AUTHORS: mungled email addresses

	* README, configure.in, ecm-gmp.h, ecm.h, ks-multiply.c, mpmod.c, mul_lo.c, pm1.c, tune.c:
	added --enable-assert to configure
	got rid of WANT_GMP_IMPL

	* README, ecm.xml: added -prp options in ecm.xml
	cleaned README

	* main.c, pm1.c, stage2.c, eval.c: more cleanup

	* README, bestd.c, countsmooth.c, ecm.c, ecm.h, eval.c, getprime.c, main.c, mpmod.c, pm1.c, pp1.c, trial.c:
	more cleanup (fixed icc warnings)

	* Makefile.am, README, TODO, configure.in, ecm.xml, mpmod.c:
	updated README
	added target tune in Makefile

2005-02-01  alex  <kruppa>

	* pp1.c, stage2.c, ecm.h:
	Printing of mul count in rootsF/G for P+1 put back in

	* ecm2.c:
	Better selection of number of parallel progressions in ecm_rootsF(), avoids
	unreasonably long init times

2005-02-01  paul  <zimmerma>

	* main.c, pm1.c, pp1.c, test.ecm, README, candi.c, ecm.c, ecm.h:
	made -go work for P+1 and ECM

2005-02-01  alex  <kruppa>

	* pm1.c: Merge errors. :(  Fixed

	* ecm2.c, pm1.c:
	Put counting of muls/extgcds when computing roots of F/G back in. Only
	printed with "-v -v" (or more -v)

2005-02-01  paul  <zimmerma>

	* ChangeLog, Makefile.am, README.dev, TODO, configure.in, ecm.xml, main.c:
	updated TODO, ChangeLog, ecm.xml

	* AUTHORS: obscured my email

2005-02-01  alex  <kruppa>

	* AUTHORS: Updated (and obscured) my email address

2005-02-01  paul  <zimmerma>

	* configure.in: avoid AC_CHECK_LIB

2005-02-01  alex  <kruppa>

	* INSTALL: Minor corrections

2005-02-01  paul  <zimmerma>

	* configure.in: check mpn_mul_fft *after* LDFLAGS/LIBS are defined

	* TODO, ecm.c, ecm.h, main.c, pm1.c, pp1.c, stage2.c, ChangeLog, README:
	removed -ticdelay option (was unsupported)

	* INSTALL, Makefile.am, ecm.xml: added man page (ecm.1) in distribution
	added install instruction in INSTALL

	* auxi.c: added missing years

	* ecm.xml: added missing <para> </para>

	* INSTALL, ecm.xml: modified INSTALL for new configure/make

2005-01-31  paul  <zimmerma>

	* bestd.c, ecm.h, ks-multiply.c, listz.c, median.c, resume.c, toomcook.c:
	code cleanup (removed muls count, unused code, ...)

	* AUTHORS, README, ecm.xml, ks-multiply.c, listz.c:
	improved documentation

2005-01-31  alex  <kruppa>

	* resume.c: Fixed possible unterminated string

2005-01-31  paul  <zimmerma>

	* Makefile.am, README.dev, configure.in: simplified LDFLAGS/LIBS

	* README.dev, ecm.1, ecm.xml:
	source documentation is now ecm.xml (docbook)

	* main.c: updated champion's digits

2005-01-28  paul  <zimmerma>

	* test.ecm: removed last line

2005-01-28  laurent  <fousse>

	* configure.in: Configure.in needs to set LDFLAGS.

2005-01-28  paul  <zimmerma>

	* ks-multiply.c, listz.c, ecm.h: fixed bug (MPN_COPY requires size > 0)

	* ks-multiply.c, test.ecm, test.pm1, test.pp1:
	check non-zero size in MPN_COPY

2005-01-28  laurent  <fousse>

	* ecm.h, main.c, resume.c: VERSION is defined in configure.in now.

2005-01-28  paul  <zimmerma>

	* pp1.c, schoen_strass.c, stage2.c, Makefile.am, README, TODO, bestd.c, configure.in, ecm.c, ecm.h, ecm2.c, eval.c, listz.c, lucas.c, main.c, mul_lo.c, ntl.c, pm1.c, polyeval.c, polyz.c:
	removed counting of multiplications
	removed use of NTL
	updated TODO

2005-01-27  paul  <zimmerma>

	* AUTHORS, ks-multiply.c: filled AUTHORS file

	* main.c: typo

	* README.dev: need aclocal too

	* Makefile: removed -> switch to autotools

	* AUTHORS, NEWS, README.dev: new files for autotools

	* ecm2.c, ks-multiply.c, listz.c, stage2.c: fixed a few memory leaks

2005-01-27  alex  <kruppa>

	* pm1.c: Fixed mem leak (pointed out by PaulZ)

2005-01-26  paul  <zimmerma>

	* INSTALL, README, b1_ainc.c, main.c: updated README

	* ChangeLog, mpmod.c: modified ChangeLog
	added special base2mod for Fermat numbers

2005-01-26  laurent  <fousse>

	* Makefile.am, configure.in: Rules cleaning.

	* Makefile.am, configure.in: More autotools voodoo, borrowed from MPFR.

2005-01-26  paul  <zimmerma>

	* listz.c, mpmod.c, pm1.c, schoen_strass.c, INSTALL:
	further cleaning of "unused" variables

	* bestd.c, ecm.c, ecm.h, listz.c, main.c, pm1.c, pp1.c:
	removed unused code and variables

2005-01-25  paul  <zimmerma>

	* bestd.c, ecm.h, ks-multiply.c, listz.c: fixed a problem in bestD
	changed version to 5.2.0
	implemented wrap-around trick in division

2005-01-17  laurent  <fousse>

	* Makefile.am: Add missing source file.

	* bestd.c:
	No need to bother with values.h, float.h is enough and seems to work just
	as well.

2005-01-15  laurent  <fousse>

	* auxi.c: Correct call to getrusage.

2005-01-14  alex  <kruppa>

	* ecm.h, pm1.c, pp1.c, stage2.c, ecm.c:
	Expected time to find a factor printed at end of stage 2

2005-01-07  paul  <zimmerma>

	* redc.asm: added copyright header

	* mpmod.c, redc.asm, Makefile: added assembly support for redc

2005-01-05  paul  <zimmerma>

	* mpmod.c: renamed ecm functions with mpz_ or mpn_ prefix

2005-01-04  paul  <zimmerma>

	* mpmod.c: improved mpz_mod_n

2004-10-24  alex  <kruppa>

	* rho.c: Added missing prototypes

	* ecm.h, rho.c, stage2.c, Makefile:
	Dickman's rho function for computing ECM's probability of success. Is
	printed for various factor sizes with -v parameter.

2004-10-12  alex  <kruppa>

	* ecm-gmp.h: Replaced #if ... /#else #if ...  by  /#elif ...

	* schoen_strass.c: Fixed checksum debugging code for NOPAD case

2004-10-06  paul  <zimmerma>

	* mul_fft.c:
	this is the mul_fft.c code from GMP (gmp-cvs-20040917 patched)

	* main.c: changed default k to 2

2004-09-29  paul  <zimmerma>

	* ks-multiply.c, listz.c, stage2.c:
	added wrapmul in ks-multiply.c (not used so far)
	removed check for number of multiplies in stage2.c (not possible with KS)

2004-09-28  alex  <kruppa>

	* stage2.c:
	Print final residue (product of polyeval output) if verbosity >= 3,
	i.e. "-v -v"

	* schoen_strass.c, mpmod.c, Fgw.c, Makefile, ecm.h:
	Interface to use George Woltman's gwnum library for Fermat numbers

2004-09-23  alex  <kruppa>

	* mpmod.c: Stupid bug: = instead of == in comparison. :(

2004-09-21  paul  <zimmerma>

	* mpmod.c: fixed misusage of mpn_mul_fft()

2004-09-21  alex  <kruppa>

	* ecm.h, mpmod.c, schoen_strass.c:
	Use of GMP FFT in mpmod.c self-contained now, and used only for exponent
	>=32768. Use of GMP FFT added to schoen_strass.c, but currently disabled -
	misses a factor of F15.

	* README: Small changes to Note on Fermat numbers section

2004-09-21  paul  <zimmerma>

	* mpmod.c:
	with HAVE_FFT defined, mpres_mul() directly calls mpn_mul_fft()

	* README: removed one sentence

2004-09-13  alex  <kruppa>

	* README:
	Some changes to Brent-Suyama section. Added note on factoring Fermat
	numbers.

2004-09-13  paul  <zimmerma>

	* main.c: disable Line=... messages by default

	* ks-multiply.c: fixed bug when m=0

	* Makefile: added CFLAGS to LD (needed on Sparc)

2004-09-11  alex  <kruppa>

	* schoen_strass.c, listz.c:
	PolyInvert() now uses a middle product for Fermat numbers

	* schoen_strass.c, stage2.c:
	Moved global var Fermat from stage2.c to schoen_strass.c

2004-09-10  alex  <kruppa>

	* polyeval.c:
	Oops - accidentally deleted a list_mod() statement. Fixed.

	* polyeval.c, bestd.c:
	polyeval_tellegen() still used a short product instead of Schoenhage-Strassen
	for Fermat numbers! Fixed, approx. doubles speed for POLYEVAL and mul count
	matches theory now.

	* median.c: Additional paramter check for Fermat case of KMulGen()

	* ecm.h: KS_MULTIPLY was accidentally #undef'd, now #define'd again

	* median.c:
	TMulGen would call TMulKS() even if KS_MULTIPLY was undef'd. Fixed.

2004-09-09  alex  <kruppa>

	* bestd.c, ecm.h, pp1.c, stage2.c:
	Double sieve for P+1 (does not use multiple progressions, only skips)
	bestD() takes d2 into account.

2004-09-09  laurent  <fousse>

	* configure.in: Verify that GMP was compiled with FFT enabled.

	* Makefile.am, configure.in:
	Actually test for GMP presence in configure.
	Support for test targets in Makefile.am.

2004-09-09  paul  <zimmerma>

	* median.c, test.pm1, ecm.h, ks-multiply.c, listz.c, main.c, bestd.c:
	use middle product in PolyInvert
	changed bestD() for new KS routines
	now TMulKS takes an additional parameter "rev"

2004-09-09  alex  <kruppa>

	* mpmod.c, pm1.c, stage2.c, test.ecm, bestd.c, ecm.h, ecm2.c:
	Double sieve for generating roots of ECM and P-1, see Montgomery "Speeding",
	section 9. P+1 tbd. bestD() does not know about larger block length yet,
	tbd.

2004-09-09  paul  <zimmerma>

	* ks-multiply.c: malloc -> xmalloc

	* ks-multiply.c: fixed malloc bug

	* trial.c, auxi.c: fixed warning

2004-09-08  alex  <kruppa>

	* listz.c:
	added #else to avoid warning about unreachable code by Sun CC.

2004-09-08  paul  <zimmerma>

	* polyeval.c, ecm2.c, ks-multiply.c, median.c, ecm.h, ecm-gmp.h:
	added TMulKS() [and macro FFT_WRAP, and KS_TMUL_THRESHOLD]
	moved ASSERT() to ecm.h
	fixed typo in ecm2.c

	* ecm.h, listz.c, median.c, polyeval.c: added list_swap
	fixed inefficiency in polyeval_tellegen (list_mul_high call did not
		reduce coefficients mod n)

2004-09-07  paul  <zimmerma>

	* listz.c, median-aux.c, median.c, polyeval.c, ecm.h, ks-multiply.c:
	cleaned up polyeval_tellegen and median.c:
	- converted comments in english
	- use functions of listz.c when possible
	- translate mpz_mul_ui (.., .., 2) into mpz_mul_2exp
	- other tiny optimizations

	* TODO: sorted items

	* pm1.c, pp1.c, main.c: default for -ticdelay is now -1

	* ecm.h: added comments about #define's

2004-09-06  paul  <zimmerma>

	* mpmod.c: oops, modulus->bits can be negative

	* mpmod.c: modulus->bits is always positive

	* ecm.h, mpmod.c, pm1.c:
	now isbase2() is called with same threshold BASE2_THRESHOLD (in ecm.h)
	base2mod() changed to perform no division any more

2004-09-03  alex  <kruppa>

	* stage2.c, listz.c:
	Where possible, polynomials F, G and invF are deallocated before calling
	polyeval(), polyeval_tellegen() or poly_gcd().

	* ecm.h:
	POLYEVAL got set whenever POLYEVALTELLEGEN was set, overriding POLYGCD.
	Changed so that POLYGCD overrides both POLYEVAL and POLYEVALTELLEGEN.

2004-09-03  paul  <zimmerma>

	* stage2.c: experimental code to save/restore the product tree

2004-09-03  alex  <kruppa>

	* schoen_strass.c, listz.c:
	PrerevertDivision() uses a non-zeropadded transforms for Fermat numbers if
	poly degree is not too large.

	Removed Matrix Fourier Algorithm (no faster) and testing code in
	schoen_strass.c

2004-09-03  paul  <zimmerma>

	* ks-multiply.c: added comment

2004-09-01  laurent  <fousse>

	* Makefile.am, configure.in: Autoconf'ing the project.

2004-09-01  alex  <kruppa>

	* ecm.h, listz.c, schoen_strass.c:
	Added option for transform without zero padding to Sch"onhage-Strassen.

2004-08-31  paul  <zimmerma>

	* ks-multiply.c: thresholds now takes into account number size too

2004-08-31  alex  <kruppa>

	* TODO:
	Added entry for idea of choosing roots of F and G from Montgomery
	"Speeding", 9.1.3

2004-08-31  paul  <zimmerma>

	* Makefile, ks-multiply.c, listz.c:
	improved PrerevertDivision when KS_MULTIPLY defined

2004-08-30  alex  <kruppa>

	* Makefile, auxi.c, ecm.h, listz.c, schoen_strass.c, toomcook.c:
	Sch"onhage-Strassen code now can multiply monic polynomials directly. This
	saves adds when building polys from their roots, unfortunately the speed
	gain is minimal.

	mpz_divby3_1op() moved to auxi.c

2004-08-30  paul  <zimmerma>

	* ks-multiply.c:
	Kronecker-Scho"nhage's code, contributed by David Newman <david.newman@jesus.ox.ac.uk>

	* Makefile, bestd.c, ecm-gmp.h, ecm.h, listz.c, mpmod.c, polyeval.c, stage2.c:
	integrated David Newman's Kronecker-Scho"nhage's code

	* schoen_strass.c: commented out mpz_divby3_1op (already in toomcook.c)

	* TODO: added one todo line (KS mult)

2004-08-26  alex  <kruppa>

	* bestd.c, ecm.h, ecm2.c, stage2.c:
	bestd_po2() examines both B2min and B2 instead of just their difference, and
	has better d values for very small polynomial degrees.

	* resume.c: Resuming now always reduces the x-coordinate (mod N).

	* schoen_strass.c:
	Multiplication of transformed coefficients inside the MFA transform. Should
	save uncached memory accessed but isn't much faster in practice.

	* ecm.h, ecm2.c, stage2.c:
	Correct handling of adding identical points in addWnm() by doubling.

	* Makefile: Commented out Sun cc specific options

	* schoen_strass.c:
	Routines for Sch"onhage-Strassen multiplication of polynomials

2004-07-28  alex  <kruppa>

	* pm1.c, pp1.c, resume.c, stage2.c, Makefile, auxi.c, bestd.c, ecm-gmp.h, ecm.h, ecm2.c, listz.c, main.c, median.c:
	Schoenhage-Strassen for multiplying polynomials modulo Fermat numbers.

	Computation of roots for F and G for ECM does several progressions in
	parallel, to reduce number of extgcds and, for F, reduce the number of roots
	computed.

	* eval.c:
	Sun cc doesn't like leading underscores in variable names. _B and _N renamed
	to B and N.

2004-06-24  laurent  <fousse>

	* Makefile, README, ecm.1:
	Fix typo in documentation and clarify the `nobase2' option.

2004-04-06  paul  <zimmerma>

	* bestd.c, listz.c: added Weimerskirch/Paar trick for Karatsuba (K=3)

2004-02-13  laurent  <fousse>

	* median.c: Deleted some unused lines.

2004-01-21  laurent  <fousse>

	* ecm.1: Added ecm.1 man page; needs update.

2004-01-20  laurent  <fousse>

	* ecm.h, main.c:
	Added usage function and changed usage output stream to stdout.

2004-01-20  jim  <jfoug>

	* main.c: Fixed for MinGW builds  (no res/resource.h)

2004-01-20  laurent  <fousse>

	* main.c: Fixed "-n" and "-nn" parameters for unix.

2004-01-16  jim  <jfoug>

	* README, TODO, candi.c, ecm.c, ecm.h, main.c, pm1.c, pp1.c:
	Added -go <INTEGER> handling.  The code to use this has NOT been added to ecm_stage1()
	or pp1_stage1().  It has been placed into pm1_stage1().  Also, the full syntax processing
	has been added to main.c.   Candi.c has a new structure to handle this (mpgocandi_t).
	<INTEGER> can be of any valid expression form, and may contain N letter(s) as a placeholder
	for the current processing candidate number.

	* stage2.c, pp1.c, pm1.c:
	Modifications to allow screen percentage ticks to run through a global function.
	That function will only update at the proper delay, or possibly NOT show anything at all

	* main.c:
	Modifications to allow screen percentage ticks to run through a global function.
	That function will only update at the proper delay, or possibly NOT show anything at all
	The showscreenticks() and showscreenticks_change_stage() functions are in this source file.

	* ecm.h, ecm.c:
	Modifications to allow screen percentage ticks to run through a global function.
	That function will only update at the proper delay, or possibly NOT show anything at all

	* TODO:
	Added information about -ticdelay n  (note ticdelay -1 turns off the percentage done stuff).
	Any other n value simply is the number of ms between percentage done stderr updates.

2004-01-12  jim  <jfoug>

	* smartprp.c: Bug in the hex escape sequence parser in the -prp cmd

	* README: Added explanation of the escape %xH[H] to the -prp cmd

	* smartprp.c: Added the excape %xH[H] to the -prp cmd  cmd parsing.

2004-01-12  paul  <zimmerma>

	* smartprp.c: new file (added for Jim)

2004-01-12  jim  <jfoug>

	* ecm.h:
	Updated beta version and added new declarations for the smart prp function

	* main.c:
	Use the new "smart" prp function and parse the new -prp* command args

	* candi.c: Use the new "smart" prp function

	* Makefile:
	Updated with new smartprp.c (and updated DIST to be all .c files)

	* README:
	Added new section about exteral spawned prp app, and added to the command line section

	* ChangeLog: Added info about changes since 5.1-beta
	(Hex expressions and VC porting in 5.1.1-beta)
	(External PRP program spawning in 5.1.2-beta)

2004-01-12  paul  <zimmerma>

	* ecm.h, eval.c, main.c, pm1.c, pp1.c, candi.c:
	number of primality loops is now controlled by PROBAB_PRIME_TESTS (ecm.h)

2004-01-09  laurent  <fousse>

	* main.c:
	Fixed "warning: C++ style comments are not allowed in ISO C90"

2004-01-09  jim  <jfoug>

	* auxi.c, resume.c, trial.c, main.c: Porting needed for VC to build

	* median.c: Port change needed to compile under VC

	* ecm-gmp.h:
	Porting needed for VC to build  This latest change taken from the latest (4.1.2) GMP's gmp-impl.h file.

	* eval.c, candi.c, bestd.c: Porting needed for VC to build

	* ecm.h:
	Bumped up beta version number.  This version has hex number handling in expressions, and is ported to VC

2004-01-06  jim  <jfoug>

	* eval.c: Added handling of Hex numbers to the expression parser.

	* median.c: Modified to build under MinGW (and VC)

	* bestd.c: Modified to comiple under MinGW

2003-12-12  paul  <zimmerma>

	* polyeval.c: changed copyright line

	* Makefile, bestd.c, ecm.h, listz.c, median.c, polyeval.c, stage2.c:
	several improvements in polyeval_tellegen (now default)

2003-12-11  paul  <zimmerma>

	* ecm.h, median.c, polyeval.c, bestd.c:
	added option -DCHECK_MULS to check number of muls

	* stage2.c: added warning when estimated and computed muls differ

	* polyeval.c: a factor of 2 was missing in muls_tuptree (case l=m)

	* median.c: now muls_tgen calls directly muls_gen

	* listz.c: replaced calls to toomcook4/toomcook4_low/toomcook4_high
	by calls to LIST_MULT_N/list_mul_low/list_mul_high

	* ecm.h:
	type of multiplication (kara, toom3, toom4) is now defined in ecm.h

	* bestd.c: replaced muls_toom4 by muls_gen

2003-12-10  laurent  <fousse>

	* polyeval.c: Multiplication accounting is added in polyeval_tellegen.

2003-12-09  laurent  <fousse>

	* stage2.c: Timing added when using polyeval_tellegen.

2003-12-09  paul  <zimmerma>

	* mpmod.c: changed temp1 -> temp2 in mpres_out_str

2003-12-09  laurent  <fousse>

	* ecm.h, median-aux.c, median.c, polyeval.c:
	Polyeval_tellegen now uses transposed Toom Cook.

2003-12-05  alex  <kruppa>

	* countsmooth.c:
	Reports values of lucky Brent-Suyama matches. Barely tested, beware!

2003-12-05  laurent  <fousse>

	* median.c: Used better ad hoc divisions by 2 and 3.

2003-12-04  laurent  <fousse>

	* median.c:
	Fixed bugs in transposed Toom Cook multiplication with weird argument
	sizes.

2003-12-03  alex  <kruppa>

	* Makefile, countsmooth.c:
	computes roots at 1 (mod 6). -pm1, -blocks and -ecm flags. Makefile target.

2003-12-03  laurent  <fousse>

	* Makefile, median.c: Transposed Toom-Cook3 should work now.

2003-12-02  alex  <kruppa>

	* countsmooth.c: Can use getprime() now.

	* countsmooth.c: Tool to count smooth values. Supports Brent-Suyama.

2003-12-01  alex  <kruppa>

	* TODO:
	Added Colin Percivals generalized DWT, moved rootsF [j*d, i] -> [j*d+1, i]
	to done.

2003-12-01  laurent  <fousse>

	* ecm.h, median.c, polyeval.c: Fixed muls_tkara.

2003-11-27  paul  <zimmerma>

	* TODO: added new entry

2003-11-27  laurent  <fousse>

	* Makefile, bestd.c, ecm.h, median.c, polyeval.c, stage2.c:
	Added a new multipoint evaluation function in stage2
	(polyeval_tellegen) with associated functions.
	#define POLYEVALTELLEGEN if you want to use it.

2003-11-26  paul  <zimmerma>

	* COPYING.LIB, Makefile: added COPYING.LIB (for ecm-gmp.h and memory.c)

2003-11-24  paul  <zimmerma>

	* test.ecm: put in sh syntax

	* stage2.c: comptue one more term of 1/F (needed for TupTree)

2003-11-19  paul  <zimmerma>

	* INSTALL: new timings for ppc

2003-11-18  paul  <zimmerma>

	* main.c: updated minimum sizes for potential champions

	* INSTALL: updated timings for ppc

2003-11-17  paul  <zimmerma>

	* INSTALL: added timings for ppc

2003-11-07  paul  <zimmerma>

	* ecm.h: new function mpres_realloc

	* ecm.c, ecm2.c: defined local procedures as 'static'

	* mpmod.c: mpz_mod_n now always assumes ALLOC(r) >= nn

	* stage2.c: check alloc. size of f (used as mpres_t)

	* test.ecm: added new tests for ecm-5.0.1 bug

2003-11-05  paul  <zimmerma>

	* ecm.h: changed some prototypes, added some others

	* toomcook.c: redirect directly to karatsuba in toom4

	* test.pp1: added newline before ok

	* test.pm1: added newline before ok message

	* test.ecm: ok message made similar to other tests

	* stage2.c: now compute estimated number of muls for stage2
	(and prints corresponding percentage)

	* polyeval.c: modified calls to RecursiveDivision

	* pm1.c: removed unused variable

	* mpmod.c:
	incorporated changes to fix ecm-5.0.1 bug (overflow in input of mpz_mod_n)

	* listz.c: new routines to compute short products (low and high)

	* check.mpl:
	new routines to determine numbers of muls of short products

	* bestd.c:
	completely rewritten (now determine the exact number of muls and not
		   an estimation)

	* TODO: removed several done items

2003-10-31  paul  <zimmerma>

	* test.ecm: added test for bug in 5.0.1

2003-10-20  paul  <zimmerma>

	* Makefile, auxi.c, bestd.c, candi.c, eval.c:
	changes suggested by Laurent Fousse to enable compilation with gcc 3.3.2

	* TODO: removed done item

2003-10-17  paul  <zimmerma>

	* ChangeLog, ecm.c, ecm.h, main.c, pm1.c, pp1.c, stage2.c, test.ecm, test.pp1:
	changed quiet mode (-q) to print all factors on same line (contributed by
	Laurent Fousse)

2003-10-16  paul  <zimmerma>

	* Makefile, bestd.c, ecm.h, ecm2.c, stage2.c, test.ecm, test.pm1, test.pp1:
	put in patch from Alex to solve "B2min too small" problem

2003-07-22  paul  <zimmerma>

	* TODO: added one item (-Q)

	* TODO: added one item

	* polyeval.c: fixed potential memory leak

2003-07-02  paul  <zimmerma>

	* bestdaux.c, candi.c, ecm2.c, eval.c, getprime.c, listz.c, main.c, ntl.c, pm1.c, stage2.c:
	added check for return value of malloc

2003-06-20  paul  <zimmerma>

	* Makefile, ntl.c:
	applied patches from Christian Cornelssen <ccorn@cs.tu-berlin.de>

	* stage2.c: moved check for overflow at the beginning

	* TODO: added suggestion from one user

2003-06-19  paul  <zimmerma>

	* TODO: added one item

2003-05-09  paul  <zimmerma>

	* main.c: smallest P+1 champion is now 37 digits

2003-04-22  alex  <kruppa>

	* Makefile, mul_lo.c, stage2.c: Changes to make building with NTL work

2003-04-22  paul  <zimmerma>

	* INSTALL: fixed typo

	* test_sh.ecm, test_sh.pm1, test_sh.pp1: now replaced by test.*

	* test.ecm, test.pm1, test.pp1: converted from csh to sh

	* Makefile: now only GMP is linked statically

2003-04-16  jim  <jfoug>

	* main.c: Changes for incremental saving (but commented out).

	* resume.c: Changes to incremental resuming (but it is commented out)

	* stage2.c, pp1.c: Stage 2 overflow fixes from 5.01

	* pm1.c: Stage 2 overflow fixes from 5.01
	Added some new logic for the incremental save/resume, but it is commented out.

	* ecm2.c: Stage 2 overflow fixes from 5.01

	* ecm.h: Stage 2 overflow fixes (from 5.01).

	* ecm.c: Partial resume code commented out for now.

	* test_sh.ecm, test_sh.pm1, test_sh.pp1, test.ecm, test.pp1, test.pm1:
	Added stage2 overflow test

	* Makefile: Added ChangeLog to EXTRADIST section

	* ChangeLog: Version 5.01 additional file to ECM project

	* INSTALL: Added new changes which were in release 5.01
	Added new information about MinGW32 timings (and compiling switches)

	* README: Updated to Pauls changes in 5.01

2003-04-11  paul  <zimmerma>

	* main.c: limit for P+1 champion is now 35 digits

2003-04-09  jim  <jfoug>

	* auxi.c:
	Failed to set the "first time flag" and convert the double to unsigned to fix a roundoff bug.

2003-04-05  alex  <kruppa>

	* mpmod.c: GMP prior to 4.1 does not have GMP_NUMB_BITS defined. Using
	__GMP_BITS_PER_MP_LIMB in that case.

	* resume.c:
	Bugfix: save file lines were not correct if both sigma and A value was
	given (a semikolon was missing).

2003-03-30  jim  <jfoug>

	* README:
	Added section 6 "ECM-GMP Expression syntax" (and adjusted original sections 6-10 to 7-11)
	Added docs about b1_ainc.c candi.c trial.c eval.c and the test_sh.* files which are newly added to version 5.1
	List trial div, expressions, and looping in section 2 (new major items since ecm4c).
	Added the -I f and -i n and -B2scale switches to section 3 (efficient use of ecm-gmp)
	Changed section 5 (memory usage) to list that in -b breadthfirst mode (the default for -inp),
	that the whole file is read into memory at one time, thus increasing memory footprint (but for good reasons).
	Added [-inp file] as an optional paramter (even though it is really an option), and list that the
	redirection of a file i.e. < file is now optional [ < file]. It is optional because of -inp file.
	Added -t n to "Options to control factorization method"
	Added -B2scale f to Options to control step 2
	Added -cofdec and -ve n to Options to control output
	Added info about incremental saving during B1 stage, and also documented that it is currently NOT working
	Added options "-i n", "-I f", "-n", "-nn", "-one" and "-b -d" to Miscellaneous options section.
	Added information that the first known problem has been eliminated (at least I know it is gone in my MinGW32 builds).
	Added 2 new "known problems" which are caused by the new stderr output for the 1 line output, and
	for the stage1/stage2 "percentage" done screen output (which btw, the stage2 percentage done is not
	yet done ;) The "second" of these new known problems is not a "certain" problem. It is one that
	someone (Paul) needs to look into and see how the interaction of this new stderr output works with
	the client server, and with things like nohup & under unix (I myself don't have access to any *nix shell)

	* main.c, pm1.c, pp1.c, ecm.h, ecm.c:
	Added a B2 scaling factor (user supplied multipler for calculated B2 values)

2003-03-25  jim  <jfoug>

	* ecm2.c:
	ecm.h was modified, but ecm2.c was missed and needed modified also.

	* resume.c:
	The incremental saving function has been neutered until it is working correctly in ecm/pm1/pp1 stage 1 functions.

	* main.c:
	Added -cofdef (forced cofactor in decimal even if an expression is "valid")
	Added a Cnnn "header" to the B1= .. line listing the length of the candidate (unless the candidate expression is explicitily listed)
	Fixed a couple of spots where the stderr 1 line output (in > redirection mode) was not erasing the prior line

	* auxi.c: Added high resulution timers to MinGW and MSVC builds.

2003-03-14  jim  <jfoug>

	* main.c:
	B2min was broken due to handling of the -i n and -I f auto incrementation code.

2003-03-14  paul  <zimmerma>

	* main.c: smallest top-ten P-1 has now 39 digits

	* test.pm1: B1 was too small in new test

	* pp1.c, stage2.c, test.pm1, pm1.c:
	added check for overflow in stage2 + test

	* ecm.h: changed "unsigned int" into "unsigned long" for s parameter

2003-03-12  paul  <zimmerma>

	* Makefile: added -pedantic

2003-03-12  jim  <jfoug>

	* main.c:
	On "usage" screen, had not renamed -a n to -i n, nor had -I f been added.
	Removed a C++ comment.

	* main.c: Removed C++ comment

	* resume.c, candi.c: Removed C++ comments

	* resume.c: Removed a couple C++ comments

	* pp1.c: Fixed Boo boo.

	* pm1.c: Fixed boo boo.

	* eval.c: Removed C++ comments

	* ecm.c: fixed boo boo.

	* b1_ainc.c, auxi.c: Removed some C++ comments

	* main.c:
	Changed default "shallow" mode factor finding to "deep" mode (continues to find more factors
	Removed the -deep command line switch
	Added command line switch -one (forces ECM back into shallow mode).
	-i file changed to -inp file.   -ib file removed.
	-i defaults to width-first and cat file | ecm b1 defaults to depth-first searching.
	added a -d for depth-first processing (to complement the -b breadth-first mode).
	Removed -a n  (constant B1 increment mode)
	Added -i n    (constant B1 increment mode)
	Added -I f    (Auto calculation (with scaling by f) B1 increment mode)
	Removed stage 1 precentage "setup" output.  That is now output in the 3 stage1 functions.

	* README:
	Added new options to document, but there is very little docmentation about them yet.  THIS IS STILL todo

	* TODO:
	Updated todo list with new items, and moved items that are done, or partly done

	* pp1.c: Finished stage 1 percentage counter

	* pm1.c: Finished stage1 percentage done

	* ecm.c:
	Completed percentage done in stage one, and removed 'setup' output for stage2

	* stage2.c: Added "starting" code for percentage counter on stage 2

	* ecm.h: Added declaration of B1 incrementation function

	* b1_ainc.c: Code to do auto-incrementation of B1.
	It works with a constant increment value, or
	it computes the "ideal" increment (based on current B1).
	It can also scale this calculated "ideal"

	* toomcook.c: Removed ABS define, since it is now in ecm.h

	* Makefile:
	Added new source file b1_ainc.c (does "auto" incrementation of B1 values)

2003-03-11  paul  <zimmerma>

	* main.c: changed P-1 champion limit

	* main.c, pp1.c:
	fixed problem with potential champions for -pp1, when it performs P-1

	* ecm-gmp.h, ecm.h: moved ABS to ecm.h

2003-03-07  jim  <jfoug>

	* TODO: Updated the % done item.

	* pp1.c, pm1.c: Added Stage 1 screen percentage updating.
	Added Stage 1 Auto incremental saving

	* main.c: Added -deep to trial factoring (actually added !(-deep)
	Added space after function calls to bring my code into existing coding specifications.

	* ecm.h: Added -deep command to trial factoring

	* trial.c:
	If we are not in -deep mode, then bail out after first factor is found

	* TODO:
	Added -qq for ultra quiet mode (i.e. for running under the client/server)

	* eval.c:
	Fixed bugs introduced removing C++'ism.  The max val needed to be adjusted before the
	realloc, or we would simply realloc the same sized buffer (and then overwrite it)

	* main.c: Placed the fprintf(T:000) back where it needed to be.
	Remove any temp AutoSaved B1 file since it is no longer needed.

	* candi.c: Wrong function title in the validation check logic.

	* ecm.c:
	Added "plumbing" for incremental AutoSaving of B1 (every 15 minutes) !!NOT YET WORKING CORRECTLY!!
	Changed 1:000 percentage screen updates to once every 30 seconds.

2003-03-07  paul  <zimmerma>

	* Makefile, ecm.h: changed version to 5.1-beta

2003-03-07  jim  <jfoug>

	* resume.c:
	Added const to char * in resume, and put an else so that sigma AND A could not both be written
	Created write_temp_resumefile() and kill_temp_resume_file() functions.

	* ecm.h:
	Added defines for write_temp_resumefile and kill_temp_resume_file (found in resume.c)
	Added spaces to my function declarations to more conform to the ecm standard.

	* eval.c:
	Added a strnicmp() function (in VC and MinGW, we use the native version)

	* TODO:
	Changed incremental saving and Percentage done to be partially done

2003-03-07  paul  <zimmerma>

	* ecm-gmp.h, ecm.c, eval.c, main.c, trial.c:
	fixed a few C++-specific idioms

2003-03-07  jim  <jfoug>

	* ecm.c: Stage 1 ECM code for 1:000 to 1:100 done and working fine.

	* trial.c:
	The "testing code" for the T:000 to T:100 was not quite in the right place

2003-03-06  jim  <jfoug>

	* main.c:
	Added some code to do T:000 to T:100 (and 1: 2:) "percentage done" output to stderr (i.e. dummy lights)
	Changed Factors= to factors= on the stderr line
	in Breadthfirst mode, now show "loop count" stderr line on first loop.
	in Breadthfirst mode, show the current line processing/total lines in file on the output line.

	* eval.c: Added C++ style sinle line comment to expression parser
	Now lines starting with '#' is a comment, and from where ever a // is found, to the end of a line is a comment.

	* TODO:
	Added information about 80 dots and how to do that with the existing stderr output of the lines/loops

	* trial.c:
	Added code to do T:000 to T:100 "percentage done" output to stderr (i.e. dummy lights)

	* ecm.h: Updated "internal" version to current interim build

2003-03-05  jim  <jfoug>

	* test_sh.pp1: P+1 Test script file (for borne shell)

	* test_sh.pm1: P-1 Test script file (for borne shell)

	* test_sh.ecm: ECM Test script file (for borne shell)

	* dummy:
	Bye bye dummy

	* dummy:
	Test for PauZ (and help for me)

2003-03-05  paul  <zimmerma>

	* candi.c, eval.c, trial.c: files from Jim

2003-03-04  jim  <jfoug>

	* main.c: LOT of changes.

	New switches:
	  -a n      (auto increment B1 after each loop)
	  -i file   (input file, not from stdin)
	  -ib file  (breadth-first looping)
	  -b        (breadth-first looping for stdin)
	  -deep     (continued factoring after a factor is found)
	  -n        (nice mode, only fully implemented in Win32)
	  -nn       (VERY nice mode, i.e. idle)
	  -t n      (trial factoring, up to n)
	  -ve n     (verbose expression printing, for expressions < n chars)

	The read_number() now calls the expression parser.  read_number is only
	  used to skip blank (or commented) lines.  The expression parser does the rest.

	Most changes took place in the "looping" code, since now we loop either width
	  first (the current 5.0 default), or "breadth-first", and since during looping
	  the program may handle found factors either "shallow" (the current default
	  5.0 mode), or -deep.

	* auxi.c: nb_bits now const.
	A MUCH improved rand generator for Win32

	* TODO:
	Expression parse done.  -nice done (not -kill).  a "key" added so that todo's and done's can be listed

	* ecm-gmp.h:
	alloc.h did not work with MinGW. The change was taken from a GMP header

	* ecm.h:
	Created mpcandi_t struction (for warehousing info about the candidate)
	Use the mpcandi_t object instead of simple mpz_t where it is needed
	Added functions from candi.c, eval.c, trial.c (and main.c since read_number is needed by resume code)
	Made nb_bits be const

	* resume.c: Use mpcand_t for candidate numbers
	Output expressions in save/resume file (if expression exists)
	Patches for MinGW and MSVC for machine name

	* Makefile: Added candi.c eval.c and trial.c to Makefile

2003-03-04  paul  <zimmerma>

	* main.c: check mp_bits_per_limb = GMP_NUMB_BITS

	* toomcook.c: rewrote comparison in toomcook4()

	* test.ecm: updated for new bestD()

	* stage2.c: use new bestD() function

	* main.c: new semantics of -k

	* README: new semantics for -k option

	* main.c: now default k is 0 (lower bound)

	* ecm.h: updated wrt changes in bestd.c

	* check.mpl: new functions to compute number of multiplies in step 2

	* bestd.c: new code using data generated by bestdaux.c

	* TODO: added several new items

	* Makefile, bestdaux.c:
	added bestdaux.c, auxiliary file to determine optimal parameters for bestd.c

2003-03-03  paul  <zimmerma>

	* INSTALL: updated timings for Athlon and EV6

	* README: added comments about probability wrt Table 1

	* tune.c: print MUL_KARATSUBA_THRESHOLD and DIV_DC_THRESHOLD

	* main.c: error when factor found is 1

	* TODO: added 3 items

	* mul_lo.c: put ecm.h after gmp-impl.h

	* ecm-gmp.h, ecm.h:
	now all thresholds are in ecm.h (should go after gmp-impl.h or ecm-gmp.h)

	* tune.c: fixed typo found by Christian Cornelssen

	* mpmod.c: changes from Christian Cornelssen to change thresholds

	* README: added info on "tune"

	* Makefile: use LDFLAGS for tune
	added tune in clean target

	* INSTALL: added info on Darwin

2003-02-28  paul  <zimmerma>

	* test.ecm: added tests for bug found by Jim

	* ecm.c: fixed bug found by Jim Fougeron

2003-02-24  paul  <zimmerma>

	* TODO: added 1 item

	* INSTALL, Makefile: get rid of -LNTL/... in Makefile
	added instructions for LDFLAGS/-D__freebsd in INSTALL

2003-02-24  alex  <kruppa>

	* pm1.c: Added comment to why we use Dickson(4), Dickson(6), x^12,..

2003-02-24  paul  <zimmerma>

	* TODO: updated

2003-02-23  alex  <kruppa>

	* README: small changes, notably maximum possible B1 for ECM and P+1.

2003-02-23  paul  <zimmerma>

	* ecm.c, main.c:
	now prints the *exact* number of digits for large numbers

	* TODO, listz.c: updated TODO
	changed list_gcd to use 'p' only at the end

	* README: stage -> step

	* Makefile, ecm.h: version is now 5.0

	* INSTALL: minor changes

	* memory.c: added tests_memory_status

	* mpmod.c: changed threshold for isbase2

	* resume.c: added space

2003-02-23  alex  <kruppa>

	* toomcook.c: Made indentation more Gnuish

	* main.c: Revered order of opening save and resume file

2003-02-23  paul  <zimmerma>

	* ecm.h: removed __gmp_default_free

	* listz.c: style editing

	* getprime.c: forgot to reinitialize offset

	* ecm.c: style editing
	static val -> non static

	* TODO: added 2 items

	* Makefile: CFLAGS not needed in link phase

2003-02-22  alex  <kruppa>

	* listz.c, lucas.c, main.c, mpmod.c, mul_lo.c, ntl.c, pm1.c, polyeval.c, polyz.c, pp1.c, resume.c, stage2.c, test.ecm, test.pm1, test.pp1, toomcook.c, tune.c, Makefile, TODO, auxi.c, bestd.c, ecm.c, ecm.h, ecm2.c, getprime.c:
	Changed copyright notice

	* auxi.c: Small cleanup of get_random_ui()

2003-02-21  alex  <kruppa>

	* main.c:
	Initialising comment etc. with empty string to avoid comment fields containig
	garbage being printed.

	* pp1.c: Using n^2-1 instead of n-1 for inclusion in stage 1.
	Unconditionally setting g to 1 afterwards to avoid including n^2-1 again
	later.

2003-02-20  alex  <kruppa>

	* README:
	Small changes. Comments on default values of k and Brent-Suyama updated.

	* ecm.h, mpmod.c: mpres_clear, mpres_set and mpres_swap are now macros

	* resume.c:
	addef fflush() after writing save file lines to avoid partial line in case
	of abort

	* main.c: Added test for existing save file

2003-02-20  paul  <zimmerma>

	* test.pm1: rm -> /bin/rm

	* README, ecm-gmp.h:
	put back #include <alloca.h> by default (unless __freebsd is defined)

	* ecm.h: defined macro FREE

	* pm1.c, pp1.c: don't print x0 when resume

	* memory.c: exported tests_free

	* main.c: __gmp_free_func -> FREE

	* ecm2.c: use variable for 2S+2

	* ecm.c: use fprintf for error

	* ecm-gmp.h: use alloca when __sun is defined

	* auxi.c: use macro FREE

	* TODO: added some items

	* README: added note about different -save and -resume names
	added note about alloca.h problems

	* Makefile: added -static

	* Makefile: more changes from Granlund

	* Makefile, ecm.h: changed version to 5.0-beta-pl3
	improved Makefile clean entry

2003-02-19  alex  <kruppa>

	* auxi.c: Made changes suggested by Torbjorn

	* ecm2.c: Fixed bug freeing unallocated vars in ecm_rootsG_init().
	(thanks again Torbjorn)

	* auxi.c, ecm.h, main.c: Better seed for RNG

2003-02-19  paul  <zimmerma>

	* Makefile, auxi.c, ecm-gmp.h: patches from Granlund for FreeBSD

	* Makefile, ecm-gmp.h, ecm.h, mpmod.c, test.ecm:
	put extract from gmp-impl.h in separate file (copyright is different)

2003-02-19  alex  <kruppa>

	* ecm.c, ecm.h, ecm2.c, mpmod.c, pm1.c, pp1.c, stage2.c:
	P-1 selects reasonable degree for Brent-Suyama if none given by user
	*_roots[FG] return number of multiplies used

2003-02-19  paul  <zimmerma>

	* stage2.c, test.ecm, README, TODO, main.c: added -c <count> option
	improved documentation

	* Makefile, ecm.h: changed version to ecm-5.0-beta-pl2

	* Makefile, ecm.c, ecm.h, ecm2.c, mpmod.c, pp1.c, stage2.c:
	fixed warnings with -W

	* test.pm1: forced remove

2003-02-18  paul  <zimmerma>

	* bestd.c, ecm2.c, lucas.c, main.c, memory.c, resume.c, stage2.c:
	changed stream back to stdout for factors found

	* README, TODO: note on B2 > 100*B1
	added items in TODO

2003-02-18  alex  <kruppa>

	* ecm.c:
	The temp variable "t" was passed around, but never actually used anywhere.
	Removed.

	* ecm.h, ecm2.c, mpmod.c, pm1.c, stage2.c, test.pm1:
	ECM and P-1 print a message if a factor is found during the computation of
	the roots of F or G and verbosity is >= 2
	Eliminated "comparison between signed and unsigned" warnings when compiling
	with -W
	Added a test for saving/resuming to test.pm1

2003-02-16  alex  <kruppa>

	* ecm.c: Added default values for Brent-Suyama's extension for ECM.

	* TODO: Added a suggestion from Jay Berg, and one from me

2003-02-16  paul  <zimmerma>

	* INSTALL, Makefile, README, TODO, bestd.c, ecm.c, ecm.h, main.c, mpmod.c, pm1.c, pp1.c, stage2.c, test.pm1, test.pp1:
	fixed several issues found by Jay Berg

2003-02-16  alex  <kruppa>

	* main.c:
	Fixed generation of random sigmas (new sigma for each input number)

2003-02-15  alex  <kruppa>

	* pm1.c:
	cascade_mul_ui replaced by cascade_mul_d to avoid nasty bug: the power of a
	small prime is accumulated and *then* passed to cascade_mul_ui, so that
	overflow would occur for B1 >= 2^32.

	* resume.c:
	Make read_resumefile_line less ugly. Also reads Prime95 v22 ECM residues
	now.
	The users name and machine name are written when saving to file.

2003-02-14  paul  <zimmerma>

	* README, TODO: remarks from Jay Berg

	* INSTALL, README: added advertizing for ECMNET

	* TODO, pm1.c: fixed problem with mul_casc (powerpc630-ibm-aix5.1.0.0)

	* Makefile, README: added c155 in distrib

	* Makefile, README, ecm.h: version is back to 5.0-beta
	added timings in README

	* Makefile: missing tab

	* Makefile: get rid of recursive make

	* mpmod.c, mul_lo.c: __GMP_BITS_PER_MP_LIMB -> GMP_NUMB_BITS
	use inline only with gcc

	* INSTALL: moved comments about CC/CFLAGS

	* c155: test number for ecm efficiency

	* INSTALL: added comment about CC/CFLAGS

	* resume.c:
	changed char c to int c in freadstrn (otherwise c != EOF always true
	on irix64)

	* mpmod.c: put back reduction in mpres_add/sub

	* Makefile: transfer LD in recursive make

	* mpmod.c:
	fixed two problems (missing include alloca.h, add_nc not always defined)

	* pm1.c: include gmp-mparam.h only when WANT_GMP_IMPL

	* ecm.h, listz.c, polyeval.c: now list_mul_z also reduces mod modulus

	* pm1.c: fixed typo

	* mpmod.c:
	now mpz_mod_n takes both source and destination, to avoid copies

	* main.c: added -primetest option

	* listz.c: added function to check size of residues (DEBUG)

	* ecm.c: used swap in add3 to avoid copies

	* TODO: removed done item (-primetest)

2003-02-13  paul  <zimmerma>

	* Makefile, ecm.h: changed version

	* mul_lo.c, pp1.c, stage2.c, mpmod.c: minor editing

	* main.c: updated on-line help

	* listz.c: added missing space

	* cputime.h: now in auxi.c

	* TODO: removed 2 done items

	* README: updated with -resume, new files, etc

	* ecm.h, main.c, mpmod.c, pm1.c, pp1.c, ecm.c:
	implemented -nobase2 option

	* mpmod.c, mul_lo.c: got rid of gmp-impl.h
	(if WANT_GMP_IMPL not defined)

	* Makefile: removed -pedantic
	now -DPOLYEVAL is no longer needed (it is the default)

	* ecm.h: define MUL_KARATSUBA_THRESHOLD (if not already)
	define POLYEVAL (if not POLYGCD)

	* main.c:
	replaced #ifdef POLYEVAL by #ifndef POLYGCD (now POLYEVAL is the default)

2003-02-13  alex  <kruppa>

	* main.c:
	Small change to "Usage" text: added remark that -resume can read from stdin.

2003-02-12  paul  <zimmerma>

	* main.c: updated on-line help

2003-02-12  alex  <kruppa>

	* resume.c: I'll try to stop violating my own specs.
	METHOD= values changed from PM1 and PP1 to P-1 and P+1.

2003-02-12  paul  <zimmerma>

	* mpmod.c: improved mpz_mod_n (gain of about 10%)

	* test.ecm: added -k for "extra" factor

	* TODO: removed done items

	* Makefile: removed mul_hi from tune target

	* mpmod.c: new REDC at mpn-level, using fast mpn_mul_lo

	* main.c: changed default number of blocks for POLYEVAL

	* ecm.h: added prototype for mul_lo

	* README: added "how to get the best of GMP-ECM"

	* mul_lo.c: low-half multiplication

	* tune.c: to tune mpmod algorithms

	* Makefile: added mul_lo and tune

	* stage2.c: removed number of muls without -v

	* Makefile: replaced CXX by LD when appropriate

2003-02-12  alex  <kruppa>

	* resume.c: Routines for saving/resuming residues

2003-02-12  paul  <zimmerma>

	* stage2.c: fixed another memory leak

	* stage2.c: fixed memory leak

	* pm1.c: added default POWM_THRESHOLD

2003-02-11  alex  <kruppa>

	* test.ecm, test.pm1, test.pp1:
	Modified test suites to work with new command line paramters

	* Makefile, ecm.c, ecm.h, ecm2.c, main.c, pm1.c, pp1.c, stage2.c, test.ecm:
	Added -resume option.
	Sigma, the A paramter and starting point are now specified by the command
	line option -sigma, -A and -x0.

2003-02-08  paul  <zimmerma>

	* INSTALL: added comment about editing Makefile

2003-02-06  alex  <kruppa>

	* toomcook.c: Changed copyright.

2003-02-06  paul  <zimmerma>

	* mpmod.c: added mpn-version of REDC

	* Makefile: ecm5 -> ecm

	* test.pm1: put missing |

	* Makefile: removed -static

2003-02-05  paul  <zimmerma>

	* TODO: added one item

	* mpmod.c: added cast to mp_limb_t

	* Makefile: added GMP= and NTL= in recursive make call

	* Makefile: updated VERSION

	* INSTALL, README, ecm.h: version is now 5.0-beta
	updated INSTALL and README

	* main.c: use ECM_VERSION for -save

	* test.ecm, test.pm1: removed too long tests

	* TODO: added item for long term

	* toomcook.c: added spaces

	* test.ecm, test.pm1, test.pp1: added license

	* stage2.c: removed #ifdef INVF (now INVF always used)
	added B2min
	added total count of muls

	* pp1.c: added B2min

	* polyz.c: removed/commented unused code

	* polyeval.c: added count of muls

	* pm1.c: updated copyright line
	added B2min

	* ntl.c: updated copyright line

	* mpmod.c: fixed efficiency problem in mpz_mod_n

	* memory.c: updated document origin

	* main.c: added champion treatment
	allow rational seed
	added B2min

	* lucas.c, listz.c, getprime.c: updated copyright line

	* ecm2.c: updated copyright line
	removed unused code

	* ecm.h: added licence
	modified prototypes to include B2min

	* ecm.c: updated copyright line
	added B2min in args to ecm()

	* bestd.c: updated copyright line

	* auxi.c: updated copyright line
	added cputime (from cputime.h, now removed)

	* TODO: removed items done

	* README: added explanation on
	- how to use P-1, P+1, ECM
	- table of optimal B1, B2
	- memory usage
	- option -save

	* Makefile: added licence
	moved polyz.c in EXTRAFILES

	* INSTALL: updated (NTL not needed any more)

2003-02-04  paul  <zimmerma>

	* polyeval.c: implement algorithm POLYEVAL

	* stage2.c: adapted for polyeval

	* polyz.c: commented poly_gcd when POLYEVAL

	* mpmod.c: cosmetic changes

	* listz.c:
	several changes for polyeval, in particular modified PolyFromRoots
	to complete the whole product tree

	* ecm.h: several changes for polyeval

	* auxi.c: added ceil_log2

	* Makefile:
	adapted to allow both compilation with NTL (POLYGCD=1) and without (default)

	* test.ecm: added -k option to one test with g1 > B2

	* TODO: added one item

	* main.c: added -power in on-line help

	* main.c: added option -power

2003-01-30  alex  <kruppa>

	* ecm.c, ecm.h, ecm2.c, main.c, mpmod.c, pm1.c, pp1.c, stage2.c:
	Command line option -dickson to control whether Dickson polys are used or
	not.
	Factors found in ecm_rootsG are handeled properly.
	Added checksum to save file lines.

2003-01-29  alex  <kruppa>

	* main.c, pm1.c, pp1.c:
	P-1 and P+1 are again exponentiating by N-1 and the default seed for P-1 is
	random again, which I had disabled during test runs.

2003-01-27  alex  <kruppa>

	* mpmod.c, pm1.c, pp1.c, stage2.c, ecm.c, ecm.h, ecm2.c, main.c:
	Choosing the modulo reduction algorithm inside the different factoring
	algos now, residue and modulus passed to pm1(), pp1() and ecm() are mpz_t
	again.

	Initialisation for different mod algos are separate functions now to allow
	specifically choosing one.  New command line paramters added for doing so.

2003-01-27  paul  <zimmerma>

	* mpmod.c: added explicit casts for 64-bit machines

	* main.c: char -> int for return value of getchar()

2003-01-13  alex  <kruppa>

	* ecm.h, mpmod.c: Another attempt to check in the MODMULN code.

2003-01-12  alex  <kruppa>

	* pp1.c: Fixed typo and a small memory leak in rootsG_init/clear.

2003-01-10  paul  <zimmerma>

	* Makefile: added mpmod.{c,o}

2003-01-03  alex  <kruppa>

	* mpmod.c:
	Basic functionality for modular arithmetic. Plain mpz_mod, base-2 and REDC
	are implemented. MULMODN is to follow.

	* listz.c, lucas.c, main.c, memory.c, pm1.c, pp1.c, stage2.c, ecm.c, ecm.h, ecm2.c:
	Changes for using mpmod arithmetic. Moved computation of roots of F and G
	into ecm2.c, pp1.c and pm1.c, respectively.

2002-12-20  paul  <zimmerma>

	* stage2.c: comments should be in standard C format /* ... */
	and not in C++ format // ...

2002-12-19  alex  <kruppa>

	* auxi.c, ecm.h, stage2.c:
	Basic functions for Dickman's polynomials. Not enabled yet.

2002-12-17  paul  <zimmerma>

	* test.ecm: test file for ecm (from ecm4c)

	* check.mpl: added useful routines for ecm

	* stage2.c: adapted for ecm stage 2

	* main.c: removed temporary try with MPM

	* pp1.c: added computation of multiplies
	added routine to check if factor found by P-1 or P+1
	now always uses PRAC

	* polyz.c: inhibit memory check functions during NTL call

	* pm1.c: adapted to generic stage 2

	* main.c: added memory check functions (with -DDEBUG)
	fixed some memory leaks

	* lucas.c: started to adapt to generic modular multiplication

	* listz.c: put mpz_mulmod macro in ecm.h

	* ecm.h: modified for ecm stage 2

	* ecm.c: adapted for stage 2

	* TODO: removed 2 items

	* ecm2.c: functions for ecm stage 2

	* Makefile: added ecm2.c and memory.c

	* memory.c: file to check memory allocation

2002-12-06  paul  <zimmerma>

	* pm1.c, pp1.c, ecm.c: added fflush() after "Using sigma/seed=..."

	* TODO: added format proposal for save/restore

	* TODO: changed one item

	* TODO: added 4 items

2002-12-05  alex  <kruppa>

	* ecm.c, ecm.h, main.c, pm1.c, pp1.c, stage2.c:
	Support for save files half finished.
	Factors are returned in a new variable, f. p is only for passing residues
	around, and stage2() must not change p.
	New parameter: B1done, which tells factoring functions up to which bound
	stage 1 has been completed before.
	Save files can be created, but not read in yet.

2002-12-03  paul  <zimmerma>

	* Makefile: aux.c -> auxi.c

2002-11-30  paul  <zimmerma>

	* aux.c, auxi.c: renamed aux.c to auxi.c (problems under Windows)

2002-11-29  paul  <zimmerma>

	* pp1.c: get rid of count_leading_zeros

	* Makefile, lucas.c: added file lucas.c

	* stage2.c: changed order of operands in pp1_mul

	* pp1.c: now uses Lucas sequences when PRAC is defined

	* main.c: defined B1cost for ECM

	* ecm.h: changed order of arguments of pp1_mul_ui for consistency
	added prototype for pp1_mul_prac

	* ecm.c: cosmetic changes

	* TODO: added several items

2002-11-28  paul  <zimmerma>

	* INSTALL, Makefile, README: added INSTALL file

	* pp1.c, stage2.c:
	use pp1_mul instead of pp1_mul_ui to avoid depending on longlong.h

	* Makefile:
	put /usr/local/gmp and /usr/local/ntl as default directories for GMP and NTL

	* toomcook.c: changed <gmp.h> to "gmp.h" for consistency

	* ecm.h, main.c, pm1.c, pp1.c:
	now use random seed for all methods when sigma=0
	use getpid() in addition of time() for random seed

2002-11-27  paul  <zimmerma>

	* pp1.c: fixed bug in pp1_mul_ui

2002-11-26  alex  <kruppa>

	* ecm.c, main.c, pm1.c, pp1.c:
	Cleaned up handling of default values and method-specific screen output.

2002-11-26  paul  <zimmerma>

	* test.pp1: test file for Williams P+1

	* pp1.c: Williams P+1 method

	* stage2.c: adapted for P+1

	* ecm.h: added prototypes for P+1
	added 'method' argument to stage2 functions

	* pm1.c: passed method=PM1_METHOD to stage2() call

	* main.c: added P+1

	* ecm.c: added method in stage2() call

	* README: todo in a separate file
	updated

	* TODO: TODO file :-)

	* Makefile: added pp1.c

2002-11-25  paul  <zimmerma>

	* ecm.h, listz.c, stage2.c:
	added INVF trick (precomputation of 1/F to speed up divisions by F)

	* check.mpl: added auxiliary functions to compute numbers of multiplies
	of karatsuba, toomcook3, toomcook4

	* README: removed one item done in TODO, added one more

2002-11-24  alex  <kruppa>

	* toomcook.c:
	Proof for temp space now reflects the reduced memory requirements of
	toomcook3(). No change to code itself.

2002-11-19  paul  <zimmerma>

	* ecm.h, listz.c: karatsuba() returns int again

2002-11-19  alex  <kruppa>

	* ecm.c, ecm.h, main.c: Added ECM stage 1.
	In ecm.h, return type of karatsuba changed to void again, to match karatsuba
	in listz.c.

	* listz.c: Toom-Cook 4 is default again.
	buildG now prints timing info to stdout instead of stderr.

2002-11-15  paul  <zimmerma>

	* ecm.h: return type changed to int

	* toomcook.c:
	optimized karatsuba/toomcook3/toomcook4 thresholds for minimum of scalar
	multiplies

	* test.pm1: added one test

2002-11-14  paul  <zimmerma>

	* main.c:
	replaced __GNU_MP_VERSION etc by gmp_version (better for dynamic library)

	* Makefile: removed -static

2002-11-07  alex  <kruppa>

	* ecm.h, toomcook.c:
	Bug: forgot to change definition of T in toomcook.c, so the temp space
	required still was 2*len+4*log_3(len). Oddly, it did not crash.
	Fixed (the "too much space" problem, not "the did not crash" problem).

2002-11-06  alex  <kruppa>

	* listz.c, toomcook.c:
	toomcook[34]() use <= 2*len+2*log_3(len) temp space now

2002-11-05  paul  <zimmerma>

	* check.mpl: included Williams P+1 stage 1 code and test inputs

	* ecm.h, main.c, pm1.c, stage2.c: replaced INVS macros by if-statements
	(use the x+1/x trick whenever Pollard P-1 is performed)

	* main.c:
	changed default choice of B2 so that stage 2 takes about half of stage 1
	(assuming Toom-Cook 3 is used)

	* test.pm1: added 3 more tests
	changed -e 6 into -e 12 (if "invs" trick not used)

	* stage2.c: added INVS macro to enable "invs" trick

	* pm1.c: added trick from Peter for Cunningham numbers

	* main.c: changed default k to 7
	set default S to 1 for ecm, 2 for Pollard (without INVS)

	* listz.c: only style changes

2002-11-04  alex  <kruppa>

	* ecm.h, listz.c, toomcook.c: Added toomcook4().

2002-11-01  alex  <kruppa>

	* test.pm1:
	Added a factor that was missed by old polygcd code to test cases

2002-10-29  alex  <kruppa>

	* ecm.h, stage2.c, test.pm1:
	rootsG uses batch inversion for large Suyamas powers.
	Tried to make indentation coherent.

2002-10-28  alex  <kruppa>

	* stage2.c: Fixed bad merge, T was allocated twice

2002-10-27  alex  <kruppa>

	* ecm.c, ecm.h, listz.c, main.c, pm1.c, stage2.c:
	Added Suyamas powers for stage 2.

2002-10-25  alex  <kruppa>

	* toomcook.c:
	Added GPL header. Cleaned up comments a little. No change to code itself.

2002-10-25  paul  <zimmerma>

	* check.mpl: added function to compute Toom-Cook 3 auxiliary space

	* toomcook.c: edited according to GNU coding style
	and added analysis of temp. space needed

	* stage2.c: modified memory space for T

	* main.c: put back sigma=17 as initial value for P-1

	* listz.c: incorporated toomcook3 code from Alex

	* ecm.h: added prototype for toomcook3

	* Makefile: added toomcook.c

	* test.pm1: added one test

	* stage2.c: fixed bug in rootsG (G[0] was not set)

	* test.pm1: test file for Pollard P-1

	* poly.c: replaced by listz.c (lists) and polyz.c (polynomials)

	* polyz.c: routines for polynomials of integers (mpz_t)

	* listz.c: routines for arrays of mpz_t's

	* ntl.c: NTL interface (first version)

	* stage2.c, pm1.c: added verbose flag

	* main.c: adapted for NTL interface

	* getprime.c: fixed problems with signed/unsigned integers

	* ecm.h: modified for NTL interface

	* ecm.c: added verbose flag

	* check.mpl: added routine for Pollard P-1 stage 1

	* bestd.c: added missing stdlib.h

	* aux.c: added missing string.h

	* README: gcd stuff is ok now (using NTL)

	* Makefile: adapted for NTL interface

2002-10-24  paul  <zimmerma>

	* toomcook.c: Toom-Cook 3-way code from Alexander Kruppa

2002-09-13  paul  <zimmerma>

	* COPYING: New file.

	* COPYING: first version

	* Makefile, README, aux.c, bestd.c, check.mpl, cputime.h, ecm.c, ecm.h, getprime.c, main.c, pm1.c, poly.c, stage2.c:
	New file.

	* Makefile, README, aux.c, bestd.c, check.mpl, cputime.h, ecm.c, ecm.h, getprime.c, main.c, pm1.c, poly.c, stage2.c:
	first version

